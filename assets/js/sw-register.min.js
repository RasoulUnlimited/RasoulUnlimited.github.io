!function(){"use strict";if(!("serviceWorker"in navigator))return;if(!window.isSecureContext)return void console.warn("Service workers require a secure context (HTTPS or localhost).");const e=(document.documentElement.getAttribute("lang")||"").toLowerCase(),n=(navigator.language||"").toLowerCase(),t=0===(e||n).indexOf("fa");function r(e){"function"==typeof window.createToast&&window.createToast(e)}function o(){r(t?"پشتیبانی آفلاین فعال شد":"Offline support enabled")}function i(){r(t?"نسخهٔ جدید در دسترس است. برای بروزرسانی صفحه را تازه کنید.":"New version available. Refresh to update.")}function a(e){e&&e.addEventListener("statechange",function n(){"installed"===e.state&&(navigator.serviceWorker.controller?i():o(),e.removeEventListener("statechange",n))})}function c(e){e&&(e.waiting&&i(),a(e.installing),"function"==typeof e.addEventListener&&e.addEventListener("updatefound",function(){a(e.installing)}),navigator.serviceWorker.controller||navigator.serviceWorker.ready.then(function(){navigator.serviceWorker.controller||o()}).catch(function(){}),navigator.serviceWorker.addEventListener("controllerchange",function(){}))}window.addEventListener("load",function(){navigator.serviceWorker.register("/sw.js").then(c).catch(function(e){console.error("Service Worker registration failed:",e)})})}();
//# sourceMappingURL=sw-register.min.js.map
