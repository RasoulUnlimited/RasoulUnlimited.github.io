!function(){"use strict";if(!("serviceWorker"in navigator))return;if(!window.isSecureContext)return void console.warn("Service workers require a secure context (HTTPS or localhost).");const e=0===(document.documentElement.getAttribute("lang")||"").toLowerCase().indexOf("fa");function t(e){"function"==typeof window.createToast&&window.createToast(e)}function n(){t(e?"پشتیبانی آفلاین فعال شد":"Offline support enabled")}function o(){t(e?"نسخهٔ جدید در دسترس است. برای بروزرسانی صفحه را تازه کنید.":"New version available. Refresh to update.")}function r(e){e.active&&n(),e.waiting&&o(),e.addEventListener("updatefound",function(){const t=e.installing;t&&t.addEventListener("statechange",function(){"installed"===t.state&&(navigator.serviceWorker.controller?o():n())})})}window.addEventListener("load",function(){navigator.serviceWorker.register("/sw.js").then(r).catch(function(e){console.error("Service Worker registration failed:",e)})})}();
//# sourceMappingURL=sw-register.min.js.map
