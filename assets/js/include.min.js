async function includeHTML(e){const t=document.querySelectorAll("[data-include-html]"),n=[];for(const e of t){const t=e.getAttribute("data-include-html");if(!t)continue;const a=fetch(t).then(e=>e.text()).then(n=>{if(e.innerHTML=n,t.includes("footer.html")){const t=e.querySelector("#footer-year");t&&(t.textContent=(new Date).getFullYear())}}).catch(e=>console.error("Include error:",e));n.push(a)}await Promise.all(n),"function"==typeof e&&e()}function setActiveNavLink(){const e=e=>e.replace(/\/index\.html$/,"/").replace(/\/$/,"/"),t=e(window.location.pathname);document.querySelectorAll(".navbar nav a").forEach(n=>{const a=e(new URL(n.href).pathname)===t;n.classList.toggle("active",a),a?n.setAttribute("aria-current","page"):n.removeAttribute("aria-current"),n.parentElement&&"LI"===n.parentElement.tagName&&n.parentElement.classList.toggle("active",a)})}document.addEventListener("DOMContentLoaded",()=>{includeHTML(()=>{setActiveNavLink(),document.dispatchEvent(new Event("includesLoaded"))})});