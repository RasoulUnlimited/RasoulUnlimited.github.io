!function(){"use strict";async function t(t){const e=document.querySelectorAll("[data-include-html]");if(!e.length){if("function"==typeof t)try{t()}catch(t){console.error("includeHTML callback error:",t)}return}const r=[];for(const t of e){const e=t.getAttribute("data-include-html");if(!e)continue;t.removeAttribute("data-include-html");const n=fetch(e).then(t=>{if(!t.ok)throw new Error(`HTTP ${t.status} for ${e}`);return t.text()}).then(r=>{const n=(new DOMParser).parseFromString(r,"text/html");if(n.body&&n.body.firstChild&&"parsererror"===n.body.firstChild.nodeName)throw new Error(`Failed to parse HTML for ${e}`);for(;n.body&&n.body.firstChild;)t.appendChild(n.body.firstChild);if(/footer\.html$/i.test(e)){const e=t.querySelector("#footer-year")||t.querySelector("#current-year");e&&(e.textContent=String((new Date).getFullYear()))}t.querySelectorAll("script").forEach(t=>{const e=document.createElement("script");for(const r of t.attributes)e.setAttribute(r.name,r.value);t.src?e.src=t.src:e.textContent=t.textContent,t.parentNode.replaceChild(e,t)})}).catch(t=>{console.error("Include error for",e,t)});r.push(n)}if(await Promise.all(r),"function"==typeof t)try{t()}catch(t){console.error("includeHTML callback error:",t)}}function e(){const t=t=>t.replace(/\/index\.html$/i,"/").replace(/\/+$/,"/")||"/",e=t(window.location.pathname);document.querySelectorAll(".navbar nav a").forEach(r=>{const n=r.getAttribute("href")||"";if(n.startsWith("#")||n.startsWith("mailto:")||n.startsWith("javascript:"))return r.classList.remove("active"),r.removeAttribute("aria-current"),void(r.parentElement&&"LI"===r.parentElement.tagName&&r.parentElement.classList.remove("active"));let o;try{const e=new URL(n,window.location.origin);o=t(e.pathname)}catch(t){o=""}const a=o===e;r.classList.toggle("active",a),a?r.setAttribute("aria-current","page"):r.removeAttribute("aria-current"),r.parentElement&&"LI"===r.parentElement.tagName&&r.parentElement.classList.toggle("active",a)})}document.addEventListener("DOMContentLoaded",()=>{t(()=>{e(),document.dispatchEvent(new Event("includesLoaded"))})}),window.includeHTML=t}();