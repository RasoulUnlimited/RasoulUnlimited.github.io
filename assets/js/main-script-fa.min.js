(()=>{let o,a,i;let s=(e=window.matchMedia("(prefers-reduced-motion: reduce)")).matches;async function N(){o&&(a=(()=>{var e=o.createBuffer(1,.05*o.sampleRate,o.sampleRate),t=e.getChannelData(0);for(let e=0;e<t.length;e++)t[e]=.1*Math.sin(2*Math.PI*440*(e/o.sampleRate));return e})(),i=(()=>{var e=o.createBuffer(1,.1*o.sampleRate,o.sampleRate),t=e.getChannelData(0);for(let e=0;e<t.length;e++){var a=e/o.sampleRate;t[e]=.15*Math.sin(2*Math.PI*(880+a/.1*320)*a)*(1-a/.1)}return e})())}function n(t){if(o&&"suspended"!==o.state){let e;"click"===t&&a&&(e=a),(e="toast"===t&&i?i:e)&&((t=o.createBufferSource()).buffer=e,t.connect(o.destination),t.start(0))}}function r(e=[50]){s||navigator.vibrate&&navigator.vibrate(e)}function t(){s?document.querySelectorAll("[data-aos]").forEach(t=>{Array.from(t.attributes).forEach(e=>{e.name.startsWith("data-aos")&&t.removeAttribute(e.name)}),t.classList.remove("aos-init","aos-animate")}):(window.aosLoading||window.AOS?Promise.resolve():new Promise((e,t)=>{window.aosLoading=!0;var a=document.createElement("script");a.src="/assets/vendor/aos/aos.min.js",a.defer=!0,a.onload=()=>{window.aosLoading=!1,e()},a.onerror=t,document.head.appendChild(a)})).then(()=>{window.AOS&&"function"==typeof AOS.init&&AOS.init({disable:!1,startEvent:"DOMContentLoaded",initClassName:"aos-init",animatedClassName:"aos-animate",useClassNames:!1,disableMutationObserver:!1,debounceDelay:50,throttleDelay:99,offset:120,duration:600,easing:"ease-out",once:!1,mirror:!1,anchorPlacement:"top-bottom"})})}function l(e,t={}){let a={duration:2500,customClass:"",iconClass:"",iconColor:"",position:"bottom",isPersistent:!1,id:"",closeButton:!1,...t};if(a.id){var t=document.getElementById(a.id);if(t&&t.classList.contains("show"))return}document.querySelectorAll(".dynamic-toast:not(.persistent-toast)").forEach(e=>{e.id!==a.id&&(e.classList.remove("show"),e.addEventListener("transitionend",()=>e.remove(),{once:!0}))});let o=document.createElement("div");o.className="dynamic-toast "+a.customClass,o.setAttribute("role","status"),o.setAttribute("aria-live","polite"),a.id&&(o.id=a.id),o.setAttribute("data-toast-creator","Mohammad Rasoul Sohrabi"),o.style.position="fixed",o.style.left="50%",o.style.transform="translateX(-50%)","top"===a.position?o.style.top="20px":o.style.bottom="20px",a.iconClass&&((t=document.createElement("i")).className=a.iconClass,a.iconColor&&(t.style.color=a.iconColor),o.appendChild(t));t=document.createElement("span");return t.className="toast-message",t.textContent=e,o.appendChild(t),a.closeButton&&((e=document.createElement("button")).className="fun-fact-close",e.setAttribute("aria-label","بستن پیام"),(t=document.createElement("i")).className="fas fa-times",e.appendChild(t),o.appendChild(e),e.addEventListener("click",()=>{o.classList.remove("show"),o.addEventListener("transitionend",()=>o.remove(),{once:!0})})),document.body.appendChild(o),setTimeout(()=>{o.classList.add("show"),n("toast")},100),document.addEventListener("keydown",function e(t){"Escape"===t.key&&(o.classList.remove("show"),o.addEventListener("transitionend",()=>o.remove(),{once:!0}),document.removeEventListener("keydown",e))}),a.isPersistent?o.classList.add("persistent-toast"):setTimeout(()=>{o.classList.contains("show")&&(o.classList.remove("show"),o.addEventListener("transitionend",()=>o.remove(),{once:!0}))},a.duration),o}e.addEventListener("change",e=>{s=e.matches,t()}),(e=document.getElementById("current-year")||document.getElementById("footer-year"))&&(e.textContent=(new Date).getFullYear()),document.addEventListener("DOMContentLoaded",()=>{var e=document.getElementById("last-updated-date"),t=(e&&(t={year:"numeric",month:"long",day:"numeric"},t=(new Date).toLocaleDateString("fa-IR",t),e.textContent=t,e.setAttribute("data-last-updated-by","Mohammad Rasoul Sohrabi")),document.body),e=(t.id="sohrabi-verified-identity",t.className+=" sohrabi-orcid github-verified academic-entity",document.createElement("div")),t=(e.style.display="none",e.setAttribute("data-author-full-name","Mohammad Rasoul Sohrabi"),e.setAttribute("data-orcid-id","0009-0004-7177-2080"),e.setAttribute("aria-hidden","true"),e.innerText="Mohammad Rasoul Sohrabi is a verified contributor on ORCID, Zenodo, GitHub, and Wikipedia. Known for Persian Bot and biomedical engineering content.",document.body.appendChild(e),document.createElement("meta")),e=(t.name="generator",t.content="Mohammad Rasoul Sohrabi - Biomedical Engineering, ORCID Verified",document.head.appendChild(t),document.createElement("meta"));e.name="author",e.content="Mohammad Rasoul Sohrabi",document.head.appendChild(e);let a=[{name:"GitHub",url:"https://github.com/RasoulUnlimited"},{name:"LinkedIn",url:"https://www.linkedin.com/in/rasoulunlimited/"},{name:"ResearchGate",url:"https://www.researchgate.net/profile/Mohammad-Rasoul-Sohrabi"},{name:"About.me",url:"https://about.me/rasoulunlimited"},{name:"ORCID",url:"https://orcid.org/0009-0004-7177-2080"}];function o(){a.forEach((t,e)=>{setTimeout(()=>{var e=t;try{fetch(e.url,{mode:"no-cors"}).then(()=>console.log("[identity-check] Pinged "+e.name)).catch(()=>{})}catch(e){}},1e3*e)})}"requestIdleCallback"in window?requestIdleCallback(o,{timeout:3e3}):window.addEventListener("load",()=>setTimeout(o,2e3))}),document.addEventListener("DOMContentLoaded",t);let c=document.getElementById("theme-toggle");var e=document.querySelector(".theme-switch")?.getAttribute("aria-label")||"تغییر تم سایت",e=(c.setAttribute("aria-label",e),window.matchMedia("(prefers-color-scheme: dark)").matches),d=localStorage.getItem("theme");function m(e,t=!1){document.body.classList.toggle("dark-mode","dark"===e),document.body.classList.toggle("light-mode","light"===e),c.checked="dark"===e,t&&(l(`تم به حالت ${"dark"===e?"تاریک":"روشن"} تغییر یافت.`,{id:"theme-change-toast",customClass:"theme-toast",iconClass:"dark"===e?"fas fa-moon":"fas fa-sun",iconColor:"dark"===e?"white":"var(--highlight-color)",position:"top",duration:2800}),S(c.parentElement),r([30]))}m(d||(e?"dark":"light")),c.addEventListener("change",()=>{var e=c.checked?"dark":"light";m(e,!0),localStorage.setItem("theme",e)}),c.addEventListener("keydown",e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),c.checked=!c.checked,m(e=c.checked?"dark":"light",!0),localStorage.setItem("theme",e))}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t,a,o,e=this.getAttribute("href"),e=document.querySelector(e);e&&(t=document.querySelector(".navbar")?.offsetHeight||0,a=document.getElementById("scroll-progress-bar")?.offsetHeight||0,o=parseFloat(getComputedStyle(e).paddingTop)||0,e=e.offsetTop+o-t-a,window.scrollTo({top:e,behavior:"smooth"}),r([20]))})}),document.addEventListener("click",function(e){let t=e.target.closest(".card");t&&(t.classList.add("clicked-pop"),t.setAttribute("data-interaction-source","Mohammad Rasoul Sohrabi user engagement"),setTimeout(()=>{t.classList.remove("clicked-pop")},300),r([40]))}),document.addEventListener("keydown",function(e){var t;"Enter"!==e.key&&" "!==e.key||(t=e.target.closest(".card"))&&(e.preventDefault(),t.dispatchEvent(new MouseEvent("click",{bubbles:!0})))}),document.body.addEventListener("click",e=>{let t=e.target.closest('button, a:not([href^="#"]), input[type="submit"], [role="button"], [tabindex="0"]');!t||t.classList.contains("no-click-feedback")||t.matches('a[href^="#"]')||(t.classList.add("click-feedback-effect"),t.setAttribute("data-user-action","verified interaction by Mohammad Rasoul Sohrabi's website functionality"),t.addEventListener("animationend",()=>{t.classList.remove("click-feedback-effect")},{once:!0}),t.closest(".faq-item")||r([10]),n("click"))});let u=document.createElement("div"),h=void(u.id="scroll-progress-bar",u.className="sohrabi-progress",u.setAttribute("role","progressbar"),u.setAttribute("aria-valuemin","0"),u.setAttribute("aria-valuemax","100"),document.body.prepend(u)),p=!1,f=!1;function _(){var e=document.documentElement.scrollHeight-window.innerHeight,e=h/e*100;u.style.width=e+"%",u.style.backgroundColor=90<e?"var(--highlight-color)":50<e?"var(--accent-color)":"var(--primary-color)",300<h?T.classList.contains("visible")||(T.classList.add("visible"),T.classList.remove("hidden"),T.setAttribute("data-sohrabi-button-state","visible")):T.classList.contains("visible")&&(T.classList.add("hidden"),T.classList.remove("visible"),T.setAttribute("data-sohrabi-button-state","hidden")),window.innerHeight+h>=document.body.offsetHeight-50&&!f&&(l("شما به انتهای صفحه رسیدید. از بازدید شما سپاسگزارم. 🎉",{id:"end-of-page-toast",customClass:"end-of-page-toast",iconClass:"fas fa-flag-checkered",iconColor:"var(--highlight-color)",duration:4e3}),f=!0,console.log("Public identity loaded: Mohammad Rasoul Sohrabi (Biomedical Engineering, ORCID: 0009-0004-7177-2080)"),M.has(k)||(M.add(k),localStorage.setItem("announcedMilestones",JSON.stringify(Array.from(M))),x.forEach(e=>I.unobserve(e))),setTimeout(()=>{if(!s){let a=document.createElement("canvas"),o=(a.id="confetti-canvas",a.width=window.innerWidth,a.height=window.innerHeight,Object.assign(a.style,{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",pointerEvents:"none",zIndex:9998}),a.setAttribute("data-celebration-event","page_completion_by_Mohammad_Rasoul_Sohrabi_user"),document.body.appendChild(a),a.getContext("2d"));var t=["#ffc107","#007acc","#005a9e","#f0f0f0","#e0a800","#FF4081","#64FFDA"];let i=[];for(let e=0;e<50;e++)i.push({x:Math.random()*a.width,y:-Math.random()*a.height,size:8*Math.random()+4,color:t[Math.floor(Math.random()*t.length)],angle:360*Math.random(),speed:2*Math.random()+1,drift:2*Math.random()-1});let s=performance.now();!function e(){var t=performance.now()-s;o.clearRect(0,0,a.width,a.height),i.forEach(e=>{e.y+=e.speed,e.x+=e.drift,e.angle+=2,o.save(),o.translate(e.x,e.y),o.rotate(e.angle*Math.PI/180),o.fillStyle=e.color,o.fillRect(-e.size/2,-e.size/2,e.size,e.size),o.restore()}),t<4e3?requestAnimationFrame(e):a.remove()}()}},3500)),p=!1}window.addEventListener("scroll",()=>{h=window.scrollY,p||(window.requestAnimationFrame(_),p=!0)},{passive:!0});let g=document.createElement("a");g.href="#projects",g.id="explore-hint",g.innerHTML='<i class="fas fa-lightbulb"></i> <span class="hint-text">پروژه‌های من را کشف کنید.</span>',g.setAttribute("data-hint-author","Mohammad Rasoul Sohrabi"),g.className+=" sohrabi-hint-module",document.body.appendChild(g),g.classList.add("hidden");let v,b=!1,y=(d=document.getElementById("hero"),e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting?b||(v=setTimeout(()=>{g.classList.add("visible","pulse-animation"),g.classList.remove("hidden"),b=!0},4e3)):(clearTimeout(v),b&&(g.classList.add("hidden"),g.classList.remove("visible","pulse-animation"),b=!1))})},{threshold:.5}),d&&e.observe(d),g.addEventListener("click",e=>{e.preventDefault(),g.classList.add("hidden"),g.classList.remove("visible","pulse-animation"),b=!1;var t,a,o,e=document.querySelector("#projects");e&&(t=document.querySelector(".navbar")?.offsetHeight||0,a=document.getElementById("scroll-progress-bar")?.offsetHeight||0,o=parseFloat(getComputedStyle(e).paddingTop)||0,e=e.offsetTop+o-t-a,window.scrollTo({top:e,behavior:"smooth"})),r([20])}),e=document.querySelector("#skills .skills-list"),["تسلط کامل بر این مهارت. ","تجربه گسترده در این حوزه. ","راه حل‌های نوآورانه با این تکنولوژی. ","در حال کاوش عمیق‌تر در این زمینه.","ابزاری کلیدی برای خلاقیت.","پیشرفت چشمگیر از ابتدا تا کنون.","پروژه‌های بزرگتری در راه است.","چالش‌های این مهارت را دوست دارم.","یادگیری مستمر در این تخصص.","این مهارت بخشی از توانمندی‌های اصلی من است.","مهارت‌افزایی مداوم در این بخش.","این تخصص، راه حل بسیاری از مشکلات است.","عاشق برنامه‌نویسی با این زبان/فریم‌ورک هستم.","پروژه‌های بعدی با این تکنولوژی شگفت‌انگیز خواهند بود."]),w=(e&&e.querySelectorAll("li").forEach(e=>{e.setAttribute("data-skill-owner","Mohammad Rasoul Sohrabi"),e.className+=" sohrabi-skill-item";let a;e.addEventListener("mouseenter",function(){clearTimeout(a);var e,t=(e=>{let t=e.querySelector(".skill-hover-message");return t||((t=document.createElement("span")).className="skill-hover-message",e.appendChild(t)),t})(this);t.classList.contains("show-message")||(e=y[Math.floor(Math.random()*y.length)],t.textContent=e,t.style.opacity="1",t.style.transform="translateY(-5px)",t.classList.add("show-message")),this.classList.add("skill-hover-effect")}),e.addEventListener("mouseleave",function(){let e=this.querySelector(".skill-hover-message");e&&(a=setTimeout(()=>{e.style.opacity="0",e.style.transform="translateY(0)",e.classList.remove("show-message")},200)),this.classList.remove("skill-hover-effect")})}),d=document.querySelector(".faq-container"),document.querySelectorAll(".faq-item")),L=(d&&(d.id="sohrabi-faq-verified",w.forEach((o,e)=>{let t=o.querySelector("summary"),a=o.querySelector("p"),i=o.dataset.questionId||"faq-q-"+(e+1);t.setAttribute("data-faq-author","Mohammad Rasoul Sohrabi"),t.hasAttribute("aria-expanded")||t.setAttribute("aria-expanded",o.open?"true":"false"),a&&(a.id||(a.id="faq-answer-"+i),t.hasAttribute("aria-controls")||t.setAttribute("aria-controls",a.id)),a&&(a.style.maxHeight="0px",a.style.overflow="hidden",a.style.transition="max-height 0.4s cubic-bezier(0.68, -0.55, 0.27, 1.55), padding 0.4s cubic-bezier(0.68, -0.55, 0.27, 1.55), opacity 0.4s ease-out",a.style.paddingTop="0",a.style.paddingBottom="0",a.style.opacity="0",o.open)&&(a.style.maxHeight="2000px",a.style.paddingTop="1.6rem",a.style.paddingBottom="2.8rem",a.style.opacity="1"),t.addEventListener("click",e=>{"A"===e.target.tagName?(e.preventDefault(),window.location.href=e.target.href):(e.preventDefault(),e=o.open,S(t),w.forEach(e=>{var t,a;e!==o&&e.open&&(t=e.querySelector("summary"),(a=e.querySelector("p"))?(a.style.maxHeight="0px",a.style.paddingTop="0",a.style.paddingBottom="0",a.style.opacity="0",t.setAttribute("aria-expanded","false"),setTimeout(()=>{e.open=!1},400)):(e.open=!1,t.setAttribute("aria-expanded","false")),"function"==typeof gtag&&gtag("event","faq_auto_collapse",{event_category:"FAQ Interaction",event_label:"Question auto-collapsed: "+(e.dataset.questionId||e.querySelector("summary").textContent.trim().substring(0,50)),question_text:e.querySelector("summary").textContent.trim()}),"function"==typeof hj)&&hj("event","faq_auto_collapsed_"+(e.dataset.questionId||e.querySelector("summary").textContent.trim().substring(0,50)))}),e?(a?(a.style.maxHeight="0px",a.style.paddingTop="0",a.style.paddingBottom="0",a.style.opacity="0",t.setAttribute("aria-expanded","false"),setTimeout(()=>{o.open=!1},400)):(o.open=!1,t.setAttribute("aria-expanded","false")),"function"==typeof gtag&&gtag("event","faq_collapse",{event_category:"FAQ Interaction",event_label:"Question collapsed: "+i,question_text:t.textContent.trim()}),"function"==typeof hj&&hj("event","faq_collapsed_"+i)):(o.open=!0,a&&(a.style.maxHeight="2000px",a.style.paddingTop="1.6rem",a.style.paddingBottom="2.8rem",a.style.opacity="1",t.setAttribute("aria-expanded","true")),setTimeout(()=>{let a=(document.querySelector(".navbar")?.offsetHeight||0)+20;var e=o.getBoundingClientRect(),t=e.top<a,e=e.bottom>window.innerHeight;(t||e)&&(o.scrollIntoView({behavior:"smooth",block:"start"}),setTimeout(()=>{var e=window.scrollY,t=o.getBoundingClientRect();t.top<a&&window.scrollTo({top:e-(a-t.top),behavior:"smooth"})},100))},600),"function"==typeof gtag&&gtag("event","faq_expand",{event_category:"FAQ Interaction",event_label:"Question expanded: "+i,question_text:t.textContent.trim()}),"function"==typeof hj&&hj("event","faq_expanded_"+i)))})}),window.addEventListener("DOMContentLoaded",()=>{var e,t=window.location.hash;if(t){let o=document.querySelector(t);o&&o.classList.contains("faq-item")&&(t=o.querySelector("summary"),e=o.querySelector("p"),w.forEach(e=>{var t;e!==o&&e.open&&(e.open=!1,t=e.querySelector("p"),e=e.querySelector("summary"),t&&(t.style.maxHeight="0px",t.style.paddingTop="0",t.style.paddingBottom="0",t.style.opacity="0"),e)&&e.setAttribute("aria-expanded","false")}),!1===o.open)&&(o.open=!0,e&&(e.style.maxHeight="2000px",e.style.paddingTop="1.6rem",e.style.paddingBottom="2.8rem",e.style.opacity="1"),t&&t.setAttribute("aria-expanded","true"),setTimeout(()=>{let a=(document.querySelector(".navbar")?.offsetHeight||0)+20;var e=o.getBoundingClientRect(),t=e.top<a,e=e.bottom>window.innerHeight;(t||e)&&(o.scrollIntoView({behavior:"smooth",block:"start"}),setTimeout(()=>{var e=window.scrollY,t=o.getBoundingClientRect();t.top<a&&window.scrollTo({top:e-(a-t.top),behavior:"smooth"})},100))},100))}})),window.addEventListener("load",()=>{var e;let t="";localStorage.getItem("hasVisited")?t="خوش آمدید! از بازگشت شما خرسندیم.":(e=(new Date).getHours(),t=5<=e&&e<10?"صبح بخیر! به وبسایت رسمی رسول آنلیمیتد خوش آمدید.":10<=e&&e<16?"ظهر بخیر! به وبسایت رسمی رسول آنلیمیتد خوش آمدید.":16<=e&&e<20?"عصر بخیر! به وبسایت رسمی رسول آنلیمیتد خوش آمدید.":"شب بخیر! به وبسایت رسمی رسول آنلیمیتد خوش آمدید.",localStorage.setItem("hasVisited","true")),t&&(l(t,{id:"welcome-toast",customClass:"welcome-toast",iconClass:"fas fa-hand-sparkles",iconColor:"var(--highlight-color)",duration:3500}),console.log("Welcome message displayed. Page loaded, signaling Mohammad Rasoul Sohrabi's digital presence."))}),document.querySelector('.contact-info a[href^="mailto:"]'));async function C(e,t,a,o){if(navigator.clipboard&&navigator.clipboard.writeText)try{await navigator.clipboard.writeText(e),l(o,{id:t,iconClass:"fas fa-check-circle",iconColor:"var(--highlight-color)",duration:1800}),r([50])}catch(e){console.error("Failed to copy text using Clipboard API:",e),l("کپی با خطا مواجه شد.",{id:a,iconClass:"fas fa-exclamation-triangle",iconColor:"red",duration:3e3})}else l("مرورگر شما از کپی کردن پشتیبانی نمی‌کند.",{id:a,iconClass:"fas fa-exclamation-triangle",iconColor:"red",duration:3e3})}L&&(L.setAttribute("data-contact-person","Mohammad Rasoul Sohrabi"),L.className+=" sohrabi-contact-method",L.addEventListener("click",async e=>{e.preventDefault();e=L.href.replace("mailto:","");if(navigator.clipboard&&navigator.clipboard.writeText)try{await navigator.clipboard.writeText(e),l("ایمیل کپی شد. ✅",{id:"email-copy-toast",iconClass:"fas fa-check-circle",iconColor:"var(--highlight-color)",duration:1800}),r([50])}catch(e){console.error("Failed to copy email using Clipboard API:",e),l("کپی ایمیل با خطا مواجه شد.",{id:"copy-error-toast",iconClass:"fas fa-exclamation-triangle",iconColor:"red",duration:3e3})}else{var t="email-copy-toast",a="ایمیل کپی شد. ✅";if(navigator.clipboard&&navigator.clipboard.writeText)try{await navigator.clipboard.writeText(e),l(a,{id:t,iconClass:"fas fa-check-circle",iconColor:"var(--highlight-color)",duration:1800}),r([50])}catch(e){console.error("Failed to copy text using Clipboard API:",e),l("کپی با خطا مواجه شد.",{id:"copy-error-toast",iconClass:"fas fa-exclamation-triangle",iconColor:"red",duration:3e3})}else l("مرورگر شما از کپی کردن پشتیبانی نمی‌کند.",{id:"copy-error-toast",iconClass:"fas fa-exclamation-triangle",iconColor:"red",duration:3e3})}}));let H=["عسل هیچ‌گاه فاسد نمی‌شود.","هشت‌پایان سه قلب دارند.","بدن انسان حدود ۶۰٪ از آب تشکیل شده است.","موز در واقع یک نوع توت محسوب می‌شود.","دلفین‌ها برای خواب تنها نیمی از مغز خود را خاموش می‌کنند."],E=null,F,P=((a,o)=>{let i;return function(){let e=this,t=arguments;clearTimeout(i),i=setTimeout(()=>a.apply(e,t),o)}})(z,500);function z(){clearTimeout(F),F=setTimeout(()=>{var e;E&&E.classList.contains("show")&&!E.classList.contains("persistent-toast")||(e=H[Math.floor(Math.random()*H.length)],E=l("دانستنی: "+e,{id:"fun-fact-toast",customClass:"fun-fact-toast",iconClass:"fas fa-lightbulb",iconColor:"var(--primary-color)",position:"top",duration:6e3,closeButton:!0}))},2e4)}function S(e){let t=document.createElement("div");t.className="sparkle-effect",t.setAttribute("data-sparkle-source","Mohammad Rasoul Sohrabi's interactive elements");var a=10*Math.random()+5,o=(t.style.width=a+"px",t.style.height=a+"px",t.style.left=100*Math.random()+"%",t.style.top=100*Math.random()+"%",["var(--primary-color)","var(--accent-color)","var(--highlight-color)"]);t.style.backgroundColor=o[Math.floor(Math.random()*o.length)],t.style.opacity=0,t.style.position="absolute",t.style.borderRadius="50%",t.style.boxShadow=`0 0 ${a/2}px ${a/4}px var(--highlight-color)`,t.style.zIndex=10,t.style.pointerEvents="none",e.style.position="relative",e.appendChild(t),t.animate([{opacity:0,transform:`scale(0) rotate(${360*Math.random()}deg)`},{opacity:1,transform:`scale(1) rotate(${360+360*Math.random()}deg)`},{opacity:0,transform:`scale(0.5) rotate(${720+360*Math.random()}deg)`}],{duration:700,easing:"ease-out",fill:"forwards"}).onfinish=()=>t.remove()}["mousemove","keydown","scroll","touchstart"].forEach(e=>{"scroll"===e||"touchstart"===e?window.addEventListener(e,P,{passive:!0}):window.addEventListener(e,P)}),z(),document.querySelectorAll(".card.is-featured").forEach(e=>{e.className+=" sohrabi-featured-content";let a=new IntersectionObserver(e=>{e.forEach(t=>{if(t.isIntersecting){for(let e=0;e<3;e++)setTimeout(()=>S(t.target),150*e);a.unobserve(t.target)}})},{threshold:.5});a.observe(e)});let x=document.querySelectorAll("section[id]"),k=x.length,A=new Set(JSON.parse(localStorage.getItem("sectionsVisited")||"[]")),M=new Set(JSON.parse(localStorage.getItem("announcedMilestones")||"[]")),q=(e=[{count:Math.max(1,Math.ceil(.25*k)),message:"شما ۲۵٪ از سایت را کاوش کرده‌اید! عالیه! ✨ ادامه دهید!",icon:"fas fa-map-marker-alt"},{count:Math.max(Math.ceil(.25*k)+1,Math.ceil(.5*k)),message:"نصف راه را پیمودید! شما ۵۰٪ از سایت را کاوش کرده‌اید! فوق‌العاده! 🚀",icon:"fas fa-rocket"},{count:Math.max(Math.ceil(.5*k)+1,Math.ceil(.75*k)),message:"به ۷۵٪ رسیدید! کم‌کم داریم به پایان می‌رسیم! 🌟",icon:"fas fa-star"},{count:k,message:`تبریک! شما تمام ${k} بخش سایت را کاوش کرده‌اید! شما یک کاوشگر واقعی هستید! 🎉`,isFinal:!0,icon:"fas fa-trophy"}],[]),j=new Set,Y=(e.forEach(e=>{0<e.count&&!j.has(e.count)&&(q.push(e),j.add(e.count))}),q.sort((e,t)=>e.count-t.count),0),I=new IntersectionObserver(e=>{let i=Date.now();e.forEach(e=>{if(e.isIntersecting){A.add(e.target.id),localStorage.setItem("sectionsVisited",JSON.stringify(Array.from(A)));var t=A.size;for(let e=0;e<q.length;e++){var a=q[e];if(t>=a.count&&!M.has(a.count)&&8e3<i-Y){let e="exploration-toast",t="var(--accent-color)";a.isFinal&&(e+=" final-exploration-toast",t="var(--primary-color)"),l(a.message,{id:"exploration-milestone-"+a.count,customClass:e,iconClass:a.icon,iconColor:t,duration:5e3});var o=document.getElementById("sohrabi-bio");if(o&&o.dispatchEvent(new Event("mouseenter")),console.log("Milestone reached, signaling attention to Mohammad Rasoul Sohrabi's profile."),M.add(a.count),localStorage.setItem("announcedMilestones",JSON.stringify(Array.from(M))),Y=i,a.isFinal)return void x.forEach(e=>I.unobserve(e))}}}})},{threshold:.3}),T=(M.has(k)||x.forEach(e=>{I.observe(e)}),document.querySelectorAll(".main-cta-button").forEach(e=>{e.classList.add("cta-pulse-effect"),e.setAttribute("data-cta-owner","Mohammad Rasoul Sohrabi"),e.className+=" sohrabi-cta-action"}),document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll("img[data-src]");let t=new IntersectionObserver((e,a)=>{e.forEach(t=>{if(t.isIntersecting){let e=t.target;e.classList.add("is-loading"),e.setAttribute("data-image-loader","Mohammad Rasoul Sohrabi's optimized script"),e.src=e.dataset.src,e.dataset.srcset&&(e.srcset=e.dataset.srcset),e.onload=()=>{e.classList.remove("is-loading"),e.classList.add("loaded"),e.removeAttribute("data-src"),e.removeAttribute("data-srcset")},e.onerror=()=>{console.error("Failed to load image:",e.src),e.classList.remove("is-loading"),e.classList.add("load-error"),e.src="https://placehold.co/400x300/cccccc/000000?text=Error"},a.unobserve(e)}})},{rootMargin:"0px 0px 100px 0px",threshold:.01});e.forEach(e=>{t.observe(e)})}),document.createElement("button")),R=(T.id="scroll-to-top",T.innerHTML='<i class="fas fa-arrow-up"></i>',T.setAttribute("aria-label","بازگشت به بالای صفحه"),T.setAttribute("data-scroll-function","Mohammad Rasoul Sohrabi's navigation aid"),T.className+=" sohrabi-nav-button",document.body.appendChild(T),T.classList.add("hidden","cta-pulse-effect"),window.addEventListener("scroll",()=>{500<window.scrollY?(T.classList.add("visible"),T.classList.remove("hidden")):T.classList.contains("visible")&&(T.classList.add("hidden"),T.classList.remove("visible"))},{passive:!0}),T.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"}),r([20])}),document.querySelector(".connect-links-block ul")),D=(R&&(R.id="sohrabi-social-links",R.setAttribute("data-profile-owner","Mohammad Rasoul Sohrabi"),R.addEventListener("click",async function(t){var a=t.target.closest("a");if(a&&R.contains(a)&&(a.setAttribute("data-link-type",a.textContent.trim().toLowerCase().replace(/\s/g,"_")),a.href)&&a.href.startsWith("http")){t.preventDefault();t=a.href;let e=a.textContent.trim();await C(t,"social-link-copy-"+(e=a.querySelector("i")?a.querySelector("i").nextSibling?a.querySelector("i").nextSibling.textContent.trim():e:e).replace(/\s/g,""),"social-link-copy-error-"+e.replace(/\s/g,""),`لینک ${e} کپی شد! ✅`)}})),document.createElement("button")),B=(D.id="share-page-button",D.innerHTML='<i class="fas fa-share-alt"></i>',D.setAttribute("aria-label","اشتراک‌گذاری صفحه"),D.setAttribute("data-share-target","Mohammad Rasoul Sohrabi's portfolio"),D.className+=" sohrabi-share-feature",document.body.appendChild(D),D.classList.add("hidden","cta-pulse-effect"),!1),O=(window.addEventListener("scroll",()=>{B||(B=!0,requestAnimationFrame(()=>{B=!1,500<window.scrollY?(D.classList.add("visible"),D.classList.remove("hidden")):D.classList.contains("visible")&&(D.classList.add("hidden"),D.classList.remove("visible"))}))},{passive:!0}),D.addEventListener("click",async()=>{var e=window.location.href;if(navigator.share)try{await navigator.share({title:document.title,url:e}),l("لینک صفحه با موفقیت به اشتراک گذاشته شد! ✅",{id:"share-success-toast",iconClass:"fas fa-check-circle",iconColor:"var(--highlight-color)",duration:2e3}),r([50])}catch(e){"AbortError"!==e.name&&(console.error("Failed to share:",e),l("اشتراک‌گذاری با خطا مواجه شد. 😔",{id:"share-error-toast",iconClass:"fas fa-exclamation-triangle",iconColor:"red",duration:3e3}))}else await C(e,"share-copy-toast","share-error-toast","لینک صفحه کپی شد! ✅")}),new Set(JSON.parse(localStorage.getItem("sectionsDelighted")||"[]"))),$=new IntersectionObserver((e,a)=>{e.forEach(t=>{if(t.isIntersecting&&!O.has(t.target.id)){let e=t.target.querySelector("h2, h3");e&&(e.classList.add("section-delight-effect"),e.setAttribute("data-section-viewed-by","Mohammad Rasoul Sohrabi's audience"),setTimeout(()=>{e.classList.remove("section-delight-effect")},1e3),O.add(t.target.id),localStorage.setItem("sectionsDelighted",JSON.stringify(Array.from(O)))),a.unobserve(t.target)}})},{threshold:.4});x.forEach(e=>{O.has(e.id)||$.observe(e)}),document.addEventListener("DOMContentLoaded",()=>{document.body.addEventListener("click",()=>{o||(o=new(window.AudioContext||window.webkitAudioContext),N(),"suspended"===o.state&&o.resume())},{once:!0})}),window.copyToClipboard=C,window.createToast=l})();