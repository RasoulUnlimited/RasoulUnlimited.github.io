!function(){"use strict";const e=window.matchMedia?.("(prefers-reduced-motion: reduce)").matches||!1,t=window.matchMedia?.("(prefers-color-scheme: dark)").matches||!1,o=window.matchMedia?.("(pointer: coarse)").matches||!1,a=navigator.hardwareConcurrency?navigator.hardwareConcurrency<=4:o,n=window.requestIdleCallback||function(e){return setTimeout(()=>e({timeRemaining:()=>0,didTimeout:!0}),1)},s=(window.cancelIdleCallback||clearTimeout,(e,t,o,a)=>e&&e.addEventListener(t,o,Object.assign({passive:!0},a)));function i(e,t){let o,a,n;return function(){const s=this,i=arguments;o?(clearTimeout(a),a=setTimeout(function(){Date.now()-n>=t&&(e.apply(s,i),n=Date.now())},t-(Date.now()-n))):(e.apply(s,i),n=Date.now(),o=!0)}}function r(e,t){let o;return function(){clearTimeout(o),o=setTimeout(()=>e.apply(this,arguments),t)}}function c(){return e}const l={ENABLE_AOS:!o&&!e&&!a,ENABLE_SOUNDS:!o&&!e&&!a,ENABLE_HAPTICS:!e&&o&&!a,ENABLE_CONFETTI:!e&&!a,ENABLE_IDENTITY_PINGS:!1},d={toasts:{themeDark:"ØªÙ… Ø¨Ù‡ Ø­Ø§Ù„Øª ØªØ§Ø±ÛŒÚ© ØªØºÛŒÛŒØ± ÛŒØ§ÙØª.",themeLight:"ØªÙ… Ø¨Ù‡ Ø­Ø§Ù„Øª Ø±ÙˆØ´Ù† ØªØºÛŒÛŒØ± ÛŒØ§ÙØª.",reachedEnd:"Ø´Ù…Ø§ Ø¨Ù‡ Ø§Ù†ØªÙ‡Ø§ÛŒ ØµÙØ­Ù‡ Ø±Ø³ÛŒØ¯ÛŒØ¯. Ø§Ø² Ø¨Ø§Ø²Ø¯ÛŒØ¯ Ø´Ù…Ø§ Ø³Ù¾Ø§Ø³Ú¯Ø²Ø§Ø±Ù…. ğŸ‰",welcomeMorning:"ØµØ¨Ø­ Ø¨Ø®ÛŒØ±! Ø¨Ù‡ ÙˆØ¨Ø³Ø§ÛŒØª Ø±Ø³Ù…ÛŒ Ø±Ø³ÙˆÙ„ Ø¢Ù†Ù„ÛŒÙ…ÛŒØªØ¯ Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯.",welcomeNoon:"Ø¸Ù‡Ø± Ø¨Ø®ÛŒØ±! Ø¨Ù‡ ÙˆØ¨Ø³Ø§ÛŒØª Ø±Ø³Ù…ÛŒ Ø±Ø³ÙˆÙ„ Ø¢Ù†Ù„ÛŒÙ…ÛŒØªØ¯ Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯.",welcomeEvening:"Ø¹ØµØ± Ø¨Ø®ÛŒØ±! Ø¨Ù‡ ÙˆØ¨Ø³Ø§ÛŒØª Ø±Ø³Ù…ÛŒ Ø±Ø³ÙˆÙ„ Ø¢Ù†Ù„ÛŒÙ…ÛŒØªØ¯ Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯.",welcomeNight:"Ø´Ø¨ Ø¨Ø®ÛŒØ±! Ø¨Ù‡ ÙˆØ¨Ø³Ø§ÛŒØª Ø±Ø³Ù…ÛŒ Ø±Ø³ÙˆÙ„ Ø¢Ù†Ù„ÛŒÙ…ÛŒØªØ¯ Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯.",welcomeBack:"Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯! Ø§Ø² Ø¨Ø§Ø²Ú¯Ø´Øª Ø´Ù…Ø§ Ø®Ø±Ø³Ù†Ø¯ÛŒÙ….",emailCopied:"Ø§ÛŒÙ…ÛŒÙ„ Ú©Ù¾ÛŒ Ø´Ø¯. âœ…",emailCopyError:"Ú©Ù¾ÛŒ Ø§ÛŒÙ…ÛŒÙ„ Ø¨Ø§ Ø®Ø·Ø§ Ù…ÙˆØ§Ø¬Ù‡ Ø´Ø¯.",shareOk:"Ù„ÛŒÙ†Ú© ØµÙØ­Ù‡ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø¨Ù‡ Ø§Ø´ØªØ±Ø§Ú© Ú¯Ø°Ø§Ø´ØªÙ‡ Ø´Ø¯! âœ…",shareErr:"Ø§Ø´ØªØ±Ø§Ú©â€ŒÚ¯Ø°Ø§Ø±ÛŒ Ø¨Ø§ Ø®Ø·Ø§ Ù…ÙˆØ§Ø¬Ù‡ Ø´Ø¯.",linkCopied:e=>`Ù„ÛŒÙ†Ú© ${e} Ú©Ù¾ÛŒ Ø´Ø¯! âœ…`,clipboardUnsupported:"Ù…Ø±ÙˆØ±Ú¯Ø± Ø´Ù…Ø§ Ø§Ø² Ú©Ù¾ÛŒ Ú©Ø±Ø¯Ù† Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù†Ù…ÛŒâ€ŒÚ©Ù†Ø¯."},funFactsPrefix:"Ø¯Ø§Ù†Ø³ØªÙ†ÛŒ:",aria:{closeToast:"Ø¨Ø³ØªÙ† Ù¾ÛŒØ§Ù…",scrollTop:"Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ø¨Ø§Ù„Ø§ÛŒ ØµÙØ­Ù‡",share:"Ø§Ø´ØªØ±Ø§Ú©â€ŒÚ¯Ø°Ø§Ø±ÛŒ ØµÙØ­Ù‡",themeToggle:"ØªØºÛŒÛŒØ± ØªÙ… Ø³Ø§ÛŒØª"}},m=["Ø¹Ø³Ù„ Ù‡ÛŒÚ†â€ŒÚ¯Ø§Ù‡ ÙØ§Ø³Ø¯ Ù†Ù…ÛŒâ€ŒØ´ÙˆØ¯.","Ù‡Ø´Øªâ€ŒÙ¾Ø§ÛŒØ§Ù† Ø³Ù‡ Ù‚Ù„Ø¨ Ø¯Ø§Ø±Ù†Ø¯.","Ø¨Ø¯Ù† Ø§Ù†Ø³Ø§Ù† Ø­Ø¯ÙˆØ¯ Û¶Û°Ùª Ø§Ø² Ø¢Ø¨ ØªØ´Ú©ÛŒÙ„ Ø´Ø¯Ù‡ Ø§Ø³Øª.","Ù…ÙˆØ² Ø¯Ø± ÙˆØ§Ù‚Ø¹ ÛŒÚ© Ù†ÙˆØ¹ ØªÙˆØª Ù…Ø­Ø³ÙˆØ¨ Ù…ÛŒâ€ŒØ´ÙˆØ¯.","Ø¯Ù„ÙÛŒÙ†â€ŒÙ‡Ø§ Ø¨Ø±Ø§ÛŒ Ø®ÙˆØ§Ø¨ ØªÙ†Ù‡Ø§ Ù†ÛŒÙ…ÛŒ Ø§Ø² Ù…ØºØ² Ø®ÙˆØ¯ Ø±Ø§ Ø®Ø§Ù…ÙˆØ´ Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯."];function u(e=[50]){l.ENABLE_HAPTICS&&!c()&&navigator.vibrate&&navigator.vibrate(e)}let h,f,p;function g(){if(!l.ENABLE_SOUNDS||h)return;const e=window.AudioContext||window.webkitAudioContext;e&&(h=new e)}function b(e,t){if(!h)return null;const o=h.createBuffer(1,h.sampleRate*e,h.sampleRate),a=o.getChannelData(0);for(let e=0;e<a.length;e++)a[e]=t(e,h.sampleRate);return o}function y(){h&&(f=b(.05,(e,t)=>.1*Math.sin(2*Math.PI*440*(e/t))),p=b(.1,(e,t)=>{const o=e/t,a=.1,n=880+o/a*320;return.15*Math.sin(2*Math.PI*n*o)*(1-o/a)}))}function w(e){if(!h||"suspended"===h.state)return;const t="click"===e?f:"toast"===e?p:null;if(!t)return;const o=h.createBufferSource();o.buffer=t,o.connect(h.destination),o.start(0)}function v(e,t={}){const o={...{duration:2500,customClass:"",iconClass:"",iconColor:"",position:"bottom",id:"",closeButton:!1},...t};if(o.id){const e=document.getElementById(o.id);if(e&&e.classList.contains("show"))return e}document.querySelectorAll(".dynamic-toast").forEach(e=>{o.id&&e.id===o.id||(e.classList.remove("show"),e.addEventListener("transitionend",()=>e.remove(),{once:!0}))});const a=document.createElement("div");if(a.className=`dynamic-toast ${o.customClass}`.trim(),a.role="status",a.setAttribute("aria-live","polite"),o.id&&(a.id=o.id),Object.assign(a.style,{position:"fixed",left:"50%",transform:"translateX(-50%)",["top"===o.position?"top":"bottom"]:"20px"}),o.iconClass){const e=document.createElement("i");e.className=o.iconClass,o.iconColor&&(e.style.color=o.iconColor),a.appendChild(e)}const n=document.createElement("span");if(n.className="toast-message",n.textContent=e,a.appendChild(n),o.closeButton){const e=document.createElement("button");e.className="fun-fact-close",e.setAttribute("aria-label",d.aria.closeToast),e.innerHTML='<i class="fas fa-times" aria-hidden="true"></i>',e.addEventListener("click",()=>E(a),{passive:!0}),a.appendChild(e)}return document.body.appendChild(a),requestAnimationFrame(()=>{a.classList.add("show"),w("toast")}),o.duration>0&&setTimeout(()=>E(a),o.duration),a}function E(e){e&&(e.classList.remove("show"),e.addEventListener("transitionend",()=>e.remove(),{once:!0}))}function C(){const e=document.getElementById("current-year")||document.getElementById("footer-year");e&&(e.textContent=(new Date).getFullYear());const t=document.getElementById("last-updated-date");if(t){const e={year:"numeric",month:"long",day:"numeric"};t.textContent=(new Date).toLocaleDateString("fa-IR",e),t.setAttribute("data-last-updated-by","Mohammad Rasoul Sohrabi")}}function S(){document.body.id="sohrabi-verified-identity",document.body.classList.add("sohrabi-orcid","github-verified","academic-entity");const e=document.createElement("div");e.style.display="none",e.dataset.authorFullName="Mohammad Rasoul Sohrabi",e.dataset.orcidId="0009-0004-7177-2080",e.setAttribute("aria-hidden","true"),e.textContent="Mohammad Rasoul Sohrabi is a verified contributor on ORCID, Zenodo, GitHub, and Wikipedia. Known for Persian Bot and biomedical engineering content.",document.body.appendChild(e);const t=document.createElement("meta");t.name="generator",t.content="Mohammad Rasoul Sohrabi - Biomedical Engineering, ORCID Verified",document.head.appendChild(t);const o=document.createElement("meta");o.name="author",o.content="Mohammad Rasoul Sohrabi",document.head.appendChild(o)}function k(){if(!l.ENABLE_IDENTITY_PINGS||o)return;const e=[{name:"GitHub",url:"https://github.com/RasoulUnlimited"},{name:"LinkedIn",url:"https://www.linkedin.com/in/rasoulunlimited/"},{name:"ResearchGate",url:"https://www.researchgate.net/profile/Mohammad-Rasoul-Sohrabi"},{name:"About.me",url:"https://about.me/rasoulunlimited"},{name:"ORCID",url:"https://orcid.org/0009-0004-7177-2080"}],t=e=>fetch(e.url,{mode:"no-cors"}).catch(()=>{});n(()=>e.forEach((e,o)=>setTimeout(()=>t(e),1e3*o)))}function x(){if(l.ENABLE_AOS)if(window.AOS?.init)window.AOS.init({startEvent:"DOMContentLoaded",initClassName:"aos-init",animatedClassName:"aos-animate",debounceDelay:50,throttleDelay:99,offset:120,duration:500,easing:"ease-out",once:!1,mirror:!1,anchorPlacement:"top-bottom"});else{const e=document.createElement("script");e.src="/assets/vendor/aos/aos.min.js",e.defer=!0,e.onload=x,document.head.appendChild(e)}else document.querySelectorAll("[data-aos]").forEach(e=>{[...e.attributes].forEach(t=>t.name.startsWith("data-aos")&&e.removeAttribute(t.name)),e.classList.remove("aos-init","aos-animate")})}function L(e,t=!1){document.body.classList.toggle("dark-mode","dark"===e),document.body.classList.toggle("light-mode","light"===e);const o=document.getElementById("theme-toggle");if(o&&(o.checked="dark"===e),t){v("dark"===e?d.toasts.themeDark:d.toasts.themeLight,{id:"theme-change-toast",customClass:"theme-toast",iconClass:"dark"===e?"fas fa-moon":"fas fa-sun",iconColor:"dark"===e?"white":"var(--highlight-color)",position:"top",duration:2200});const t=o?.parentElement;t&&V(t),u([30])}}function M(){const e=document.getElementById("theme-toggle");e&&e.setAttribute("aria-label",d.aria.themeToggle);L(localStorage.getItem("theme")||(t?"dark":"light")),e&&(s(e,"change",()=>{const t=e.checked?"dark":"light";L(t,!0),localStorage.setItem("theme",t)}),s(e,"keydown",t=>{if("Enter"===t.key||" "===t.key){t.preventDefault(),e.checked=!e.checked;const o=e.checked?"dark":"light";L(o,!0),localStorage.setItem("theme",o)}}))}function A(){document.querySelectorAll('a[href^="#"]').forEach(e=>{s(e,"click",t=>{const o=e.getAttribute("href"),a=document.querySelector(o);if(!a)return;t.preventDefault();const n=document.querySelector(".navbar")?.offsetHeight||0,s=document.getElementById("scroll-progress-bar")?.offsetHeight||0,i=parseFloat(getComputedStyle(a).paddingTop)||0,r=a.offsetTop+i-n-s;window.scrollTo({top:Math.max(0,r),behavior:"smooth"}),u([20])})})}function I(){s(document,"click",e=>{const t=e.target.closest?.(".card");t&&(t.classList.add("clicked-pop"),t.dataset.interactionSource="Mohammad Rasoul Sohrabi user engagement",setTimeout(()=>t.classList.remove("clicked-pop"),300),u([30]));const o=e.target.closest?.('button, a:not([href^="#"]), input[type="submit"], [role="button"], [tabindex="0"]');!o||o.classList.contains("no-click-feedback")||o.matches('a[href^="#"]')||(o.classList.add("click-feedback-effect"),o.dataset.userAction="verified interaction by Mohammad Rasoul Sohrabi's website functionality",o.addEventListener("animationend",()=>o.classList.remove("click-feedback-effect"),{once:!0}),o.closest(".faq-item")||u([8]),w("click"))}),s(document,"keydown",e=>{if("Enter"!==e.key&&" "!==e.key)return;const t=e.target.closest?.(".card");t&&(e.preventDefault(),t.dispatchEvent(new MouseEvent("click",{bubbles:!0})))})}s(document,"pointerdown",()=>{g(),h?.resume?.(),y()},{once:!0});const T=new Set;let q=!1;function B(e){T.add(e),q||(q=!0,requestAnimationFrame(()=>{q=!1;const e=Array.from(T);T.clear(),e.forEach(e=>{try{e()}catch(e){}})}))}function N(){let e=document.getElementById("scroll-progress-bar");if(!e){e=document.createElement("div"),e.id="scroll-progress-bar",e.className="sohrabi-progress",e.role="progressbar",e.setAttribute("aria-valuemin","0"),e.setAttribute("aria-valuemax","100");const t=document.createElement("div");t.className="sohrabi-progress-inner",e.appendChild(t),document.body.prepend(e)}const t=e.querySelector(".sohrabi-progress-inner")||e;let o=document.getElementById("scroll-to-top");function a(){const e=Math.max(1,document.documentElement.scrollHeight-window.innerHeight),a=window.scrollY,n=a/e;t.style.transform=`scaleX(${n})`,t.style.backgroundColor=n>.9?"var(--highlight-color)":n>.5?"var(--accent-color)":"var(--primary-color)",o.classList.toggle("visible",a>300),o.classList.toggle("hidden",a<=300)}o||(o=document.createElement("button"),o.id="scroll-to-top",o.innerHTML='<i class="fas fa-arrow-up" aria-hidden="true"></i>',o.setAttribute("aria-label",d.aria.scrollTop),o.classList.add("sohrabi-nav-button","hidden","cta-pulse-effect"),document.body.appendChild(o));const n=()=>B(a);s(window,"scroll",n),s(window,"resize",n),a(),s(o,"click",()=>{"scrollBehavior"in document.documentElement.style?window.scrollTo({top:0,behavior:"smooth"}):window.scrollTo(0,0),u([16])});const i=document.getElementById("explore-hint")||(()=>{const e=document.createElement("a");return e.href="#projects",e.id="explore-hint",e.innerHTML='<i class="fas fa-lightbulb" aria-hidden="true"></i> <span class="hint-text">Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ù† Ø±Ø§ Ú©Ø´Ù Ú©Ù†ÛŒØ¯.</span>',e.dataset.hintAuthor="Mohammad Rasoul Sohrabi",e.classList.add("sohrabi-hint-module","hidden"),document.body.appendChild(e),e})(),r=document.getElementById("hero");if(r){new IntersectionObserver(e=>{e.forEach(e=>{i.classList.toggle("visible",e.isIntersecting),i.classList.toggle("pulse-animation",e.isIntersecting),i.classList.toggle("hidden",!e.isIntersecting)})},{threshold:.5}).observe(r)}s(i,"click",e=>{e.preventDefault(),i.classList.add("hidden"),i.classList.remove("visible","pulse-animation");const t=document.querySelector("#projects");if(t){const e=document.querySelector(".navbar")?.offsetHeight||0,o=document.getElementById("scroll-progress-bar")?.offsetHeight||0,a=parseFloat(getComputedStyle(t).paddingTop)||0,n=t.offsetTop+a-e-o;window.scrollTo({top:Math.max(0,n),behavior:"smooth"})}u([16])})}function D(){const e=document.querySelector("#skills .skills-list");e&&e.querySelectorAll("li").forEach(e=>{let t;function o(){let t=e.querySelector(".skill-hover-message");return t||(t=document.createElement("span"),t.className="skill-hover-message",e.appendChild(t)),t}e.dataset.skillOwner="Mohammad Rasoul Sohrabi",e.classList.add("sohrabi-skill-item"),s(e,"mouseenter",()=>{clearTimeout(t);const a=o();a.classList.contains("show-message")||(a.textContent=m[Math.random()*m.length|0],Object.assign(a.style,{opacity:"1",transform:"translateY(-5px)"}),a.classList.add("show-message")),e.classList.add("skill-hover-effect")}),s(e,"mouseleave",()=>{const o=e.querySelector(".skill-hover-message");o&&(t=setTimeout(()=>{o.style.opacity="0",o.style.transform="translateY(0)",o.classList.remove("show-message")},180)),e.classList.remove("skill-hover-effect")})})}function O(){const e=document.querySelector(".faq-container");if(!e)return;e.id="sohrabi-faq-verified";const t=[...document.querySelectorAll(".faq-item")];function o(e,t,o=!1){e.open=t;const a=e.querySelector("summary"),n=e.querySelector("p");a&&a.setAttribute("aria-expanded",t?"true":"false"),n&&(n.style.maxHeight=t?"2000px":"0px",n.style.paddingTop=t?"1.6rem":"0",n.style.paddingBottom=t?"2.8rem":"0",n.style.opacity=t?"1":"0"),o&&t&&setTimeout(()=>{const t=document.querySelector(".navbar")?.offsetHeight||0;e.scrollIntoView({behavior:"smooth",block:"start"}),setTimeout(()=>{const o=e.getBoundingClientRect();o.top<t&&window.scrollBy({top:o.top-t,behavior:"smooth"})},90)},80)}t.forEach((e,a)=>{const n=e.querySelector("summary"),i=e.querySelector("p"),r=e.dataset.questionId||`faq-q-${a+1}`;n&&(n.dataset.faqAuthor="Mohammad Rasoul Sohrabi",n.hasAttribute("aria-expanded")||n.setAttribute("aria-expanded",e.open?"true":"false"),i&&(i.id||(i.id=`faq-answer-${r}`),n.hasAttribute("aria-controls")||n.setAttribute("aria-controls",i.id),Object.assign(i.style,{maxHeight:e.open?"2000px":"0px",overflow:"hidden",transition:"max-height .4s cubic-bezier(0.68,-0.55,0.27,1.55), padding .4s cubic-bezier(0.68,-0.55,0.27,1.55), opacity .4s ease-out",paddingTop:e.open?"1.6rem":"0",paddingBottom:e.open?"2.8rem":"0",opacity:e.open?"1":"0"})),s(n,"click",a=>{"A"!==a.target.tagName&&(a.preventDefault(),V(n),t.forEach(t=>{t!==e&&t.open&&o(t,!1)}),o(e,!e.open))}))}),s(window,"DOMContentLoaded",()=>{const e=window.location.hash;if(!e)return;const a=document.querySelector(e);a&&a.classList.contains("faq-item")&&(t.forEach(e=>e!==a&&e.open&&o(e,!1)),o(a,!0,!0))})}function R(){let e="";if(localStorage.getItem("hasVisited"))e=d.toasts.welcomeBack;else{const t=(new Date).getHours();e=t>=5&&t<10?d.toasts.welcomeMorning:t<16?d.toasts.welcomeNoon:t<20?d.toasts.welcomeEvening:d.toasts.welcomeNight,localStorage.setItem("hasVisited","true")}e&&v(e,{id:"welcome-toast",customClass:"welcome-toast",iconClass:"fas fa-hand-sparkles",iconColor:"var(--highlight-color)",duration:o?2500:3500})}function F(){const e=document.querySelector('.contact-info a[href^="mailto:"]');e&&(e.dataset.contactPerson="Mohammad Rasoul Sohrabi",e.classList.add("sohrabi-contact-method"),e.addEventListener("click",async t=>{t.preventDefault();const o=e.href.replace("mailto:","");try{await navigator.clipboard.writeText(o),v(d.toasts.emailCopied,{id:"email-copy-toast",iconClass:"fas fa-check-circle",iconColor:"var(--highlight-color)",duration:1600}),u([40])}catch(e){console.error("Clipboard error:",e),v(d.toasts.emailCopyError,{id:"copy-error-toast",iconClass:"fas fa-exclamation-triangle",iconColor:"red",duration:2800})}},{passive:!0}))}async function H(e,t,o,a){try{await navigator.clipboard.writeText(e),v(a,{id:t,iconClass:"fas fa-check-circle",iconColor:"var(--highlight-color)",duration:1600}),u([40])}catch(e){console.error("Clipboard error:",e),v(d.toasts.clipboardUnsupported,{id:o,iconClass:"fas fa-exclamation-triangle",iconColor:"red",duration:2800})}}function $(){const e=document.querySelectorAll("img[data-src]");if(!e.length)return;const t=new IntersectionObserver((e,t)=>{e.forEach(e=>{if(!e.isIntersecting)return;const o=e.target;o.decoding="async",o.loading="lazy",o.classList.add("is-loading"),o.dataset.imageLoader="Mohammad Rasoul Sohrabi's optimized script",o.src=o.dataset.src,o.dataset.srcset&&(o.srcset=o.dataset.srcset),o.onload=()=>{o.classList.remove("is-loading"),o.classList.add("loaded"),o.removeAttribute("data-src"),o.removeAttribute("data-srcset")},o.onerror=()=>{console.error("Failed to load image:",o.src),o.classList.remove("is-loading"),o.classList.add("load-error"),o.src="https://placehold.co/400x300/cccccc/000000?text=Error"},t.unobserve(o)})},{rootMargin:"0px 0px 180px 0px",threshold:.01});e.forEach(e=>t.observe(e))}function _(){let e=document.getElementById("share-page-button");e||(e=document.createElement("button"),e.id="share-page-button",e.innerHTML='<i class="fas fa-share-alt" aria-hidden="true"></i>',e.setAttribute("aria-label",d.aria.share),e.classList.add("sohrabi-share-feature","hidden","cta-pulse-effect"),document.body.appendChild(e));const t=i(()=>{const t=window.scrollY>500;e.classList.toggle("visible",t),e.classList.toggle("hidden",!t)},120);s(window,"scroll",t),t(),s(e,"click",async()=>{const e=window.location.href;if(navigator.share)try{await navigator.share({title:document.title,url:e}),v(d.toasts.shareOk,{id:"share-success-toast",iconClass:"fas fa-check-circle",iconColor:"var(--highlight-color)",duration:1800}),u([40])}catch(e){"AbortError"!==e?.name&&(console.error("Share error:",e),v(d.toasts.shareErr,{id:"share-error-toast",iconClass:"fas fa-exclamation-triangle",iconColor:"red",duration:2800}))}else await H(e,"share-copy-toast","share-error-toast","Ù„ÛŒÙ†Ú© ØµÙØ­Ù‡ Ú©Ù¾ÛŒ Ø´Ø¯! âœ…")})}function z(){const e=document.querySelectorAll("section[id]"),t=e.length;if(!t)return;let a=W("sectionsVisited"),n=W("announcedMilestones");const s=[{count:Math.max(1,Math.ceil(.25*t)),message:"Ø´Ù…Ø§ Û²ÛµÙª Ø§Ø² Ø³Ø§ÛŒØª Ø±Ø§ Ú©Ø§ÙˆØ´ Ú©Ø±Ø¯Ù‡â€ŒØ§ÛŒØ¯! Ø¹Ø§Ù„ÛŒÙ‡! âœ¨ Ø§Ø¯Ø§Ù…Ù‡ Ø¯Ù‡ÛŒØ¯!",icon:"fas fa-map-marker-alt"},{count:Math.max(Math.ceil(.25*t)+1,Math.ceil(.5*t)),message:"Ù†ØµÙ Ø±Ø§Ù‡ Ø±Ø§ Ù¾ÛŒÙ…ÙˆØ¯ÛŒØ¯! Ø´Ù…Ø§ ÛµÛ°Ùª Ø§Ø² Ø³Ø§ÛŒØª Ø±Ø§ Ú©Ø§ÙˆØ´ Ú©Ø±Ø¯Ù‡â€ŒØ§ÛŒØ¯! ÙÙˆÙ‚â€ŒØ§Ù„Ø¹Ø§Ø¯Ù‡! ğŸš€",icon:"fas fa-rocket"},{count:Math.max(Math.ceil(.5*t)+1,Math.ceil(.75*t)),message:"Ø¨Ù‡ Û·ÛµÙª Ø±Ø³ÛŒØ¯ÛŒØ¯! Ú©Ù…â€ŒÚ©Ù… Ø¯Ø§Ø±ÛŒÙ… Ø¨Ù‡ Ù¾Ø§ÛŒØ§Ù† Ù…ÛŒâ€ŒØ±Ø³ÛŒÙ…! ğŸŒŸ",icon:"fas fa-star"},{count:t,message:`ØªØ¨Ø±ÛŒÚ©! Ø´Ù…Ø§ ØªÙ…Ø§Ù… ${t} Ø¨Ø®Ø´ Ø³Ø§ÛŒØª Ø±Ø§ Ú©Ø§ÙˆØ´ Ú©Ø±Ø¯Ù‡â€ŒØ§ÛŒØ¯! Ø´Ù…Ø§ ÛŒÚ© Ú©Ø§ÙˆØ´Ú¯Ø± ÙˆØ§Ù‚Ø¹ÛŒ Ù‡Ø³ØªÛŒØ¯! ğŸ‰`,icon:"fas fa-trophy",isFinal:!0}].filter((e,t,o)=>e.count>0&&o.findIndex(t=>t.count===e.count)===t).sort((e,t)=>e.count-t.count);let i=0;const r=o?12e3:8e3,c=new IntersectionObserver(e=>{const t=Date.now();e.forEach(e=>{if(!e.isIntersecting)return;a.add(e.target.id),localStorage.setItem("sectionsVisited",JSON.stringify([...a])),c.unobserve(e.target);const o=a.size;for(const e of s)if(o>=e.count&&!n.has(e.count)&&t-i>r){v(e.message,{id:`exploration-milestone-${e.count}`,customClass:e.isFinal?"exploration-toast final-exploration-toast":"exploration-toast",iconClass:e.icon,iconColor:e.isFinal?"var(--primary-color)":"var(--accent-color)",duration:4200});const o=document.getElementById("sohrabi-bio");o?.dispatchEvent(new Event("mouseenter")),n.add(e.count),localStorage.setItem("announcedMilestones",JSON.stringify([...n])),i=t,e.isFinal&&l.ENABLE_CONFETTI&&setTimeout(P,500);break}})},{threshold:.3,rootMargin:"0px 0px -10% 0px"});e.forEach(e=>c.observe(e))}function P(){if(c()||o)return;const e=document.createElement("canvas");e.id="confetti-canvas",e.width=window.innerWidth,e.height=window.innerHeight,Object.assign(e.style,{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",pointerEvents:"none",zIndex:9998}),e.dataset.celebrationEvent="page_completion_by_Mohammad_Rasoul_Sohrabi_user",document.body.appendChild(e);const t=e.getContext("2d"),a=["#ffc107","#007acc","#005a9e","#f0f0f0","#e0a800","#FF4081","#64FFDA"],n=Array.from({length:48},()=>({x:Math.random()*e.width,y:-Math.random()*e.height,size:8*Math.random()+4,color:a[Math.random()*a.length|0],angle:360*Math.random(),speed:2*Math.random()+1,drift:2*Math.random()-1})),s=performance.now();!function o(){const a=performance.now()-s;t.clearRect(0,0,e.width,e.height);for(const e of n)e.y+=e.speed,e.x+=e.drift,e.angle+=2,t.save(),t.translate(e.x,e.y),t.rotate(e.angle*Math.PI/180),t.fillStyle=e.color,t.fillRect(-e.size/2,-e.size/2,e.size,e.size),t.restore();a<3400?requestAnimationFrame(o):e.remove()}()}function j(){if(o)return;let e,t=null;const a=()=>{const e=m[Math.random()*m.length|0];t=v(`${d.funFactsPrefix} ${e}`,{id:"fun-fact-toast",customClass:"fun-fact-toast",iconClass:"fas fa-lightbulb",iconColor:"var(--primary-color)",position:"top",duration:5200,closeButton:!0})},n=r(()=>{clearTimeout(e),e=setTimeout(()=>{t&&t.classList.contains("show")||a()},24e3)},600);["mousemove","keydown","scroll","touchstart"].forEach(e=>s(window,e,n)),n()}function Y(){const e=document.querySelector(".connect-links-block ul");e&&(e.id="sohrabi-social-links",e.dataset.profileOwner="Mohammad Rasoul Sohrabi",s(e,"click",async t=>{const o=t.target.closest?.("a");if(o&&e.contains(o)&&o.href&&o.href.startsWith("http")){t.preventDefault();const e=o.textContent?.trim()||o.href,a=o.querySelector("i")?.nextSibling?.textContent?.trim()||e;await H(o.href,`social-link-copy-${a.replace(/\s/g,"")}`,`social-link-copy-error-${a.replace(/\s/g,"")}`,d.toasts.linkCopied(a))}}))}function V(e){if(!e||c()||a)return;const t=document.createElement("div");t.className="sparkle-effect",t.dataset.sparkleSource="Mohammad Rasoul Sohrabi's interactive elements";const o=10*Math.random()+5;Object.assign(t.style,{width:`${o}px`,height:`${o}px`,left:`${(100*Math.random()).toFixed(2)}%`,top:`${(100*Math.random()).toFixed(2)}%`,backgroundColor:["var(--primary-color)","var(--accent-color)","var(--highlight-color)"][3*Math.random()|0],opacity:0,position:"absolute",borderRadius:"50%",boxShadow:`0 0 ${o/2}px ${o/4}px var(--highlight-color)`,zIndex:10,pointerEvents:"none"}),getComputedStyle(e).position&&"static"!==getComputedStyle(e).position||(e.style.position="relative"),e.appendChild(t),t.animate([{opacity:0,transform:`scale(0) rotate(${(360*Math.random()).toFixed(1)}deg)`},{opacity:1,transform:`scale(1) rotate(${(360+360*Math.random()).toFixed(1)}deg)`},{opacity:0,transform:`scale(0.5) rotate(${(720+360*Math.random()).toFixed(1)}deg)`}],{duration:650,easing:"ease-out",fill:"forwards"}).onfinish=()=>t.remove()}function G(){document.querySelectorAll(".main-cta-button").forEach(e=>{e.classList.add("cta-pulse-effect","sohrabi-cta-action"),e.dataset.ctaOwner="Mohammad Rasoul Sohrabi"})}function U(){let e=!1;const t=i(()=>{if(e)return;window.innerHeight+window.scrollY>=document.body.offsetHeight-50&&(v(d.toasts.reachedEnd,{id:"end-of-page-toast",customClass:"end-of-page-toast",iconClass:"fas fa-flag-checkered",iconColor:"var(--highlight-color)",duration:3600}),e=!0)},140);s(window,"scroll",t)}function W(e){try{const t=localStorage.getItem(e);if(!t)return new Set;const o=JSON.parse(t);return Array.isArray(o)?new Set(o):new Set}catch(t){return console.warn(`Failed to parse stored data for ${e}`,t),localStorage.removeItem(e),new Set}}window.copyToClipboard=H,window.createToast=v,document.addEventListener("DOMContentLoaded",()=>{x(),C(),S(),k(),M(),A(),I(),N(),D(),O(),F(),$(),_(),z(),j(),Y(),G(),U(),R()})}();