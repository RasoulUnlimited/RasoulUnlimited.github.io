document.addEventListener("DOMContentLoaded",()=>{let o=document.querySelectorAll(".faq-item");var e=document.querySelector(".faq-navigation");let t=document.getElementById("faq-search"),a=document.getElementById("clear-search"),n=document.querySelectorAll(".faq-section");e&&e.addEventListener("click",e=>{var e=e.target.closest("a");e&&(e=e.dataset.category,"function"==typeof gtag&&gtag("event","faq_nav_click",{event_category:"FAQ Navigation",event_label:"Clicked category: "+e,value:1}),"function"==typeof hj)&&hj("event","faq_nav_clicked_category_"+e.replace(/\s/g,"_").toLowerCase())}),document.querySelectorAll(".button-link").forEach(t=>{t.addEventListener("click",()=>{var e=t.dataset.ctaType;"function"==typeof gtag&&gtag("event","faq_cta_click",{event_category:"FAQ Call to Action",event_label:"CTA Clicked: "+e,value:1}),"function"==typeof hj&&hj("event","faq_cta_clicked_"+e)})}),document.querySelectorAll(".faq-answer .text-link").forEach(t=>{t.addEventListener("click",()=>{var e=t.dataset.linkType;"function"==typeof gtag&&gtag("event","faq_text_link_click",{event_category:"FAQ Internal Link",event_label:"Text link clicked: "+e,value:1}),"function"==typeof hj&&hj("event","faq_text_link_clicked_"+e)})});e=((a,n)=>{let o;return function(){let e=this,t=arguments;clearTimeout(o),o=setTimeout(()=>a.apply(e,t),n)}})(()=>{let r=t.value.trim().toLowerCase(),l=(0<r.length?a.style.display="block":a.style.display="none",0);n.forEach(e=>{let o=!1;e.querySelectorAll(".faq-item").forEach(e=>{var t=e.querySelector("summary").textContent.toLowerCase(),a=e.querySelector(".faq-answer"),a=a?a.textContent.toLowerCase():"",n=e.dataset.keywords?e.dataset.keywords.toLowerCase():"";t.includes(r)||a.includes(r)||n.includes(r)?(e.style.display="block",o=!0,l++,e.open||e.hasAttribute("data-opened-by-user")||(e.open=!0,e.setAttribute("data-opened-by-search","true"))):(e.style.display="none",e.open&&e.hasAttribute("data-opened-by-search")&&(e.open=!1,e.removeAttribute("data-opened-by-search")))}),o?e.style.display="block":e.style.display="none"}),"function"==typeof gtag&&gtag("event","faq_search",{event_category:"FAQ Search",search_term:r,results_count:l}),"function"==typeof hj&&hj("event","faq_searched_"+r.replace(/\s/g,"_").toLowerCase())},200),t.addEventListener("input",e),a.addEventListener("click",()=>{t.value="",a.style.display="none",o.forEach(e=>{e.style.display="block",e.open&&e.hasAttribute("data-opened-by-search")&&(e.open=!1,e.removeAttribute("data-opened-by-search"))}),n.forEach(e=>{e.style.display="block"}),"function"==typeof gtag&&gtag("event","faq_search_cleared",{event_category:"FAQ Search",event_label:"Search input cleared"}),"function"==typeof hj&&hj("event","faq_search_cleared")}),e=document.querySelector(".main-content");e&&e.addEventListener("click",e=>{var a=e.target.closest(".faq-item summary");if(a)if("A"===e.target.tagName)e.preventDefault(),window.location.href=e.target.href;else{e.preventDefault();let t=a.parentElement;var e=t.dataset.questionId,n=t.open;o.forEach(e=>{e!==t&&(e.open=!1,e.removeAttribute("data-opened-by-user"))}),n?(t.open=!1,"function"==typeof gtag&&gtag("event","faq_collapse",{event_category:"FAQ Interaction",event_label:"Question collapsed: "+e,question_text:a.textContent.trim()}),"function"==typeof hj&&hj("event","faq_collapsed_"+e),t.removeAttribute("data-opened-by-search"),t.removeAttribute("data-opened-by-user")):(t.open=!0,setTimeout(()=>{var e=t.getBoundingClientRect();(e.top<0||e.bottom>window.innerHeight)&&t.scrollIntoView({behavior:"smooth",block:"nearest"})},450),"function"==typeof gtag&&gtag("event","faq_expand",{event_category:"FAQ Interaction",event_label:"Question expanded: "+e,question_text:a.textContent.trim()}),"function"==typeof hj&&hj("event","faq_expanded_"+e),t.setAttribute("data-opened-by-user","true"),t.removeAttribute("data-opened-by-search"))}}),o.forEach(e=>{let t=e.querySelector("summary");t.addEventListener("focus",()=>{t.style.outline=`3px solid ${getComputedStyle(document.documentElement).getPropertyValue("--primary-blue")}66`,t.style.outlineOffset="5px"}),t.addEventListener("blur",()=>{t.style.outline="none",t.style.outlineOffset="0"})});let r=document.querySelector(".page-header"),l=document.querySelector(".main-content");r&&(r.style.opacity="0",r.style.transform="translateY(-20px)",setTimeout(()=>{r.style.transition="opacity 1s ease-out, transform 1s ease-out",r.style.opacity="1",r.style.transform="translateY(0)"},100)),l&&(l.style.opacity="0",l.style.transform="translateY(20px)",setTimeout(()=>{l.style.transition="opacity 1s ease-out, transform 1s ease-out",l.style.opacity="1",l.style.transform="translateY(0)"},300))});