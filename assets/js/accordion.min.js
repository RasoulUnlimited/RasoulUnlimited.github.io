!function(){"use strict";function e(e){if(!e)return;const t="true"===e.getAttribute("data-allow-multiple")||e.hasAttribute("data-allow-multiple"),o=Array.from(e.querySelectorAll(".accordion-item")),r=[];function n(e,t){const r=e.querySelector(".accordion-header"),n=e.querySelector(".accordion-content");if(!r||!n)return;const i="true"===r.getAttribute("aria-expanded");t||o.forEach(t=>{t!==e&&c(t)}),i?c(e):a(e)}function c(t){const o=t.querySelector(".accordion-header"),r=t.querySelector(".accordion-content");o&&r&&(o.setAttribute("aria-expanded","false"),r.hidden=!0,t.classList.remove("is-open"),t.dispatchEvent(new CustomEvent("accordion:collapse",{bubbles:!0,detail:{item:t,accordionId:e.dataset.accordionId}})))}function a(t){const o=t.querySelector(".accordion-header"),r=t.querySelector(".accordion-content");o&&r&&(o.setAttribute("aria-expanded","true"),r.hidden=!1,t.classList.add("is-open"),t.dispatchEvent(new CustomEvent("accordion:expand",{bubbles:!0,detail:{item:t,accordionId:e.dataset.accordionId}})))}o.forEach((t,o)=>{const n=t.querySelector(".accordion-header"),c=t.querySelector(".accordion-content");if(!n||!c)return;const a=e.dataset.accordionId||"main",i=n.id||`accordion-header-${a}-${o}`,d=c.id||`accordion-panel-${a}-${o}`;n.id=i,c.id=d;const s=t.classList.contains("is-open")||t.hasAttribute("data-open");n.setAttribute("role","button"),n.setAttribute("aria-controls",d),n.setAttribute("aria-expanded",s?"true":"false"),n.setAttribute("tabindex","0"),c.setAttribute("role","region"),c.setAttribute("aria-labelledby",i),c.hidden=!s,s?t.classList.add("is-open"):t.classList.remove("is-open"),r.push(n)}),o.forEach((e,o)=>{const c=e.querySelector(".accordion-header"),a=e.querySelector(".accordion-content");c&&a&&(c.addEventListener("click",()=>{n(e,t)}),c.addEventListener("keydown",o=>{const a=o.key;if("Enter"===a||" "===a)return o.preventDefault(),void n(e,t);const i=r.indexOf(c);if(-1!==i)if("ArrowDown"===a){o.preventDefault();(r[i+1]||r[0]).focus()}else if("ArrowUp"===a){o.preventDefault();(r[i-1]||r[r.length-1]).focus()}else"Home"===a?(o.preventDefault(),r[0].focus()):"End"===a&&(o.preventDefault(),r[r.length-1].focus())}))})}document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".accordion").forEach((t,o)=>{t.dataset.accordionId||(t.dataset.accordionId=String(o+1)),e(t)})})}();
//# sourceMappingURL=accordion.min.js.map
