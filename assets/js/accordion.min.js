!function(){"use strict";if("undefined"==typeof window||"undefined"==typeof document)return;const e=new Map,t="accordionId";let n=!1;const i=window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)");if(i){n=i.matches;const e=e=>{n=!!e.matches};"function"==typeof i.addEventListener?i.addEventListener("change",e):"function"==typeof i.addListener&&i.addListener(e)}function o(i){if(!i)return;if("true"===i.dataset.accordionInitialized)return;const o=i.dataset[t]||"main",r="true"===i.getAttribute("data-allow-multiple")||i.hasAttribute("data-allow-multiple"),a="false"!==i.getAttribute("data-allow-toggle"),c=[],s=[],l=n,d=Array.from(i.querySelectorAll(".accordion-item"));if(!d.length)return void(i.dataset.accordionInitialized="true");const u=l?null:new WeakMap,f=l?null:new WeakMap;function p(e){if(l||!e||!u||!f)return;const t=u.get(e);t&&(e.removeEventListener("transitionend",t),u.delete(e));const n=f.get(e);null!=n&&(clearTimeout(n),f.delete(e))}function m(e,t){if(l||!e||!u||!f)return void t();p(e);let n=!1;function i(i){n||(n=!0,p(e),t(i))}const o=e=>{"max-height"===e.propertyName&&i(e)};e.addEventListener("transitionend",o),u.set(e,o);const r=function(e){if(!e)return 500;const t=window.getComputedStyle(e),n=t.transitionDuration.split(","),i=t.transitionDelay.split(","),o=e=>{if(!(e=e.trim()))return 0;const t=parseFloat(e);return Number.isNaN(t)?0:e.includes("ms")?t:1e3*t};let r=0;for(let e=0;e<n.length;e++){const t=o(n[e]||"0s")+o(i[e]||i[0]||"0s");t>r&&(r=t)}return r||500}(e)+50,a=window.setTimeout(()=>{i()},r||500);f.set(e,a)}function h(e,t){if(!e)return;const n=function(e,t){if("function"==typeof window.CustomEvent)return new CustomEvent(e,{bubbles:!0,detail:t});const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!0,!1,t),n}(t,{item:e,accordionId:o});e.dispatchEvent(n)}function g(e){return"true"===e.header.getAttribute("aria-expanded")}function y(e,t){const{item:n,header:i,panel:o}=e;i.setAttribute("aria-expanded",t?"true":"false"),o.setAttribute("aria-hidden",t?"false":"true"),n.classList.toggle("is-open",t),o.hidden=!t}function w(e,t){const{panel:n}=e;y(e,t),n&&(t?(n.style.maxHeight="none",n.style.opacity="1",n.hidden=!1):(n.style.maxHeight="0px",n.style.opacity="0",n.hidden=!0))}if(d.forEach((e,t)=>{const n=e.querySelector(".accordion-header"),i=e.querySelector(".accordion-content");if(!n||!i)return;const r=n.id||`accordion-header-${o}-${t}`,a=i.id||`accordion-panel-${o}-${t}`;n.id=r,i.id=a;const d=e.classList.contains("is-open")||e.hasAttribute("data-open");n.setAttribute("role","button"),n.setAttribute("aria-controls",a),n.setAttribute("tabindex","0"),i.setAttribute("role","region"),i.setAttribute("aria-labelledby",r),l?w({item:e,header:n,panel:i},d):(y({item:e,header:n,panel:i},d),d?(i.style.maxHeight="none",i.style.opacity="1"):(i.style.maxHeight="0px",i.style.opacity="0")),s.push(n),c.push({item:e,header:n,panel:i})}),c.length){if(!a){if(!c.some(e=>g(e))&&c[0]){const e=c[0];l?w(e,!0):(y(e,!0),e.panel.style.maxHeight="none",e.panel.style.opacity="1")}}c.forEach(e=>{const{header:t}=e;t.addEventListener("click",()=>{t.hasAttribute("aria-disabled")||E(e)}),t.addEventListener("keydown",n=>{const i=n.key;if(t.hasAttribute("aria-disabled"))return;if("Enter"===i||" "===i)return n.preventDefault(),void E(e);const o=s.indexOf(t);if(-1!==o)if("ArrowDown"===i){n.preventDefault();(s[o+1]||s[0]).focus()}else if("ArrowUp"===i){n.preventDefault();(s[o-1]||s[s.length-1]).focus()}else"Home"===i?(n.preventDefault(),s[0].focus()):"End"===i&&(n.preventDefault(),s[s.length-1].focus())})}),e.set(o,{root:i,itemRefs:c,allowMultiple:r,allowToggle:a,expandItem:x,collapseItem:A,toggleItem:E,isItemExpanded:g}),i.dataset.accordionInitialized="true"}else i.dataset.accordionInitialized="true";function A(e){const{panel:t}=e;if(t){if(l)w(e,!1);else{y(e,!1),p(t),t.hidden=!1;const n=t.scrollHeight;t.style.maxHeight=n+"px",t.offsetHeight,m(t,()=>{t.hidden=!0,t.style.maxHeight="0px"}),requestAnimationFrame(()=>{t.style.maxHeight="0px",t.style.opacity="0"})}h(e.item,"accordion:collapse")}}function x(e){const{panel:t}=e;t&&(l?w(e,!0):(y(e,!0),p(t),t.hidden=!1,t.style.maxHeight="0px",t.style.opacity="0",m(t,()=>{t.style.maxHeight="none"}),requestAnimationFrame(()=>{const e=t.scrollHeight;t.style.maxHeight=e+"px",t.style.opacity="1"})),h(e.item,"accordion:expand"))}function E(e){const{item:t}=e,n=g(e);!a&&n&&c.reduce((e,t)=>g(t)?e+1:e,0)<=1||(r||c.forEach(e=>{e.item!==t&&g(e)&&A(e)}),n?A(e):x(e))}}function r(n){if(!n)return null;if("string"==typeof n){const t=n.trim();if(!t)return null;return e.get(t)||null}if(n instanceof HTMLElement){const i=n.matches(".accordion")?n:n.closest(".accordion");if(!i)return null;const o=i.dataset[t];if(!o)return null;return e.get(o)||null}return null}function a(e,t){if(!e||null==t)return null;const{itemRefs:n}=e;return"number"==typeof t?t<0||t>=n.length?null:n[t]||null:"string"==typeof t&&n.find(e=>e.item.id===t||e.header.id===t||e.panel.id===t)||null}document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".accordion").forEach((e,n)=>{e.dataset[t]||(e.dataset[t]=String(n+1)),o(e)})}),window.Accordion=window.Accordion||{},window.Accordion.open=function(e,t){const n=r(e);if(!n)return!1;const i=a(n,t);return!!i&&(n.expandItem(i),!0)},window.Accordion.close=function(e,t){const n=r(e);if(!n)return!1;const i=a(n,t);return!!i&&(n.collapseItem(i),!0)},window.Accordion.toggle=function(e,t){const n=r(e);if(!n)return!1;const i=a(n,t);return!!i&&(n.toggleItem(i),!0)},window.Accordion.isOpen=function(e,t){const n=r(e);if(!n)return null;const i=a(n,t);return i?n.isItemExpanded(i):null},window.Accordion.openAll=function(e){const t=r(e);if(!t)return;const{allowMultiple:n,itemRefs:i,expandItem:o}=t;n?i.forEach(e=>o(e)):i[0]&&o(i[0])},window.Accordion.closeAll=function(e){const t=r(e);if(!t)return;const{allowToggle:n,itemRefs:i,collapseItem:o,isItemExpanded:a,expandItem:c}=t;if(!n){let e=i.find(e=>a(e));return!e&&i[0]&&(e=i[0]),i.forEach(t=>{t!==e&&o(t)}),void(e&&!a(e)&&c(e))}i.forEach(e=>o(e))},window.Accordion.init=function(n){if(n)if("string"==typeof n){document.querySelectorAll(n).forEach((n,i)=>{n.dataset[t]||(n.dataset[t]=String(e.size+i+1)),o(n)})}else n instanceof HTMLElement&&(n.dataset[t]||(n.dataset[t]=String(e.size+1)),o(n))}}();
//# sourceMappingURL=accordion.min.js.map
