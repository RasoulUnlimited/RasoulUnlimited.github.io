!function(){"use strict";if("undefined"==typeof window||"undefined"==typeof document)return;const e=new Map,t=!(!window.matchMedia||!window.matchMedia("(prefers-reduced-motion: reduce)").matches);function n(t){if(!t)return null;if("string"==typeof t)return e.get(t)||null;if(t instanceof HTMLElement){const n=t.dataset?t.dataset.accordionId:null;return n&&e.get(n)||null}return null}function i(e,t){if(!e||null==t)return null;const{itemRefs:n}=e;return"number"==typeof t?n[t]||null:"string"==typeof t&&n.find(e=>e.item.id===t||e.header.id===t||e.panel.id===t)||null}document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".accordion").forEach((n,i)=>{n.dataset.accordionId||(n.dataset.accordionId=String(i+1)),function(n){if(!n)return;const i=n.dataset.accordionId||"main",o="true"===n.getAttribute("data-allow-multiple")||n.hasAttribute("data-allow-multiple"),a="false"!==n.getAttribute("data-allow-toggle"),r=[],d=[],s=t,l=Array.from(n.querySelectorAll(".accordion-item"));if(!l.length)return;const c=new WeakMap;if(l.forEach((e,t)=>{const n=e.querySelector(".accordion-header"),o=e.querySelector(".accordion-content");if(!n||!o)return;const a=n.id||`accordion-header-${i}-${t}`,s=o.id||`accordion-panel-${i}-${t}`;n.id=a,o.id=s;const l=e.classList.contains("is-open")||e.hasAttribute("data-open");n.setAttribute("role","button"),n.setAttribute("aria-controls",s),n.setAttribute("aria-expanded",l?"true":"false"),n.setAttribute("tabindex","0"),o.setAttribute("role","region"),o.setAttribute("aria-labelledby",a),o.setAttribute("aria-hidden",l?"false":"true"),o.hidden=!l,l?(e.classList.add("is-open"),o.style.maxHeight="none",o.style.opacity="1"):(e.classList.remove("is-open"),o.style.maxHeight=null,o.style.opacity="0"),d.push(n),r.push({item:e,header:n,panel:o})}),r.length){if(!a&&!r.some(e=>"true"===e.header.getAttribute("aria-expanded"))&&r[0]){const{item:e,header:t,panel:n}=r[0];t.setAttribute("aria-expanded","true"),e.classList.add("is-open"),n.setAttribute("aria-hidden","false"),n.hidden=!1,n.style.maxHeight="none",n.style.opacity="1"}r.forEach(e=>{const{header:t}=e;t.addEventListener("click",()=>{t.hasAttribute("aria-disabled")||h(e)}),t.addEventListener("keydown",n=>{const i=n.key;if(t.hasAttribute("aria-disabled"))return;if("Enter"===i||" "===i)return n.preventDefault(),void h(e);const o=d.indexOf(t);-1!==o&&("ArrowDown"===i?(n.preventDefault(),(d[o+1]||d[0]).focus()):"ArrowUp"===i?(n.preventDefault(),(d[o-1]||d[d.length-1]).focus()):"Home"===i?(n.preventDefault(),d[0].focus()):"End"===i&&(n.preventDefault(),d[d.length-1].focus()))})}),e.set(i,{root:n,itemRefs:r,allowMultiple:o,allowToggle:a,expandItem:m,collapseItem:p,toggleItem:h,isItemExpanded:f})}function u(e,t,n){e&&e.dispatchEvent(new CustomEvent(t,{bubbles:!0,detail:{item:e,accordionId:n}}))}function f(e){return"true"===e.header.getAttribute("aria-expanded")}function p(e){const{item:t,header:n,panel:o}=e;n&&o&&(n.setAttribute("aria-expanded","false"),t.classList.remove("is-open"),o.setAttribute("aria-hidden","true"),o.hidden=!0,s?(o.style.maxHeight=null,o.style.opacity="0"):("none"===o.style.maxHeight&&(o.style.maxHeight=o.scrollHeight+"px",o.offsetHeight),requestAnimationFrame(()=>{o.style.maxHeight=null,o.style.opacity="0"})),u(t,"accordion:collapse",i))}function m(e){const{item:t,header:n,panel:o}=e;if(n&&o){if(n.setAttribute("aria-expanded","true"),t.classList.add("is-open"),o.setAttribute("aria-hidden","false"),o.hidden=!1,s)o.style.maxHeight="none",o.style.opacity="1";else{o.style.maxHeight=o.scrollHeight+"px",o.style.opacity="1";const e=c.get(o);e&&o.removeEventListener("transitionend",e);const t=e=>{"max-height"===e.propertyName&&(o.style.maxHeight="none",o.removeEventListener("transitionend",t),c.delete(o))};c.set(o,t),o.addEventListener("transitionend",t)}u(t,"accordion:expand",i)}}function h(e){const{item:t}=e,n=f(e);!a&&n&&r.reduce((e,t)=>f(t)?e+1:e,0)<=1||(o||r.forEach(e=>{e.item!==t&&f(e)&&p(e)}),n?p(e):m(e))}}(n)})}),window.Accordion=window.Accordion||{},window.Accordion.open=function(e,t){const o=n(e);if(!o)return;const a=i(o,t);a&&o.expandItem(a)},window.Accordion.close=function(e,t){const o=n(e);if(!o)return;const a=i(o,t);a&&o.collapseItem(a)},window.Accordion.toggle=function(e,t){const o=n(e);if(!o)return;const a=i(o,t);a&&o.toggleItem(a)},window.Accordion.openAll=function(e){const t=n(e);if(!t)return;const{allowMultiple:i,itemRefs:o,expandItem:a}=t;i?o.forEach(e=>a(e)):o[0]&&a(o[0])},window.Accordion.closeAll=function(e){const t=n(e);if(!t)return;const{allowToggle:i,itemRefs:o,collapseItem:a,isItemExpanded:r}=t;if(!i){let e=o.find(e=>r(e));return!e&&o[0]&&(e=o[0]),void o.forEach(t=>{t!==e&&a(t)})}o.forEach(e=>a(e))}}();
//# sourceMappingURL=accordion.min.js.map
