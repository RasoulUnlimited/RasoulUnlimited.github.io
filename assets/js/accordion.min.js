!function(){"use strict";function e(e){if(!e)return;const t="true"===e.getAttribute("data-allow-multiple")||e.hasAttribute("data-allow-multiple"),o=Array.from(e.querySelectorAll(".accordion-item")),n=[];function r(t,n){const r=t.querySelector(".accordion-header"),i=t.querySelector(".accordion-content");if(!r||!i)return;const c="true"===r.getAttribute("aria-expanded");n||o.forEach(e=>{e!==t&&a(e)}),c?a(t):function(t){const o=t.querySelector(".accordion-header"),n=t.querySelector(".accordion-content");if(!o||!n)return;o.setAttribute("aria-expanded","true"),n.style.maxHeight=n.scrollHeight+"px",n.style.opacity="1",t.classList.add("is-open");const r=e=>{"max-height"===e.propertyName&&(n.style.maxHeight="none",n.removeEventListener("transitionend",r))};n.addEventListener("transitionend",r),t.dispatchEvent(new CustomEvent("accordion:expand",{bubbles:!0,detail:{item:t,accordionId:e.dataset.accordionId}}))}(t)}function a(t){const o=t.querySelector(".accordion-header"),n=t.querySelector(".accordion-content");o&&n&&("none"===n.style.maxHeight&&(n.style.maxHeight=n.scrollHeight+"px",n.offsetHeight),requestAnimationFrame(()=>{o.setAttribute("aria-expanded","false"),n.style.maxHeight=null,n.style.opacity="0",t.classList.remove("is-open")}),t.dispatchEvent(new CustomEvent("accordion:collapse",{bubbles:!0,detail:{item:t,accordionId:e.dataset.accordionId}})))}o.forEach((t,o)=>{const r=t.querySelector(".accordion-header"),a=t.querySelector(".accordion-content");if(!r||!a)return;const i=e.dataset.accordionId||"main",c=r.id||`accordion-header-${i}-${o}`,s=a.id||`accordion-panel-${i}-${o}`;r.id=c,a.id=s;const d=t.classList.contains("is-open")||t.hasAttribute("data-open");r.setAttribute("role","button"),r.setAttribute("aria-controls",s),r.setAttribute("aria-expanded",d?"true":"false"),r.setAttribute("tabindex","0"),a.setAttribute("role","region"),a.setAttribute("aria-labelledby",c),d?(t.classList.add("is-open"),a.style.maxHeight="none",a.style.opacity="1"):(t.classList.remove("is-open"),a.style.maxHeight=null,a.style.opacity="0"),n.push(r)}),o.forEach((e,o)=>{const a=e.querySelector(".accordion-header"),i=e.querySelector(".accordion-content");a&&i&&(a.addEventListener("click",()=>{r(e,t)}),a.addEventListener("keydown",o=>{const i=o.key;if("Enter"===i||" "===i)return o.preventDefault(),void r(e,t);const c=n.indexOf(a);if(-1!==c)if("ArrowDown"===i){o.preventDefault();(n[c+1]||n[0]).focus()}else if("ArrowUp"===i){o.preventDefault();(n[c-1]||n[n.length-1]).focus()}else"Home"===i?(o.preventDefault(),n[0].focus()):"End"===i&&(o.preventDefault(),n[n.length-1].focus())}))})}window.addEventListener("resize",()=>{document.querySelectorAll(".accordion-item.is-open .accordion-content").forEach(e=>{e.style.maxHeight=e.scrollHeight+500+"px"})}),document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".accordion").forEach((t,o)=>{t.dataset.accordionId||(t.dataset.accordionId=String(o+1)),e(t)})})}();
//# sourceMappingURL=accordion.min.js.map
