!function(){"use strict";if("undefined"==typeof window||"undefined"==typeof document)return;const e=new Map,t="accordionId";let n=!1;const o=window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)");if(o){n=o.matches;const e=e=>{n=Boolean(e.matches)};"function"==typeof o.addEventListener?o.addEventListener("change",e):"function"==typeof o.addListener&&o.addListener(e)}function i(o){if(!o)return;if("true"===o.dataset.accordionInitialized)return;const i=o.dataset[t]||"main",r="true"===o.getAttribute("data-allow-multiple")||o.hasAttribute("data-allow-multiple"),a="false"!==o.getAttribute("data-allow-toggle"),c=[],d=[],l=n,s=Array.from(o.querySelectorAll(".accordion-item"));if(s.length)if(s.forEach((e,t)=>{const n=e.querySelector(".accordion-header"),o=e.querySelector(".accordion-content");if(!n||!o)return;const r=n.id||`accordion-header-${i}-${t}`,a=o.id||`accordion-panel-${i}-${t}`;n.id=r,o.id=a;const s=e.classList.contains("is-open")||e.hasAttribute("data-open");n.setAttribute("role","button"),n.setAttribute("aria-controls",a),n.setAttribute("tabindex","0"),o.setAttribute("role","region"),o.setAttribute("aria-labelledby",r),l?m({item:e,header:n,panel:o},s):p({item:e,header:n,panel:o},s),d.push(n),c.push({item:e,header:n,panel:o})}),c.length){if(!a){if(!c.some(e=>f(e))&&c[0]){const e=c[0];l?m(e,!0):p(e,!0)}}c.forEach(e=>{const{header:t}=e;t.addEventListener("click",()=>{t.hasAttribute("aria-disabled")||g(e)}),t.addEventListener("keydown",n=>{const o=n.key;if(t.hasAttribute("aria-disabled"))return;if("Enter"===o||" "===o)return n.preventDefault(),void g(e);const i=d.indexOf(t);if(-1!==i)if("ArrowDown"===o){n.preventDefault();(d[i+1]||d[0]).focus()}else if("ArrowUp"===o){n.preventDefault();(d[i-1]||d[d.length-1]).focus()}else"Home"===o?(n.preventDefault(),d[0].focus()):"End"===o&&(n.preventDefault(),d[d.length-1].focus())})}),e.set(i,{root:o,itemRefs:c,allowMultiple:r,allowToggle:a,expandItem:w,collapseItem:h,toggleItem:g,isItemExpanded:f}),o.dataset.accordionInitialized="true"}else o.dataset.accordionInitialized="true";else o.dataset.accordionInitialized="true";function u(e,t){if(!e)return;const n=function(e,t){if("function"==typeof window.CustomEvent)return new CustomEvent(e,{bubbles:!0,detail:t});const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!0,!1,t),n}(t,{item:e,accordionId:i});e.dispatchEvent(n)}function f(e){return"true"===e.header.getAttribute("aria-expanded")}function p(e,t){const{item:n,header:o,panel:i}=e;o.setAttribute("aria-expanded",t?"true":"false"),i.setAttribute("aria-hidden",t?"false":"true"),n.classList.toggle("is-open",t),i.hidden=!t}function m(e,t){const{panel:n}=e;p(e,t),n&&(n.hidden=!t)}function h(e){const{panel:t}=e;t&&(l?m(e,!1):(p(e,!1),t.hidden=!0),u(e.item,"accordion:collapse"))}function w(e){const{panel:t}=e;t&&(l?m(e,!0):(p(e,!0),t.hidden=!1),u(e.item,"accordion:expand"))}function g(e){const{item:t}=e,n=f(e);!a&&n&&c.reduce((e,t)=>f(t)?e+1:e,0)<=1||(r||c.forEach(e=>{e.item!==t&&f(e)&&h(e)}),n?h(e):w(e))}}function r(n){if(!n)return null;if("string"==typeof n){const t=n.trim();if(!t)return null;return e.get(t)||null}if(n instanceof HTMLElement){const o=n.matches(".accordion")?n:n.closest(".accordion");if(!o)return null;const i=o.dataset[t];if(!i)return null;return e.get(i)||null}return null}function a(e,t){if(!e||null==t)return null;const{itemRefs:n}=e;return"number"==typeof t?t<0||t>=n.length?null:n[t]||null:"string"==typeof t&&n.find(e=>e.item.id===t||e.header.id===t||e.panel.id===t)||null}document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".accordion").forEach((e,n)=>{e.dataset[t]||(e.dataset[t]=String(n+1)),i(e)})}),window.Accordion=window.Accordion||{},window.Accordion.open=function(e,t){const n=r(e);if(!n)return!1;const o=a(n,t);return!!o&&(n.expandItem(o),!0)},window.Accordion.close=function(e,t){const n=r(e);if(!n)return!1;const o=a(n,t);return!!o&&(n.collapseItem(o),!0)},window.Accordion.toggle=function(e,t){const n=r(e);if(!n)return!1;const o=a(n,t);return!!o&&(n.toggleItem(o),!0)},window.Accordion.isOpen=function(e,t){const n=r(e);if(!n)return null;const o=a(n,t);return o?n.isItemExpanded(o):null},window.Accordion.openAll=function(e){const t=r(e);if(!t)return;const{allowMultiple:n,itemRefs:o,expandItem:i}=t;n?o.forEach(e=>i(e)):o[0]&&i(o[0])},window.Accordion.closeAll=function(e){const t=r(e);if(!t)return;const{allowToggle:n,itemRefs:o,collapseItem:i,isItemExpanded:a,expandItem:c}=t;if(!n){let e=o.find(e=>a(e));return!e&&o[0]&&(e=o[0]),o.forEach(t=>{t!==e&&i(t)}),void(e&&!a(e)&&c(e))}o.forEach(e=>i(e))},window.Accordion.init=function(n){if(n)if("string"==typeof n){document.querySelectorAll(n).forEach((n,o)=>{n.dataset[t]||(n.dataset[t]=String(e.size+o+1)),i(n)})}else n instanceof HTMLElement&&(n.dataset[t]||(n.dataset[t]=String(e.size+1)),i(n))}}();
//# sourceMappingURL=accordion.min.js.map
