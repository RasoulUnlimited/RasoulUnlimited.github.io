!function(){"use strict";function t(){const t=document.querySelector(".filter-bar");if(!t)return;const e=Array.from(document.querySelectorAll(".presskit-card"));if(!e.length)return;const r=Array.from(t.querySelectorAll("button[data-filter]"));if(!r.length)return;t._filterAbortController&&t._filterAbortController.abort();const i=new AbortController;t._filterAbortController=i;let n=t.querySelector('[data-filter-live="true"]');function l(t){r.forEach(e=>{const r=e===t;e.classList.toggle("active",r),e.setAttribute("aria-pressed",r?"true":"false")})}function o(t,i){const o=t||"all";if(i)l(i);else{const t=r.find(t=>t.getAttribute("data-filter")===o);t&&l(t)}let a=0;e.forEach(t=>{const e=function(t){return(t.getAttribute("data-category")||"").split(/\s+/).map(t=>t.trim()).filter(Boolean)}(t),r="all"===o||e.length&&e.includes(o);t.hidden=!r,t.classList.toggle("is-filtered-out",!r),r&&(a+=1)}),function(t){const r=e.length;n&&(n.textContent=t===r?`${t} item${1===t?"":"s"} shown`:`${t} of ${r} item${1===r?"":"s"} shown`)}(a)}n||(n=document.createElement("span"),n.setAttribute("aria-live","polite"),n.setAttribute("aria-atomic","true"),n.setAttribute("data-filter-live","true"),n.className="filter-live sr-only",t.appendChild(n)),t.addEventListener("click",t=>{const e=t.target.closest("button[data-filter]");if(!e)return;t.preventDefault();o(e.getAttribute("data-filter")||"all",e)},{signal:i.signal});const a=t.getAttribute("data-initial-filter"),s=r.find(t=>t.classList.contains("active"))||r[0];o(a||s?.getAttribute("data-filter")||"all",s)}document.addEventListener("DOMContentLoaded",t),document.addEventListener("includesLoaded",t)}();
//# sourceMappingURL=gallery-filter.min.js.map
