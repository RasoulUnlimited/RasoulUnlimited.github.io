{"version":3,"file":"hero-typing.min.js","names":["document","addEventListener","tagline","querySelector","dataset","typingInitialized","window","matchMedia","matches","roleSpans","querySelectorAll","roles","length","forEach","span","text","textContent","trim","push","originalContent","createElement","className","firstChild","appendChild","typingWrapper","innerHTML","typeSpan","roleIndex","charIndex","isDeleting","typeSpeed","setTimeout","type","body","contains","currentRole","substring","Math","random"],"sources":["hero-typing.js"],"mappings":"AAAAA,SAASC,iBAAiB,mBAAoB,WAC5C,MAAMC,EAAUF,SAASG,cAAc,YACvC,IAAKD,EAAU,OAGf,GAA0C,SAAtCA,EAAQE,QAAQC,kBAClB,OAQF,GAJEC,OAAOC,YACPD,OAAOC,WAAW,oCAAoCC,QAKtD,YADAN,EAAQE,QAAQC,kBAAoB,QAKtC,MAAMI,EAAYP,EAAQQ,iBACxB,oCAEF,IAAIC,EAAQ,GAiBZ,GAfIF,EAAUG,OAAS,EACrBH,EAAUI,QAASC,IACjB,MAAMC,EAAOD,EAAKE,YAAYC,OAC1BF,GAAOJ,EAAMO,KAAKH,KAIxBJ,EAAQ,CACN,uBACA,uBACA,yBAKCA,EAAMC,OAET,YADAV,EAAQE,QAAQC,kBAAoB,QAKtC,MAAMc,EAAkBnB,SAASoB,cAAc,QAG/C,IAFAD,EAAgBE,UAAY,sBAErBnB,EAAQoB,YACbH,EAAgBI,YAAYrB,EAAQoB,YAEtCpB,EAAQqB,YAAYJ,GAGpB,MAAMK,EAAgBxB,SAASoB,cAAc,QAC7CI,EAAcH,UAAY,iBAC1BG,EAAcC,UACZ,uGAEFvB,EAAQqB,YAAYC,GAEpB,MAAME,EAAWF,EAAcrB,cAAc,gBAE7C,IAAIwB,EAAY,EACZC,EAAY,EACZC,GAAa,EACbC,EAAY,GAgChB5B,EAAQE,QAAQC,kBAAoB,OAGpC0B,WAjCA,SAASC,IAEP,IAAKhC,SAASiC,KAAKC,SAAShC,GAAW,OAEvC,MAAMiC,EAAcxB,EAAMgB,GAEtBE,GACFH,EAASV,YAAcmB,EAAYC,UAAU,EAAGR,EAAY,GAC5DA,IACAE,EAAY,KAEZJ,EAASV,YAAcmB,EAAYC,UAAU,EAAGR,EAAY,GAC5DA,IACAE,EAAY,GAAqB,GAAhBO,KAAKC,UAGnBT,GAAcD,IAAcO,EAAYvB,OAIlCiB,GAA4B,IAAdD,IAEvBC,GAAa,EACbF,GAAaA,EAAY,GAAKhB,EAAMC,OACpCkB,EAAY,MANZD,GAAa,EACbC,EAAY,KAQdC,WAAWC,EAAMF,EACnB,EAKiB,IACnB","ignoreList":[],"sourcesContent":["document.addEventListener(\"DOMContentLoaded\", function () {\r\n  const tagline = document.querySelector(\".tagline\");\r\n  if (!tagline) {return;}\r\n\r\n  // اگر قبلاً این اسکریپت روی این عنصر اجرا شده، دوباره دست نزن\r\n  if (tagline.dataset.typingInitialized === \"true\") {\r\n    return;\r\n  }\r\n\r\n  const prefersReducedMotion =\r\n    window.matchMedia &&\r\n    window.matchMedia(\"(prefers-reduced-motion: reduce)\").matches;\r\n\r\n  // اگر کاربر motion رو کم کرده، متن اصلی رو دست‌نخورده نگه داریم\r\n  if (prefersReducedMotion) {\r\n    tagline.dataset.typingInitialized = \"true\";\r\n    return;\r\n  }\r\n\r\n  // Extract roles from the existing HTML to ensure consistency\r\n  const roleSpans = tagline.querySelectorAll(\r\n    'span[property=\"schema:jobTitle\"]'\r\n  );\r\n  let roles = [];\r\n\r\n  if (roleSpans.length > 0) {\r\n    roleSpans.forEach((span) => {\r\n      const text = span.textContent.trim();\r\n      if (text) {roles.push(text);}\r\n    });\r\n  } else {\r\n    // Fallback if structure changes\r\n    roles = [\r\n      \"دانشجوی مهندسی پزشکی\",\r\n      \"توسعه‌دهنده فول‌استک\",\r\n      \"استراتژیست برند شخصی\",\r\n    ];\r\n  }\r\n\r\n  // اگر به هر دلیل هیچ role معتبری نداشتیم، بهتره انیمیشن رو اجرا نکنیم\r\n  if (!roles.length) {\r\n    tagline.dataset.typingInitialized = \"true\";\r\n    return;\r\n  }\r\n\r\n  // Hide original content visually but keep for SEO\r\n  const originalContent = document.createElement(\"span\");\r\n  originalContent.className = \"visually-hidden-seo\";\r\n\r\n  while (tagline.firstChild) {\r\n    originalContent.appendChild(tagline.firstChild);\r\n  }\r\n  tagline.appendChild(originalContent);\r\n\r\n  // Create typing wrapper\r\n  const typingWrapper = document.createElement(\"span\");\r\n  typingWrapper.className = \"typing-wrapper\";\r\n  typingWrapper.innerHTML =\r\n    '<span class=\"typing-text\" aria-live=\"polite\"></span>' +\r\n    '<span class=\"cursor\" aria-hidden=\"true\">|</span>';\r\n  tagline.appendChild(typingWrapper);\r\n\r\n  const typeSpan = typingWrapper.querySelector(\".typing-text\");\r\n\r\n  let roleIndex = 0;\r\n  let charIndex = 0;\r\n  let isDeleting = false;\r\n  let typeSpeed = 80; // Slightly faster typing\r\n\r\n  function type() {\r\n    // اگر در حین کار این بلاک از DOM حذف شد، حلقه رو متوقف کن\r\n    if (!document.body.contains(tagline)) {return;}\r\n\r\n    const currentRole = roles[roleIndex];\r\n\r\n    if (isDeleting) {\r\n      typeSpan.textContent = currentRole.substring(0, charIndex - 1);\r\n      charIndex--;\r\n      typeSpeed = 40; // Fast deleting\r\n    } else {\r\n      typeSpan.textContent = currentRole.substring(0, charIndex + 1);\r\n      charIndex++;\r\n      typeSpeed = 80 + Math.random() * 50; // Natural typing variation\r\n    }\r\n\r\n    if (!isDeleting && charIndex === currentRole.length) {\r\n      // Pause at end of word\r\n      isDeleting = true;\r\n      typeSpeed = 2000;\r\n    } else if (isDeleting && charIndex === 0) {\r\n      // Move to next word\r\n      isDeleting = false;\r\n      roleIndex = (roleIndex + 1) % roles.length;\r\n      typeSpeed = 500; // Pause before typing next word\r\n    }\r\n\r\n    setTimeout(type, typeSpeed);\r\n  }\r\n\r\n  tagline.dataset.typingInitialized = \"true\";\r\n\r\n  // Start typing loop\r\n  setTimeout(type, 1000);\r\n});\r\n"]}