{"version":3,"file":"hero-typing.min.js","names":["document","addEventListener","tagline","querySelector","dataset","typingInitialized","window","matchMedia","matches","roleSpans","querySelectorAll","roles","length","forEach","span","text","textContent","trim","push","originalContent","createElement","className","firstChild","appendChild","typingWrapper","setAttribute","innerHTML","typeSpan","roleIndex","charIndex","isDeleting","typeSpeed","setTimeout","type","body","contains","currentRole","substring","Math","random"],"sources":["hero-typing.js"],"mappings":"AAAAA,SAASC,iBAAiB,mBAAoB,WAC5C,MAAMC,EAAUF,SAASG,cAAc,kBACvC,IAAKD,EAAU,OAEf,GAA0C,SAAtCA,EAAQE,QAAQC,kBAClB,OAOF,GAHEC,OAAOC,YACPD,OAAOC,WAAW,oCAAoCC,QAItD,YADAN,EAAQE,QAAQC,kBAAoB,QAItC,MAAMI,EAAYP,EAAQQ,iBAAiB,oCAC3C,IAAIC,EAAQ,GAeZ,GAbIF,EAAUG,OAAS,EACrBH,EAAUI,QAASC,IACjB,MAAMC,GAAQD,EAAKE,aAAe,IAAIC,OAClCF,GAAOJ,EAAMO,KAAKH,KAGxBJ,EAAQ,CACN,8BACA,uBACA,gCAICA,EAAMC,OAET,YADAV,EAAQE,QAAQC,kBAAoB,QAKtC,MAAMc,EAAkBnB,SAASoB,cAAc,QAE/C,IADAD,EAAgBE,UAAY,sBACrBnB,EAAQoB,YACbH,EAAgBI,YAAYrB,EAAQoB,YAEtCpB,EAAQqB,YAAYJ,GAEpB,MAAMK,EAAgBxB,SAASoB,cAAc,QAC7CI,EAAcH,UAAY,iBAC1BG,EAAcC,aAAa,cAAe,QAC1CD,EAAcE,UACZ,oFAEFxB,EAAQqB,YAAYC,GAEpB,MAAMG,EAAWH,EAAcrB,cAAc,gBAC7C,IAAKwB,EAEH,YADAzB,EAAQE,QAAQC,kBAAoB,QAItC,IAAIuB,EAAY,EACZC,EAAY,EACZC,GAAa,EACbC,EAAY,GA4BhB7B,EAAQE,QAAQC,kBAAoB,OACpC2B,WA3BA,SAASC,IACP,IAAKjC,SAASkC,KAAKC,SAASjC,GAAW,OAEvC,MAAMkC,EAAczB,EAAMiB,GACtBE,GACFH,EAASX,YAAcoB,EAAYC,UAAU,EAAGR,EAAY,GAC5DA,IACAE,EAAY,KAEZJ,EAASX,YAAcoB,EAAYC,UAAU,EAAGR,EAAY,GAC5DA,IACAE,EAAY,GAAqB,GAAhBO,KAAKC,UAGnBT,GAAcD,IAAcO,EAAYxB,OAGlCkB,GAA4B,IAAdD,IACvBC,GAAa,EACbF,GAAaA,EAAY,GAAKjB,EAAMC,OACpCmB,EAAY,MALZD,GAAa,EACbC,EAAY,KAOdC,WAAWC,EAAMF,EACnB,EAGiB,IACnB","ignoreList":[],"sourcesContent":["document.addEventListener(\"DOMContentLoaded\", function () {\n  const tagline = document.querySelector(\"#hero .tagline\");\n  if (!tagline) {return;}\n\n  if (tagline.dataset.typingInitialized === \"true\") {\n    return;\n  }\n\n  const prefersReducedMotion =\n    window.matchMedia &&\n    window.matchMedia(\"(prefers-reduced-motion: reduce)\").matches;\n\n  if (prefersReducedMotion) {\n    tagline.dataset.typingInitialized = \"true\";\n    return;\n  }\n\n  const roleSpans = tagline.querySelectorAll('span[property=\"schema:jobTitle\"]');\n  let roles = [];\n\n  if (roleSpans.length > 0) {\n    roleSpans.forEach((span) => {\n      const text = (span.textContent || \"\").trim();\n      if (text) {roles.push(text);}\n    });\n  } else {\n    roles = [\n      \"معمار محصولات دیجیتال سلامت\",\n      \"توسعه‌دهنده فول‌استک\",\n      \"استراتژیست هویت و برند شخصی\",\n    ];\n  }\n\n  if (!roles.length) {\n    tagline.dataset.typingInitialized = \"true\";\n    return;\n  }\n\n  // Keep a static screen-reader text and hide only visually.\n  const originalContent = document.createElement(\"span\");\n  originalContent.className = \"visually-hidden-seo\";\n  while (tagline.firstChild) {\n    originalContent.appendChild(tagline.firstChild);\n  }\n  tagline.appendChild(originalContent);\n\n  const typingWrapper = document.createElement(\"span\");\n  typingWrapper.className = \"typing-wrapper\";\n  typingWrapper.setAttribute(\"aria-hidden\", \"true\");\n  typingWrapper.innerHTML =\n    '<span class=\"typing-text\"></span>' +\n    '<span class=\"cursor\" aria-hidden=\"true\">|</span>';\n  tagline.appendChild(typingWrapper);\n\n  const typeSpan = typingWrapper.querySelector(\".typing-text\");\n  if (!typeSpan) {\n    tagline.dataset.typingInitialized = \"true\";\n    return;\n  }\n\n  let roleIndex = 0;\n  let charIndex = 0;\n  let isDeleting = false;\n  let typeSpeed = 80;\n\n  function type() {\n    if (!document.body.contains(tagline)) {return;}\n\n    const currentRole = roles[roleIndex];\n    if (isDeleting) {\n      typeSpan.textContent = currentRole.substring(0, charIndex - 1);\n      charIndex--;\n      typeSpeed = 40;\n    } else {\n      typeSpan.textContent = currentRole.substring(0, charIndex + 1);\n      charIndex++;\n      typeSpeed = 80 + Math.random() * 50;\n    }\n\n    if (!isDeleting && charIndex === currentRole.length) {\n      isDeleting = true;\n      typeSpeed = 2000;\n    } else if (isDeleting && charIndex === 0) {\n      isDeleting = false;\n      roleIndex = (roleIndex + 1) % roles.length;\n      typeSpeed = 500;\n    }\n\n    setTimeout(type, typeSpeed);\n  }\n\n  tagline.dataset.typingInitialized = \"true\";\n  setTimeout(type, 1000);\n});\n"]}