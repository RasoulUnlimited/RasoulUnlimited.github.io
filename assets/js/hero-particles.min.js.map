{"version":3,"file":"hero-particles.min.js","names":["document","addEventListener","canvas","getElementById","ctx","getContext","connection","navigator","mozConnection","webkitConnection","reducedMotionQuery","window","matchMedia","coarsePointerQuery","resizeTimeout","particlesArray","rafId","destroyed","heroVisible","pageVisible","hidden","particlesEnabled","canvasObserver","themeObserver","isMotionConstrained","matches","saveData","type","String","effectiveType","toLowerCase","includes","isNetworkConstrained","innerWidth","resizeCanvas","rect","getBoundingClientRect","width","Math","max","round","height","innerHeight","Particle","constructor","x","y","directionX","directionY","size","color","this","draw","beginPath","arc","PI","fillStyle","fill","update","mouse","dx","dy","sqrt","radius","initParticles","particleColor","fromVar","getComputedStyle","documentElement","getPropertyValue","trim","body","classList","contains","resolveParticleColor","count","min","floor","i","random","push","cachedR","cachedG","cachedB","lastColorUpdateTime","connectParticles","now","Date","rgbaMatch","match","parseInt","updateParticleColorCache","maxDistanceSq","a","length","b","distance","opacityValue","strokeStyle","lineWidth","moveTo","lineTo","stroke","stopAnimationLoop","cancelAnimationFrame","renderFrame","clearRect","requestAnimationFrame","setParticlesMode","active","dataset","particlesState","syncParticlesMode","onResize","clearTimeout","setTimeout","onMouseMove","event","clientX","clientY","onVisibilityChange","onMediaOrNetworkChange","cleanup","removeEventListener","disconnect","setAttribute","passive","once","IntersectionObserver","entries","forEach","entry","isIntersecting","observe","MutationObserver","mutations","mutation","attributeName","attributes","attributeFilter","heroImage","querySelector","heroSection","tiltEnabled","syncTiltMode","nextEnabled","heroTilt","style","transform","e","moveX","left","moveY","top","onMouseLeave","cleanupTilt"],"sources":["hero-particles.js"],"mappings":"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","ignoreList":[],"sourcesContent":["document.addEventListener(\"DOMContentLoaded\", function () {\n  const canvas = document.getElementById(\"hero-particles\");\n  if (!canvas) {return;}\n\n  const ctx = canvas.getContext(\"2d\");\n  if (!ctx) {return;}\n\n  const MIN_FULL_MOTION_VIEWPORT = 992;\n  const connection =\n    navigator.connection || navigator.mozConnection || navigator.webkitConnection;\n  const reducedMotionQuery = window.matchMedia\n    ? window.matchMedia(\"(prefers-reduced-motion: reduce)\")\n    : null;\n  const coarsePointerQuery = window.matchMedia\n    ? window.matchMedia(\"(pointer: coarse)\")\n    : null;\n\n  let particlesArray = [];\n  let resizeTimeout;\n  let rafId = null;\n  let destroyed = false;\n  let heroVisible = true;\n  let pageVisible = !document.hidden;\n  let particlesEnabled = false;\n  let canvasObserver = null;\n  let themeObserver = null;\n\n  function isNetworkConstrained() {\n    if (!connection) {return false;}\n    const saveData = !!connection.saveData;\n    const type = String(connection.effectiveType || \"\").toLowerCase();\n    return saveData || type.includes(\"2g\") || type.includes(\"slow-2g\");\n  }\n\n  function isMotionConstrained() {\n    return (\n      !!reducedMotionQuery?.matches ||\n      !!coarsePointerQuery?.matches ||\n      isNetworkConstrained() ||\n      window.innerWidth < MIN_FULL_MOTION_VIEWPORT\n    );\n  }\n\n  function shouldAnimateParticles() {\n    return !destroyed && heroVisible && pageVisible && !isMotionConstrained();\n  }\n\n  function resizeCanvas() {\n    const rect = canvas.getBoundingClientRect();\n    const width = Math.max(1, Math.round(rect.width || window.innerWidth));\n    const height = Math.max(1, Math.round(rect.height || window.innerHeight));\n    canvas.width = width;\n    canvas.height = height;\n  }\n\n  function resolveParticleColor() {\n    const fromVar = getComputedStyle(document.documentElement)\n      .getPropertyValue(\"--particle-color\")\n      .trim();\n\n    if (fromVar) {\n      return fromVar;\n    }\n\n    const prefersDark =\n      document.body.classList.contains(\"dark-mode\") ||\n      (window.matchMedia &&\n        window.matchMedia(\"(prefers-color-scheme: dark)\").matches);\n    return prefersDark ? \"rgba(255, 255, 255, 0.22)\" : \"rgba(0, 0, 0, 0.2)\";\n  }\n\n  class Particle {\n    constructor(x, y, directionX, directionY, size, color) {\n      this.x = x;\n      this.y = y;\n      this.directionX = directionX;\n      this.directionY = directionY;\n      this.size = size;\n      this.color = color;\n    }\n\n    draw() {\n      ctx.beginPath();\n      ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2, false);\n      ctx.fillStyle = this.color;\n      ctx.fill();\n    }\n\n    update(mouse) {\n      if (this.x > canvas.width || this.x < 0) {\n        this.directionX = -this.directionX;\n      }\n      if (this.y > canvas.height || this.y < 0) {\n        this.directionY = -this.directionY;\n      }\n\n      const dx = mouse.x - this.x;\n      const dy = mouse.y - this.y;\n      const distance = Math.sqrt(dx * dx + dy * dy);\n      if (distance < mouse.radius + this.size) {\n        if (mouse.x < this.x && this.x < canvas.width - this.size * 10) {\n          this.x += 10;\n        }\n        if (mouse.x > this.x && this.x > this.size * 10) {\n          this.x -= 10;\n        }\n        if (mouse.y < this.y && this.y < canvas.height - this.size * 10) {\n          this.y += 10;\n        }\n        if (mouse.y > this.y && this.y > this.size * 10) {\n          this.y -= 10;\n        }\n      }\n\n      this.x += this.directionX;\n      this.y += this.directionY;\n      this.draw();\n    }\n  }\n\n  const mouse = {\n    x: null,\n    y: null,\n    radius: 140,\n  };\n\n  function initParticles() {\n    particlesArray = [];\n    const particleColor = resolveParticleColor();\n    const count = Math.min(\n      170,\n      Math.max(18, Math.floor((canvas.width * canvas.height) / 12000))\n    );\n\n    for (let i = 0; i < count; i++) {\n      const size = Math.random() * 4 + 1;\n      const x = Math.random() * (canvas.width - size * 4) + size * 2;\n      const y = Math.random() * (canvas.height - size * 4) + size * 2;\n      const directionX = Math.random() * 1.5 - 0.75;\n      const directionY = Math.random() * 1.5 - 0.75;\n      particlesArray.push(\n        new Particle(x, y, directionX, directionY, size, particleColor)\n      );\n    }\n  }\n\n  let cachedR = 99;\n  let cachedG = 102;\n  let cachedB = 241;\n  let lastColorUpdateTime = 0;\n  const COLOR_CACHE_INTERVAL = 1000;\n\n  function updateParticleColorCache() {\n    const now = Date.now();\n    if (now - lastColorUpdateTime < COLOR_CACHE_INTERVAL) {return;}\n\n    lastColorUpdateTime = now;\n    const particleColor =\n      getComputedStyle(document.documentElement)\n        .getPropertyValue(\"--particle-color\")\n        .trim() || \"rgba(99, 102, 241, 0.2)\";\n    const rgbaMatch = particleColor.match(/rgba?\\((\\d+),\\s*(\\d+),\\s*(\\d+)/);\n    if (rgbaMatch) {\n      cachedR = parseInt(rgbaMatch[1], 10);\n      cachedG = parseInt(rgbaMatch[2], 10);\n      cachedB = parseInt(rgbaMatch[3], 10);\n    }\n  }\n\n  function connectParticles() {\n    updateParticleColorCache();\n    const maxDistanceSq = (canvas.width / 8) * (canvas.height / 8);\n\n    for (let a = 0; a < particlesArray.length; a++) {\n      for (let b = a + 1; b < particlesArray.length; b++) {\n        const distance =\n          (particlesArray[a].x - particlesArray[b].x) *\n            (particlesArray[a].x - particlesArray[b].x) +\n          (particlesArray[a].y - particlesArray[b].y) *\n            (particlesArray[a].y - particlesArray[b].y);\n\n        if (distance < maxDistanceSq) {\n          const opacityValue = 1 - distance / 22000;\n          ctx.strokeStyle = `rgba(${cachedR}, ${cachedG}, ${cachedB}, ${opacityValue})`;\n          ctx.lineWidth = 1;\n          ctx.beginPath();\n          ctx.moveTo(particlesArray[a].x, particlesArray[a].y);\n          ctx.lineTo(particlesArray[b].x, particlesArray[b].y);\n          ctx.stroke();\n        }\n      }\n    }\n  }\n\n  function stopAnimationLoop() {\n    if (rafId !== null) {\n      cancelAnimationFrame(rafId);\n      rafId = null;\n    }\n  }\n\n  function renderFrame() {\n    if (!particlesEnabled || destroyed) {\n      rafId = null;\n      return;\n    }\n\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    for (let i = 0; i < particlesArray.length; i++) {\n      particlesArray[i].update(mouse);\n    }\n    connectParticles();\n    rafId = requestAnimationFrame(renderFrame);\n  }\n\n  function startAnimationLoop() {\n    if (rafId === null) {\n      rafId = requestAnimationFrame(renderFrame);\n    }\n  }\n\n  function setParticlesMode(active) {\n    if (active === particlesEnabled) {return;}\n    particlesEnabled = active;\n    canvas.dataset.particlesState = active ? \"active\" : \"disabled\";\n\n    if (active) {\n      resizeCanvas();\n      initParticles();\n      startAnimationLoop();\n    } else {\n      stopAnimationLoop();\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n    }\n  }\n\n  function syncParticlesMode() {\n    setParticlesMode(shouldAnimateParticles());\n  }\n\n  function onResize() {\n    clearTimeout(resizeTimeout);\n    resizeTimeout = setTimeout(() => {\n      resizeCanvas();\n      if (particlesEnabled) {\n        initParticles();\n      }\n      syncParticlesMode();\n    }, 140);\n  }\n\n  function onMouseMove(event) {\n    mouse.x = event.clientX;\n    mouse.y = event.clientY;\n  }\n\n  function onVisibilityChange() {\n    pageVisible = !document.hidden;\n    syncParticlesMode();\n  }\n\n  function onMediaOrNetworkChange() {\n    syncParticlesMode();\n  }\n\n  function cleanup() {\n    destroyed = true;\n    clearTimeout(resizeTimeout);\n    stopAnimationLoop();\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    canvas.dataset.particlesState = \"disabled\";\n\n    window.removeEventListener(\"resize\", onResize);\n    window.removeEventListener(\"mousemove\", onMouseMove);\n    document.removeEventListener(\"visibilitychange\", onVisibilityChange);\n    window.removeEventListener(\"pagehide\", cleanup);\n    window.removeEventListener(\"beforeunload\", cleanup);\n\n    if (themeObserver) {\n      themeObserver.disconnect();\n      themeObserver = null;\n    }\n    if (canvasObserver) {\n      canvasObserver.disconnect();\n      canvasObserver = null;\n    }\n\n    reducedMotionQuery?.removeEventListener?.(\"change\", onMediaOrNetworkChange);\n    coarsePointerQuery?.removeEventListener?.(\"change\", onMediaOrNetworkChange);\n    connection?.removeEventListener?.(\"change\", onMediaOrNetworkChange);\n  }\n\n  resizeCanvas();\n  canvas.setAttribute(\"aria-hidden\", \"true\");\n  canvas.dataset.particlesState = \"disabled\";\n\n  window.addEventListener(\"resize\", onResize, { passive: true });\n  window.addEventListener(\"mousemove\", onMouseMove, { passive: true });\n  document.addEventListener(\"visibilitychange\", onVisibilityChange);\n  window.addEventListener(\"pagehide\", cleanup, { once: true });\n  window.addEventListener(\"beforeunload\", cleanup, { once: true });\n\n  if (\"IntersectionObserver\" in window) {\n    canvasObserver = new IntersectionObserver((entries) => {\n      entries.forEach((entry) => {\n        heroVisible = entry.isIntersecting;\n      });\n      syncParticlesMode();\n    });\n    canvasObserver.observe(canvas);\n  }\n\n  themeObserver = new MutationObserver((mutations) => {\n    for (const mutation of mutations) {\n      if (mutation.attributeName === \"class\" && particlesEnabled) {\n        initParticles();\n      }\n    }\n  });\n  themeObserver.observe(document.body, {\n    attributes: true,\n    attributeFilter: [\"class\"],\n  });\n\n  reducedMotionQuery?.addEventListener?.(\"change\", onMediaOrNetworkChange);\n  coarsePointerQuery?.addEventListener?.(\"change\", onMediaOrNetworkChange);\n  connection?.addEventListener?.(\"change\", onMediaOrNetworkChange);\n\n  syncParticlesMode();\n});\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n  const heroImage = document.querySelector(\".profile-image\");\n  const heroSection = document.getElementById(\"hero\");\n  if (!heroImage || !heroSection) {return;}\n\n  const reducedMotionQuery = window.matchMedia\n    ? window.matchMedia(\"(prefers-reduced-motion: reduce)\")\n    : null;\n  const coarsePointerQuery = window.matchMedia\n    ? window.matchMedia(\"(pointer: coarse)\")\n    : null;\n  const MIN_TILT_VIEWPORT = 992;\n\n  let tiltEnabled = false;\n  let destroyed = false;\n\n  function canEnableTilt() {\n    return (\n      !reducedMotionQuery?.matches &&\n      !coarsePointerQuery?.matches &&\n      window.innerWidth >= MIN_TILT_VIEWPORT &&\n      !document.hidden\n    );\n  }\n\n  function syncTiltMode() {\n    if (destroyed) {return;}\n    const nextEnabled = canEnableTilt();\n    tiltEnabled = nextEnabled;\n    heroSection.dataset.heroTilt = nextEnabled ? \"enabled\" : \"disabled\";\n    if (!nextEnabled) {\n      heroImage.style.transform = \"\";\n    }\n  }\n\n  function onMouseMove(e) {\n    if (!tiltEnabled) {return;}\n    const rect = heroSection.getBoundingClientRect();\n    const x = (e.clientX - rect.left) / rect.width;\n    const y = (e.clientY - rect.top) / rect.height;\n    const moveX = (x - 0.5) * 12;\n    const moveY = (y - 0.5) * 12;\n    heroImage.style.transform =\n      `perspective(1000px) rotateY(${moveX}deg) rotateX(${-moveY}deg) scale(1.03)`;\n  }\n\n  function onMouseLeave() {\n    heroImage.style.transform = \"\";\n  }\n\n  function onVisibilityChange() {\n    syncTiltMode();\n  }\n\n  function cleanupTilt() {\n    destroyed = true;\n    heroImage.style.transform = \"\";\n    heroSection.dataset.heroTilt = \"disabled\";\n    heroSection.removeEventListener(\"mousemove\", onMouseMove);\n    heroSection.removeEventListener(\"mouseleave\", onMouseLeave);\n    window.removeEventListener(\"resize\", syncTiltMode);\n    document.removeEventListener(\"visibilitychange\", onVisibilityChange);\n    window.removeEventListener(\"pagehide\", cleanupTilt);\n    window.removeEventListener(\"beforeunload\", cleanupTilt);\n    reducedMotionQuery?.removeEventListener?.(\"change\", syncTiltMode);\n    coarsePointerQuery?.removeEventListener?.(\"change\", syncTiltMode);\n  }\n\n  heroSection.addEventListener(\"mousemove\", onMouseMove);\n  heroSection.addEventListener(\"mouseleave\", onMouseLeave);\n  window.addEventListener(\"resize\", syncTiltMode, { passive: true });\n  document.addEventListener(\"visibilitychange\", onVisibilityChange);\n  window.addEventListener(\"pagehide\", cleanupTilt, { once: true });\n  window.addEventListener(\"beforeunload\", cleanupTilt, { once: true });\n  reducedMotionQuery?.addEventListener?.(\"change\", syncTiltMode);\n  coarsePointerQuery?.addEventListener?.(\"change\", syncTiltMode);\n\n  syncTiltMode();\n});\n"]}