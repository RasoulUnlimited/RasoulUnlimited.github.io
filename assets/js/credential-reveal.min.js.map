{"version":3,"file":"credential-reveal.min.js","names":["initCredentialReveal","cards","document","querySelectorAll","length","prefersReduced","window","matchMedia","matches","forEach","card","classList","add","remove","observer","IntersectionObserver","entries","obs","entry","isIntersecting","target","unobserve","rootMargin","threshold","observe","addEventListener"],"sources":["credential-reveal.js"],"mappings":"CAAA,WACE,aAEA,SAASA,IAEP,MAAMC,EAAQC,SAASC,iBAAiB,yCACxC,IAAKF,EAAMG,OAAS,OAEpB,MACMC,EADcC,OAAOC,WAAW,oCACHC,QAGnCP,EAAMQ,QAAQC,GAAQA,EAAKC,UAAUC,IAAI,mBAWzC,KAAM,yBAA0BN,SAAWD,EAEzC,YATAJ,EAAMQ,QAASC,IACbA,EAAKC,UAAUE,OAAO,eACtBH,EAAKC,UAAUC,IAAI,kBAWvBX,EAAMQ,QAASC,IACbA,EAAKC,UAAUC,IAAI,eACnBF,EAAKC,UAAUE,OAAO,kBAGxB,MAAMC,EAAW,IAAIC,qBACnB,CAACC,EAASC,KACRD,EAAQP,QAASS,IACf,IAAKA,EAAMC,eAAiB,OAE5B,MAAMT,EAAOQ,EAAME,OACnBV,EAAKC,UAAUC,IAAI,gBACnBF,EAAKC,UAAUE,OAAO,eAEtBI,EAAII,UAAUX,MAGlB,CACEY,WAAY,mBACZC,UAAW,KAIftB,EAAMQ,QAASC,GAASI,EAASU,QAAQd,GAC3C,CAEAR,SAASuB,iBAAiB,mBAAoBzB,GAC9CE,SAASuB,iBAAiB,iBAAkBzB,EAC7C,CAzDD","ignoreList":[],"sourcesContent":["(function () {\r\n  \"use strict\";\r\n\r\n  function initCredentialReveal() {\r\n    // Only select cards that haven't been initialized yet\r\n    const cards = document.querySelectorAll(\".credential-card:not(.js-reveal-init)\");\r\n    if (!cards.length) {return;}\r\n\r\n    const motionQuery = window.matchMedia(\"(prefers-reduced-motion: reduce)\");\r\n    const prefersReduced = motionQuery.matches;\r\n\r\n    // Mark cards as initialized to prevent double-processing\r\n    cards.forEach(card => card.classList.add(\"js-reveal-init\"));\r\n\r\n    // در هر حالتی که نمی‌خواهیم افکت اسکرول داشته باشیم، کارت‌ها را بلافاصله نمایش بده\r\n    const showCardsImmediately = () => {\r\n      cards.forEach((card) => {\r\n        card.classList.remove(\"card-hidden\");\r\n        card.classList.add(\"card-visible\");\r\n      });\r\n    };\r\n\r\n    // اگر IntersectionObserver نیست یا کاربر motion را کم کرده، انیمیشن اسکرول نداشته باش\r\n    if (!(\"IntersectionObserver\" in window) || prefersReduced) {\r\n      showCardsImmediately();\r\n      return;\r\n    }\r\n\r\n    // حالت عادی: کارت‌ها ابتدا مخفی، با اسکرول وارد می‌شوند\r\n    cards.forEach((card) => {\r\n      card.classList.add(\"card-hidden\");\r\n      card.classList.remove(\"card-visible\");\r\n    });\r\n\r\n    const observer = new IntersectionObserver(\r\n      (entries, obs) => {\r\n        entries.forEach((entry) => {\r\n          if (!entry.isIntersecting) {return;}\r\n\r\n          const card = entry.target;\r\n          card.classList.add(\"card-visible\");\r\n          card.classList.remove(\"card-hidden\");\r\n\r\n          obs.unobserve(card);\r\n        });\r\n      },\r\n      {\r\n        rootMargin: \"0px 0px -10% 0px\",\r\n        threshold: 0.1,\r\n      }\r\n    );\r\n\r\n    cards.forEach((card) => observer.observe(card));\r\n  }\r\n\r\n  document.addEventListener(\"DOMContentLoaded\", initCredentialReveal);\r\n  document.addEventListener(\"includesLoaded\", initCredentialReveal);\r\n})();\r\n"]}