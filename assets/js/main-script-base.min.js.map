{"version":3,"file":"main-script-base.min.js","names":["window","langStrings","storage","testKey","localStorage","setItem","removeItem","err","getSafeStorage","ASSET_FALLBACK_FAILED_CLASS","NETWORK_EVENT_NAME","assetFallbackAttempts","Set","lastNetworkToastAt","darkMediaQuery","matchMedia","prefersDark","matches","THEME_STORAGE_KEY","LEGACY_THEME_STORAGE_KEY","isValidTheme","value","readStoredTheme","storedTheme","getItem","legacyTheme","savedTheme","reduceMotionQuery","prefersReducedMotion","createToast","message","type","document","body","console","warn","toast","createElement","setAttribute","className","iconHtml","innerHTML","String","existingToasts","querySelectorAll","length","forEach","t","index","parentNode","remove","appendChild","requestAnimationFrame","classList","add","setTimeout","updateNetworkState","online","notify","isOnline","documentElement","toggle","detail","timestamp","Date","now","dispatchEvent","CustomEvent","event","createEvent","initCustomEvent","emitNetworkStatusEvent","strings","keyOrder","key","result","trim","getNetworkMessage","resolveAssetFallback","rawUrl","parsed","URL","location","href","origin","toSameOriginUrl","next","toString","path","pathname","test","replace","markAssetFallbackAttempt","target","originalUrl","fallbackUrl","has","currentCount","Number","dataset","assetFallbackCount","applyTheme","theme","showToast","isDark","shouldShowToast","getElementById","checked","themeChanged","msg","navigator","onLine","addEventListener","HTMLScriptElement","src","script","defer","async","crossOrigin","referrerPolicy","nonce","once","insertAdjacentElement","injectScriptFallback","HTMLLinkElement","rel","toLowerCase","link","media","injectStylesheetFallback","handleThemeSystemChange","e","addListener","initThemeToggle","themeToggleInput","themeToggleInit","currentTheme","getAttribute","newTheme","preventDefault","endOfPageShown","lastScrollY","ticking","scrollY","pageYOffset","scrollPosition","innerHeight","docHeight","Math","max","scrollHeight","offsetHeight","endOfPage","checkPageEnd","progressBar","scrollTop","clientHeight","style","width","scrollPercent","clamped","min","round","updateProgressBar","passive","yearEl","textContent","getFullYear","backToTopBtn","resolveCopyToastMessage","kind","keys","success","error","unsupported","isFa","lang","startsWith","fallback","copyWithExecCommand","text","probe","position","left","top","select","execCommand","handleCopySuccess","btn","originalIcon","scrollTo","behavior","stopPropagation","textToCopy","clipboard","writeText","then","catch","Element","closest","rect","getBoundingClientRect","x","clientX","y","clientY","ripple","triggerSuccess","element"],"sources":["main-script-base.js"],"mappings":"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","ignoreList":[],"sourcesContent":["(function () {\r\n  \"use strict\";\r\n\r\n  // Ensure language strings object exists\r\n  if (!window.langStrings) {\r\n    window.langStrings = {};\r\n  }\r\n\r\n  /**\r\n   * Safe localStorage accessor with feature / privacy mode detection\r\n   */\r\n  function getSafeStorage() {\r\n    const testKey = \"__theme_pref__\";\r\n    try {\r\n      localStorage.setItem(testKey, testKey);\r\n      localStorage.removeItem(testKey);\r\n      return localStorage;\r\n    } catch (err) {\r\n      // e.g. Safari private mode or blocked storage\r\n      return null;\r\n    }\r\n  }\r\n\r\n  const storage = getSafeStorage();\n  const ASSET_FALLBACK_CLASS = \"asset-fallback-active\";\n  const ASSET_FALLBACK_FAILED_CLASS = \"asset-fallback-failed\";\n  const NETWORK_EVENT_NAME = \"ru:network-status\";\n  const assetFallbackAttempts = new Set();\n  let lastNetworkToastAt = 0;\n\r\n  // Reuse a single MediaQueryList if available\r\n  const darkMediaQuery = window.matchMedia\n    ? window.matchMedia(\"(prefers-color-scheme: dark)\")\n    : null;\n  const prefersDark = !!(darkMediaQuery && darkMediaQuery.matches);\n  const THEME_STORAGE_KEY = \"theme\";\n  const LEGACY_THEME_STORAGE_KEY = \"app:theme\";\n\n  function isValidTheme(value) {\n    return value === \"dark\" || value === \"light\";\n  }\n\n  function readStoredTheme() {\n    if (!storage) {return null;}\n\n    const storedTheme = storage.getItem(THEME_STORAGE_KEY);\n    if (isValidTheme(storedTheme)) {\n      return storedTheme;\n    }\n\n    const legacyTheme = storage.getItem(LEGACY_THEME_STORAGE_KEY);\n    if (!isValidTheme(legacyTheme)) {\n      return null;\n    }\n\n    // One-time migration from legacy key to canonical key.\n    try {\n      storage.setItem(THEME_STORAGE_KEY, legacyTheme);\n      storage.removeItem(LEGACY_THEME_STORAGE_KEY);\n    } catch (err) {\n      // Ignore storage failures in restricted environments.\n    }\n\n    return legacyTheme;\n  }\n\n  const savedTheme = readStoredTheme();\n\r\n  // Motion preference (for smooth scroll, etc.)\r\n  const reduceMotionQuery = window.matchMedia\r\n    ? window.matchMedia(\"(prefers-reduced-motion: reduce)\")\r\n    : null;\r\n  const prefersReducedMotion = !!(reduceMotionQuery && reduceMotionQuery.matches);\r\n\r\n  /**\r\n   * Enhanced toast helper with types and icons\r\n   * @param {string} message\r\n   * @param {\"success\"|\"error\"|\"info\"|\"default\"} [type=\"default\"]\r\n   */\r\n  function createToast(message, type = \"default\") {\n    if (!message) {return;}\r\n    if (!document.body) {\r\n      console.warn(\"Cannot show toast: document.body not ready\");\r\n      return;\r\n    }\r\n\r\n    const toast = document.createElement(\"div\");\r\n    toast.setAttribute(\"role\", \"status\");\r\n    toast.setAttribute(\"aria-live\", \"polite\");\r\n    toast.className = `dynamic-toast ${type}`;\r\n\r\n    // Add icon based on type\r\n    let iconHtml = \"\";\r\n    if (type === \"success\") {\r\n      iconHtml = '<i class=\"fas fa-check-circle\" aria-hidden=\"true\"></i> ';\r\n    } else if (type === \"error\") {\r\n      iconHtml = '<i class=\"fas fa-exclamation-circle\" aria-hidden=\"true\"></i> ';\r\n    } else if (type === \"info\") {\r\n      iconHtml = '<i class=\"fas fa-info-circle\" aria-hidden=\"true\"></i> ';\r\n    }\r\n\r\n    toast.innerHTML = `${iconHtml}<span>${String(message)}</span>`;\r\n\r\n    // Optional: prevent infinite stacking by removing oldest toast if too many\r\n    const existingToasts = document.querySelectorAll(\".dynamic-toast\");\r\n    if (existingToasts.length > 3) {\r\n      existingToasts.forEach((t, index) => {\r\n        if (index === 0 && t.parentNode) {t.remove();}\r\n      });\r\n    }\r\n\r\n    document.body.appendChild(toast);\r\n\r\n    // Trigger CSS transition\r\n    requestAnimationFrame(() => toast.classList.add(\"show\"));\r\n\r\n    // Auto-hide\r\n    setTimeout(() => {\r\n      toast.classList.remove(\"show\");\r\n      // Wait for CSS transition to finish if any\r\n      setTimeout(() => {\r\n        if (toast.parentNode) {toast.remove();}\r\n      }, 300);\r\n    }, 3000);\r\n  }\r\n\r\n  // Expose toast helper globally if not already defined\r\n  if (typeof window.createToast !== \"function\") {\n    window.createToast = createToast;\n  }\n\n  function getNetworkMessage(online) {\n    const strings = window.langStrings || {};\n    const keyOrder = online\n      ? [\"backOnline\", \"online\", \"connectionRestored\"]\n      : [\"offline\", \"connectionLost\"];\n\n    for (const key of keyOrder) {\n      const value = strings[key];\n      if (typeof value === \"function\") {\n        const result = value();\n        if (typeof result === \"string\" && result.trim()) {\n          return result;\n        }\n      } else if (typeof value === \"string\" && value.trim()) {\n        return value;\n      }\n    }\n\n    return online\n      ? \"Connection restored.\"\n      : \"You are offline. Some features may be unavailable.\";\n  }\n\n  function emitNetworkStatusEvent(online) {\n    const detail = { online, timestamp: Date.now() };\n    try {\n      window.dispatchEvent(\n        new CustomEvent(NETWORK_EVENT_NAME, {\n          detail,\n        })\n      );\n    } catch (err) {\n      // CustomEvent fallback for old browsers.\n      try {\n        const event = document.createEvent(\"CustomEvent\");\n        event.initCustomEvent(NETWORK_EVENT_NAME, false, false, detail);\n        window.dispatchEvent(event);\n      } catch {}\n    }\n  }\n\n  function updateNetworkState(online, notify) {\n    const isOnline = !!online;\n\n    document.documentElement.classList.toggle(\"online\", isOnline);\n    document.documentElement.classList.toggle(\"offline\", !isOnline);\n    document.documentElement.setAttribute(\"data-network-status\", isOnline ? \"online\" : \"offline\");\n\n    if (document.body) {\n      document.body.classList.toggle(\"online\", isOnline);\n      document.body.classList.toggle(\"offline\", !isOnline);\n    }\n\n    emitNetworkStatusEvent(isOnline);\n\n    if (!notify || typeof window.createToast !== \"function\") {\n      return;\n    }\n\n    const now = Date.now();\n    if (now - lastNetworkToastAt < 1200) {\n      return;\n    }\n    lastNetworkToastAt = now;\n    window.createToast(getNetworkMessage(isOnline), isOnline ? \"success\" : \"info\");\n  }\n\n  function installNetworkResilience() {\n    const initialOnline = navigator.onLine !== false;\n    updateNetworkState(initialOnline, false);\n    window.addEventListener(\"online\", () => updateNetworkState(true, true));\n    window.addEventListener(\"offline\", () => updateNetworkState(false, true));\n  }\n\n  function toSameOriginUrl(rawUrl) {\n    if (!rawUrl) {\n      return null;\n    }\n\n    try {\n      const parsed = new URL(rawUrl, window.location.href);\n      if (parsed.origin !== window.location.origin) {\n        return null;\n      }\n      return parsed;\n    } catch {\n      return null;\n    }\n  }\n\n  function resolveAssetFallback(rawUrl) {\n    const parsed = toSameOriginUrl(rawUrl);\n    if (!parsed) {\n      return null;\n    }\n\n    const next = new URL(parsed.toString());\n    const path = next.pathname;\n\n    if (/\\.min\\.js$/i.test(path)) {\n      next.pathname = path.replace(/\\.min\\.js$/i, \".js\");\n      return next.toString();\n    }\n\n    if (/\\.min\\.css$/i.test(path)) {\n      next.pathname = path.replace(/\\.min\\.css$/i, \".css\");\n      return next.toString();\n    }\n\n    return null;\n  }\n\n  function markAssetFallbackAttempt(target, originalUrl, fallbackUrl) {\n    const key = `${originalUrl}::${fallbackUrl}`;\n    if (assetFallbackAttempts.has(key)) {\n      return false;\n    }\n\n    assetFallbackAttempts.add(key);\n    target.setAttribute(\"data-asset-failed\", \"true\");\n    document.documentElement.classList.add(ASSET_FALLBACK_CLASS);\n    const currentCount = Number(document.documentElement.dataset.assetFallbackCount || \"0\");\n    document.documentElement.dataset.assetFallbackCount = String(currentCount + 1);\n    return true;\n  }\n\n  function injectScriptFallback(target, fallbackUrl) {\n    const script = document.createElement(\"script\");\n    script.src = fallbackUrl;\n    script.defer = !!target.defer;\n    script.async = !!target.async;\n    if (target.type) {\n      script.type = target.type;\n    }\n    if (target.crossOrigin) {\n      script.crossOrigin = target.crossOrigin;\n    }\n    if (target.referrerPolicy) {\n      script.referrerPolicy = target.referrerPolicy;\n    }\n    if (target.nonce) {\n      script.nonce = target.nonce;\n    }\n    script.setAttribute(\"data-asset-fallback\", \"true\");\n    script.setAttribute(\"data-asset-fallback-from\", target.src || \"\");\n    script.addEventListener(\n      \"error\",\n      () => {\n        document.documentElement.classList.add(ASSET_FALLBACK_FAILED_CLASS);\n      },\n      { once: true }\n    );\n    target.insertAdjacentElement(\"afterend\", script);\n  }\n\n  function injectStylesheetFallback(target, fallbackUrl) {\n    if ((target.rel || \"\").toLowerCase() !== \"stylesheet\") {\n      return;\n    }\n\n    const link = document.createElement(\"link\");\n    link.rel = \"stylesheet\";\n    link.href = fallbackUrl;\n    if (target.media) {\n      link.media = target.media;\n    }\n    if (target.crossOrigin) {\n      link.crossOrigin = target.crossOrigin;\n    }\n    if (target.referrerPolicy) {\n      link.referrerPolicy = target.referrerPolicy;\n    }\n    if (target.nonce) {\n      link.nonce = target.nonce;\n    }\n    link.setAttribute(\"data-asset-fallback\", \"true\");\n    link.setAttribute(\"data-asset-fallback-from\", target.href || \"\");\n    link.addEventListener(\n      \"error\",\n      () => {\n        document.documentElement.classList.add(ASSET_FALLBACK_FAILED_CLASS);\n      },\n      { once: true }\n    );\n    target.insertAdjacentElement(\"afterend\", link);\n  }\n\n  function installAssetFallbackResilience() {\n    window.addEventListener(\n      \"error\",\n      (event) => {\n        const target = event.target;\n        if (!target || target === window) {\n          return;\n        }\n\n        if (\n          typeof HTMLScriptElement !== \"undefined\" &&\n          target instanceof HTMLScriptElement\n        ) {\n          const originalUrl = target.src || \"\";\n          const fallbackUrl = resolveAssetFallback(originalUrl);\n          if (!fallbackUrl) {\n            return;\n          }\n\n          if (!markAssetFallbackAttempt(target, originalUrl, fallbackUrl)) {\n            return;\n          }\n\n          injectScriptFallback(target, fallbackUrl);\n          return;\n        }\n\n        if (\n          typeof HTMLLinkElement !== \"undefined\" &&\n          target instanceof HTMLLinkElement\n        ) {\n          const originalUrl = target.href || \"\";\n          const fallbackUrl = resolveAssetFallback(originalUrl);\n          if (!fallbackUrl) {\n            return;\n          }\n\n          if (!markAssetFallbackAttempt(target, originalUrl, fallbackUrl)) {\n            return;\n          }\n\n          injectStylesheetFallback(target, fallbackUrl);\n        }\n      },\n      true\n    );\n  }\n\n  installNetworkResilience();\n  installAssetFallbackResilience();\n\r\n  /**\r\n   * Apply theme and sync toggle + a11y attributes.\r\n   * @param {\"dark\"|\"light\"} theme\r\n   * @param {boolean} [showToast=false]\r\n   */\r\n  function applyTheme(theme, showToast) {\r\n    const isDark = theme === \"dark\";\r\n    const shouldShowToast = !!showToast;\r\n\r\n    document.body.classList.toggle(\"dark-mode\", isDark);\r\n    document.body.classList.toggle(\"light-mode\", !isDark);\r\n\r\n    // Optional: expose theme on <html> for CSS theming\r\n    document.documentElement.setAttribute(\"data-theme\", theme);\r\n\r\n    const toggle = document.getElementById(\"theme-toggle\");\r\n    if (toggle) {\r\n      toggle.checked = isDark;\r\n      toggle.setAttribute(\"aria-checked\", String(isDark));\r\n    }\r\n\r\n    if (\r\n      shouldShowToast &&\r\n      typeof window.langStrings.themeChanged === \"function\"\r\n    ) {\r\n      // themeChanged(theme) â†’ localized message\r\n      const msg = window.langStrings.themeChanged(theme);\r\n      if (msg) {createToast(msg);}\r\n    }\r\n  }\r\n\r\n  // Initial theme: stored preference > system preference\r\n  if (savedTheme === \"dark\" || savedTheme === \"light\") {\r\n    applyTheme(savedTheme);\r\n  } else {\r\n    applyTheme(prefersDark ? \"dark\" : \"light\");\r\n  }\r\n\r\n  // React to OS theme changes only if user has not explicitly chosen a theme\r\n  if (darkMediaQuery) {\n    const handleThemeSystemChange = function (e) {\n      // If user later sets a theme, this check prevents overriding it\n      if (!readStoredTheme()) {\n        applyTheme(e.matches ? \"dark\" : \"light\");\n      }\n    };\n\r\n    if (typeof darkMediaQuery.addEventListener === \"function\") {\r\n      darkMediaQuery.addEventListener(\"change\", handleThemeSystemChange);\r\n    } else if (typeof darkMediaQuery.addListener === \"function\") {\r\n      // Older browsers\r\n      darkMediaQuery.addListener(handleThemeSystemChange);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Initialize theme toggle (can be called multiple times safely).\r\n   */\r\n  function initThemeToggle() {\n    const themeToggleInput = document.getElementById(\"theme-toggle\");\n    if (!themeToggleInput) {return;}\n\r\n    // Avoid attaching listeners multiple times on dynamic includes\r\n    if (themeToggleInput.dataset.themeToggleInit === \"true\") {\r\n      return;\r\n    }\r\n    themeToggleInput.dataset.themeToggleInit = \"true\";\n\n    const currentTheme = document.documentElement.getAttribute(\"data-theme\");\n    if (currentTheme === \"dark\" || currentTheme === \"light\") {\n      themeToggleInput.checked = currentTheme === \"dark\";\n    }\n\n    // Sync ARIA\n    themeToggleInput.setAttribute(\n      \"aria-checked\",\n      String(!!themeToggleInput.checked)\n    );\n    themeToggleInput.setAttribute(\"role\", \"switch\");\r\n\r\n    // Change by click\r\n    themeToggleInput.addEventListener(\"change\", () => {\n      const newTheme = themeToggleInput.checked ? \"dark\" : \"light\";\n      applyTheme(newTheme, true);\n      try {\n        storage?.setItem(THEME_STORAGE_KEY, newTheme);\n      } catch (err) {\n        // Ignore storage failures (e.g., private mode)\n      }\n    });\r\n\r\n    // Keyboard accessibility (Space / Enter)\r\n    themeToggleInput.addEventListener(\"keydown\", (event) => {\r\n      if (event.key === \" \" || event.key === \"Enter\") {\r\n        event.preventDefault();\r\n        themeToggleInput.checked = !themeToggleInput.checked;\n        const newTheme = themeToggleInput.checked ? \"dark\" : \"light\";\n        applyTheme(newTheme, true);\n        try {\n          storage?.setItem(THEME_STORAGE_KEY, newTheme);\n        } catch (err) {}\n      }\n    });\n  }\r\n\r\n  // Init theme toggle on first load\r\n  initThemeToggle();\r\n  // Re-init if header/footer includes loaded dynamically\r\n  document.addEventListener(\"includesLoaded\", initThemeToggle, false);\r\n\r\n  // ---- End-of-page toast logic ----\r\n\r\n  let endOfPageShown = false;\r\n  let lastScrollY = 0;\r\n  let ticking = false;\r\n\r\n  function checkPageEnd() {\r\n    const scrollPosition = window.innerHeight + lastScrollY;\r\n    const docHeight =\r\n      Math.max(\r\n        document.body.scrollHeight,\r\n        document.documentElement.scrollHeight,\r\n        document.body.offsetHeight,\r\n        document.documentElement.offsetHeight\r\n      ) || 0;\r\n\r\n    // Reset flag if user scrolls back up (more than 100px from bottom)\r\n    if (scrollPosition < docHeight - 100) {\r\n      endOfPageShown = false;\r\n    }\r\n\r\n    if (!endOfPageShown && scrollPosition >= docHeight - 50 && docHeight > 0) {\r\n      endOfPageShown = true;\r\n      if (typeof window.langStrings.endOfPage === \"string\") {\r\n        createToast(window.langStrings.endOfPage);\r\n      } else if (typeof window.langStrings.endOfPage === \"function\") {\r\n        const msg = window.langStrings.endOfPage();\r\n        if (msg) {createToast(msg);}\r\n      }\r\n    }\r\n    ticking = false;\r\n  }\r\n\r\n  function updateProgressBar() {\r\n    const progressBar = document.getElementById(\"scroll-progress-bar\");\r\n    if (!progressBar) {return;}\r\n\r\n    const scrollTop =\r\n      window.scrollY || document.documentElement.scrollTop || 0;\r\n    const docHeight =\r\n      document.documentElement.scrollHeight -\r\n      document.documentElement.clientHeight;\r\n\r\n    if (docHeight <= 0) {\r\n      progressBar.style.width = \"0%\";\r\n      progressBar.setAttribute(\"aria-valuenow\", \"0\");\r\n      return;\r\n    }\r\n\r\n    const scrollPercent = (scrollTop / docHeight) * 100;\r\n    const clamped = Math.max(0, Math.min(100, scrollPercent));\r\n\r\n    progressBar.style.width = clamped + \"%\";\r\n    progressBar.setAttribute(\"aria-valuenow\", Math.round(clamped));\r\n  }\r\n\r\n  window.addEventListener(\r\n    \"scroll\",\r\n    () => {\r\n      lastScrollY = window.scrollY || window.pageYOffset || 0;\r\n      if (!ticking) {\r\n        window.requestAnimationFrame(() => {\r\n          checkPageEnd();\r\n          updateProgressBar();\r\n        });\r\n        ticking = true;\r\n      }\r\n    },\r\n    { passive: true }\r\n  );\r\n\r\n  // Footer year\r\n  const yearEl =\r\n    document.getElementById(\"current-year\") ||\r\n    document.getElementById(\"footer-year\");\r\n  if (yearEl) {\r\n    yearEl.textContent = new Date().getFullYear();\r\n  }\r\n\r\n  // Back to Top Button Logic\r\n  const backToTopBtn = document.getElementById(\"back-to-top\");\r\n  if (backToTopBtn) {\r\n    window.addEventListener(\r\n      \"scroll\",\r\n      () => {\r\n        if (window.scrollY > 300) {\r\n          backToTopBtn.classList.add(\"show\");\r\n        } else {\r\n          backToTopBtn.classList.remove(\"show\");\r\n        }\r\n      },\r\n      { passive: true }\r\n    );\r\n\r\n    backToTopBtn.addEventListener(\"click\", () => {\r\n      window.scrollTo({\r\n        top: 0,\r\n        behavior: prefersReducedMotion ? \"auto\" : \"smooth\",\r\n      });\r\n    });\r\n  }\r\n\r\n  function resolveCopyToastMessage(kind) {\n    const strings = window.langStrings || {};\r\n    const keyOrder = {\r\n      success: [\"copySuccess\", \"emailCopied\"],\r\n      error: [\"copyError\", \"emailCopyError\"],\r\n      unsupported: [\"copyUnsupported\", \"clipboardUnsupported\"],\r\n    };\r\n\r\n    const keys = keyOrder[kind] || [];\r\n    for (const key of keys) {\r\n      const value = strings[key];\r\n      if (typeof value === \"function\") {\r\n        const message = value();\r\n        if (typeof message === \"string\" && message.trim()) {return message;}\r\n      } else if (typeof value === \"string\" && value.trim()) {\r\n        return value;\r\n      }\r\n    }\r\n\r\n    const isFa = (document.documentElement.lang || \"\")\r\n      .toLowerCase()\r\n      .startsWith(\"fa\");\r\n\r\n    const fallback = {\r\n      success: isFa\r\n        ? \"\\u0627\\u06cc\\u0645\\u06cc\\u0644 \\u06a9\\u067e\\u06cc \\u0634\\u062f.\"\r\n        : \"Email copied.\",\r\n      error: isFa\r\n        ? \"\\u06a9\\u067e\\u06cc \\u0628\\u0627 \\u0645\\u0634\\u06a9\\u0644 \\u0645\\u0648\\u0627\\u062c\\u0647 \\u0634\\u062f.\"\r\n        : \"Copy failed.\",\r\n      unsupported: isFa\r\n        ? \"\\u0645\\u0631\\u0648\\u0631\\u06af\\u0631 \\u0634\\u0645\\u0627 \\u0627\\u0632 \\u06a9\\u067e\\u06cc \\u062e\\u0648\\u062f\\u06a9\\u0627\\u0631 \\u067e\\u0634\\u062a\\u06cc\\u0628\\u0627\\u0646\\u06cc \\u0646\\u0645\\u06cc\\u200c\\u06a9\\u0646\\u062f.\"\r\n        : \"Your browser does not support automatic copy.\",\r\n    };\r\n\r\n    return fallback[kind] || fallback.error;\n  }\n\n  function copyWithExecCommand(text) {\n    if (!document.body) {\n      return false;\n    }\n\n    const probe = document.createElement(\"textarea\");\n    probe.value = text;\n    probe.setAttribute(\"readonly\", \"\");\n    probe.setAttribute(\"aria-hidden\", \"true\");\n    probe.style.position = \"absolute\";\n    probe.style.left = \"-9999px\";\n    probe.style.top = \"0\";\n    document.body.appendChild(probe);\n    probe.select();\n\n    try {\n      return !!document.execCommand(\"copy\");\n    } catch {\n      return false;\n    } finally {\n      probe.remove();\n    }\n  }\n\n  function handleCopySuccess(btn) {\n    const originalIcon = btn.innerHTML;\n    btn.innerHTML =\n      '<i class=\"fas fa-check\" aria-hidden=\"true\"></i>';\n    btn.classList.add(\"copied\");\n\n    if (window.createToast) {\n      window.createToast(resolveCopyToastMessage(\"success\"));\n    }\n\n    setTimeout(() => {\n      btn.innerHTML = originalIcon;\n      btn.classList.remove(\"copied\");\n    }, 2000);\n  }\n\n  // Copy to Clipboard Logic\n  const copyBtns = document.querySelectorAll(\".copy-btn\");\n  copyBtns.forEach((btn) => {\n    btn.addEventListener(\"click\", (event) => {\n      event.preventDefault();\r\n      event.stopPropagation();\r\n\r\n      const textToCopy = btn.getAttribute(\"data-copy\");\r\n      if (!textToCopy) {\r\n        console.warn(\"No data-copy attribute found on .copy-btn\");\r\n        return;\r\n      }\r\n\r\n      if (navigator.clipboard && navigator.clipboard.writeText) {\n        navigator.clipboard\n          .writeText(textToCopy)\n          .then(() => {\n            handleCopySuccess(btn);\n          })\n          .catch((err) => {\n            console.error(\"Failed to copy via Clipboard API:\", err);\n            if (copyWithExecCommand(textToCopy)) {\n              handleCopySuccess(btn);\n              return;\n            }\n\n            if (window.createToast) {\n              window.createToast(resolveCopyToastMessage(\"error\"));\n            }\n          });\n        return;\n      }\n\n      if (copyWithExecCommand(textToCopy)) {\n        handleCopySuccess(btn);\n      } else if (window.createToast) {\n        window.createToast(resolveCopyToastMessage(\"unsupported\"));\n      }\n    });\n  });\n\r\n  // ---- Neurodesign Enhancements Initialization ----\r\n\r\n  // 1. Scroll Progress Bar Logic is handled by updateProgressBar() and existing HTML\r\n\r\n  // 2. Ripple Effect for Buttons\n  document.addEventListener(\"click\", function (e) {\n    const origin = e.target;\n    if (!(origin instanceof Element)) {\n      return;\n    }\n\n    const target = origin.closest(\".btn, button, .cta-button, .hero-btn\");\n    if (target) {\n      const rect = target.getBoundingClientRect();\n      const x = e.clientX - rect.left;\n      const y = e.clientY - rect.top;\n\r\n      const ripple = document.createElement(\"span\");\r\n      ripple.className = \"ripple\";\r\n      ripple.style.left = `${x}px`;\r\n      ripple.style.top = `${y}px`;\r\n\r\n      target.appendChild(ripple);\r\n\r\n      setTimeout(() => {\r\n        ripple.remove();\r\n      }, 600);\r\n    }\r\n  });\r\n\r\n  // 3. Success Trigger Helper\r\n  window.triggerSuccess = function (element) {\r\n    if (!element) {return;}\r\n    element.classList.add(\"success-trigger\");\r\n    setTimeout(() => {\r\n      element.classList.remove(\"success-trigger\");\r\n    }, 300);\r\n  };\r\n\r\n})();\r\n"]}