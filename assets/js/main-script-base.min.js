(()=>{window.langStrings||(console.warn("No language strings loaded"),window.langStrings={});var e=window.matchMedia("(prefers-color-scheme: dark)").matches,t=localStorage.getItem("theme");function a(e){let t=document.createElement("div");t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),t.className="dynamic-toast",t.textContent=e,document.body.appendChild(t),requestAnimationFrame(()=>t.classList.add("show")),setTimeout(()=>{t.classList.remove("show"),t.remove()},3e3)}function n(e,t){document.body.classList.toggle("dark-mode","dark"===e),document.body.classList.toggle("light-mode","light"===e);var n=document.getElementById("theme-toggle");n&&(n.checked="dark"===e,n.setAttribute("aria-checked","dark"===e)),t&&window.langStrings.themeChanged&&a(window.langStrings.themeChanged(e))}function d(){let t=document.getElementById("theme-toggle");t&&(t.setAttribute("aria-checked",t.checked),t.addEventListener("change",()=>{var e=t.checked?"dark":"light";n(e,!0),localStorage.setItem("theme",e)}))}t?n(t):(n(e?"dark":"light"),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{localStorage.getItem("theme")||n(e.matches?"dark":"light")})),d(),document.addEventListener("includesLoaded",d);let o=!1,i,r=!1;function s(){!o&&window.innerHeight+i>=document.body.offsetHeight-50&&(o=!0,window.langStrings.endOfPage)&&a(window.langStrings.endOfPage),r=!1}window.addEventListener("scroll",()=>{i=window.scrollY,r||(window.requestAnimationFrame(s),r=!0)},{passive:!0}),(t=document.getElementById("current-year")||document.getElementById("footer-year"))&&(t.textContent=(new Date).getFullYear())})();