(()=>{window.langStrings||(console.warn("No language strings loaded"),window.langStrings={});var e=window.matchMedia("(prefers-color-scheme: dark)").matches,t=localStorage.getItem("theme");function d(e){let t=document.createElement("div");t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),t.className="dynamic-toast",t.textContent=e,document.body.appendChild(t),setTimeout(()=>t.remove(),3e3)}function n(e,t){document.body.classList.toggle("dark-mode","dark"===e),document.body.classList.toggle("light-mode","light"===e);var n=document.getElementById("theme-toggle");n&&(n.checked="dark"===e,n.setAttribute("aria-checked","dark"===e)),t&&window.langStrings.themeChanged&&d(window.langStrings.themeChanged(e))}function o(){let t=document.getElementById("theme-toggle");t&&(t.setAttribute("aria-checked",t.checked),t.addEventListener("change",()=>{var e=t.checked?"dark":"light";n(e,!0),localStorage.setItem("theme",e)}))}n(t||(e?"dark":"light")),o(),document.addEventListener("includesLoaded",o);let a=!1,i,r=!1;function l(){!a&&window.innerHeight+i>=document.body.offsetHeight-50&&(a=!0,window.langStrings.endOfPage)&&d(window.langStrings.endOfPage),r=!1}window.addEventListener("scroll",()=>{i=window.scrollY,r||(window.requestAnimationFrame(l),r=!0)},{passive:!0}),(t=document.getElementById("current-year")||document.getElementById("footer-year"))&&(t.textContent=(new Date).getFullYear())})();