!function(){"use strict";window.langStrings||(window.langStrings={});const t=function(){const t="__theme_pref__";try{return localStorage.setItem(t,t),localStorage.removeItem(t),localStorage}catch(t){return null}}(),e="asset-fallback-failed",n="ru:network-status",o=new Set;let s=0;const i=window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null,r=!(!i||!i.matches),a="theme",c="app:theme";function d(t){return"dark"===t||"light"===t}function u(){if(!t)return null;const e=t.getItem(a);if(d(e))return e;const n=t.getItem(c);if(!d(n))return null;try{t.setItem(a,n),t.removeItem(c)}catch(t){}return n}const l=u(),m=window.matchMedia?window.matchMedia("(prefers-reduced-motion: reduce)"):null,p=!(!m||!m.matches),f=p?60:260,g=[0,-3,-6],w=[0,3,6],h=[0,.005,.01],y={success:"fas fa-check-circle",error:"fas fa-exclamation-circle",info:"fas fa-circle-info",default:"fas fa-bell"},v=new Map,b={top:{position:"top",viewport:null,visible:[],queue:[]},bottom:{position:"bottom",viewport:null,visible:[],queue:[]}};function E(t){const e="string"==typeof t?{kind:t}:t&&"object"==typeof t?t:{},n=function(t){const e=String(t||"default").toLowerCase();return"success"===e||"error"===e||"info"===e?e:"default"}(e.kind||e.type),o=Number(e.duration),s=Number.isFinite(o)&&o>=0?Math.round(o):2800;return{id:"string"==typeof e.id?e.id.trim():"",kind:n,duration:s,position:"top"===e.position?"top":"bottom",customClass:"string"==typeof e.customClass?e.customClass.trim():"",iconClass:"string"==typeof e.iconClass&&e.iconClass.trim()?e.iconClass.trim():y[n],iconColor:"string"==typeof e.iconColor?e.iconColor.trim():"",closeButton:!!e.closeButton,role:"string"==typeof e.role&&e.role.trim()?e.role.trim():"error"===n?"alert":"status",ariaLive:"string"==typeof e.ariaLive&&e.ariaLive.trim()?e.ariaLive.trim():"error"===n?"assertive":"polite",swipeDismiss:!0===e.swipeDismiss||!1!==e.swipeDismiss&&"auto"}}function L(t){return"top"===t?b.top:b.bottom}function k(t){const e=L(t);if(e.viewport&&e.viewport.isConnected)return e.viewport;const n=`.toast-viewport[data-toast-position="${t}"]`,o=document.querySelector(n);if(o instanceof HTMLElement)return e.viewport=o,e.viewport;if(!document.body)return null;const s=document.createElement("div");return s.className="toast-viewport",s.dataset.toastPosition=t,s.setAttribute("aria-live","off"),document.body.appendChild(s),e.viewport=s,s}function C(t){const e=t&&t.settings?t.settings.swipeDismiss:"auto";return!1!==e&&(!0===e||function(){const t="number"==typeof navigator.maxTouchPoints&&navigator.maxTouchPoints>0||"ontouchstart"in window;if("function"!=typeof window.matchMedia)return t;try{return window.matchMedia("(pointer: coarse)").matches||t}catch{return t}}())}function T(t){if(!t||!Array.isArray(t.visible)||0===t.visible.length)return;const e="top"===t.position?w:g;t.visible.slice().reverse().forEach((t,n)=>{if(!(t&&t.toast instanceof HTMLElement))return;const o=e[Math.min(n,e.length-1)],s=h[Math.min(n,h.length-1)];t.toast.style.setProperty("--toast-stack-shift",`${o}px`),t.toast.style.setProperty("--toast-stack-scale-loss",String(s)),t.toast.style.setProperty("--toast-z",String(300-n))})}function A(t,e){const n=t.indexOf(e);n>=0&&t.splice(n,1)}function S(t){t.visible=t.visible.filter(t=>!!(t&&t.toast instanceof HTMLElement)&&(!(!t.toast.isConnected||!t.mounted)||(M(t),t.mounted=!1,t.dismissing=!1,t.settings.id&&v.get(t.settings.id)===t&&v.delete(t.settings.id),!1))),t.queue=t.queue.filter(t=>!!t&&!t.dismissing)}function M(t){if(t.timer&&(clearTimeout(t.timer),t.timer=null),t.progressAnimation){try{t.progressAnimation.cancel()}catch{}t.progressAnimation=null}}function x(t){t&&t.swipe&&t.swipe.reboundTimer&&(clearTimeout(t.swipe.reboundTimer),t.swipe.reboundTimer=null)}function I(t){t&&t.toast instanceof HTMLElement&&(x(t),t.toast.style.setProperty("--toast-swipe-x","0px"),t.toast.classList.remove("is-swiping","swipe-dismiss","swipe-rebound"))}function P(t){t&&t.swipe&&"function"==typeof t.swipe.cleanup&&(t.swipe.cleanup(),t.swipe.cleanup=null)}function H(t){const{settings:e,toast:n}=t,o=["dynamic-toast",`toast-kind-${e.kind}`];e.customClass&&o.push(e.customClass),n.className=o.join(" "),n.dataset.toastKind=e.kind,n.dataset.toastPosition=e.position,n.setAttribute("role",e.role),n.setAttribute("aria-live",e.ariaLive),n.setAttribute("aria-atomic","true"),n.tabIndex=-1,e.id?n.id=e.id:n.removeAttribute("id");const s=document.createDocumentFragment();if(e.iconClass){const t=document.createElement("i");t.className=`${e.iconClass} toast-icon`.trim(),e.iconColor&&(t.dataset.iconColor=e.iconColor),t.setAttribute("aria-hidden","true"),s.appendChild(t)}const i=document.createElement("span");if(i.className="toast-message",i.textContent=t.message,s.appendChild(i),e.closeButton){const e=(document.documentElement.lang||"").toLowerCase().startsWith("fa"),n=document.createElement("button");n.type="button",n.className="toast-close",n.setAttribute("aria-label",e?"بستن پیام":"Close message"),n.innerHTML='<i class="fas fa-times" aria-hidden="true"></i>',n.addEventListener("click",()=>X(t),{once:!0}),s.appendChild(n)}const r=document.createElement("span");r.className="toast-progress",r.setAttribute("aria-hidden","true"),s.appendChild(r),n.replaceChildren(s)}function Y(t){M(t),function(t){const e=t.toast.querySelector(".toast-progress");if(e instanceof HTMLElement&&(e.hidden=t.settings.duration<=0,!(p||t.settings.duration<=0)&&"function"==typeof e.animate))try{t.progressAnimation=e.animate([{transform:"scaleX(1)"},{transform:"scaleX(0)"}],{duration:t.settings.duration,easing:"linear",fill:"forwards"})}catch{}}(t),t.settings.duration>0&&(t.timer=setTimeout(()=>{X(t)},t.settings.duration))}function q(t){const e=t.state||L(t.settings.position),n=k(e.position);n&&(t.state=e,t.mounted=!0,t.dismissing=!1,I(t),H(t),n.appendChild(t.toast),e.visible.push(t),T(e),function(t){if(!t||!(t.toast instanceof HTMLElement)||!C(t)||t.swipe&&"function"==typeof t.swipe.cleanup)return;const e=t.toast,n={pointerId:null,active:!1,startX:0,startY:0,startAt:0,lastX:0,lastY:0,lastAt:0,reboundTimer:null,cleanup:null};t.swipe=n;const o=o=>{if(!(t.dismissing||!1===o.isPrimary||o.button>0||o.target instanceof Element&&o.target.closest(".toast-close")||(n.pointerId=o.pointerId,n.active=!0,n.startX=o.clientX,n.startY=o.clientY,n.startAt=Date.now(),n.lastX=o.clientX,n.lastY=o.clientY,n.lastAt=n.startAt,x(t),e.classList.add("is-swiping"),e.classList.remove("swipe-rebound","swipe-dismiss"),M(t),"function"!=typeof e.setPointerCapture)))try{e.setPointerCapture(o.pointerId)}catch{}},s=t=>{if(!n.active||t.pointerId!==n.pointerId)return;const o=t.clientX-n.startX,s=t.clientY-n.startY;n.lastX=t.clientX,n.lastY=t.clientY,n.lastAt=Date.now(),Math.abs(s)>24*1.6||e.style.setProperty("--toast-swipe-x",`${o}px`)},i=o=>{if(!n.active||o.pointerId!==n.pointerId)return;n.active=!1;const s=n.lastX-n.startX,i=n.lastY-n.startY,r=Math.max(1,n.lastAt-n.startAt),a=Math.abs(s)/r,c=Math.abs(s),d=Math.abs(i);if(c>=56&&d<=24&&a>=.35){e.classList.remove("is-swiping","swipe-rebound"),e.classList.add("swipe-dismiss");const n=s>=0?1:-1,o=Math.round(72*window.innerWidth/100);return e.style.setProperty("--toast-swipe-x",n*o+"px"),p?void X(t):void setTimeout(()=>{X(t)},110)}e.classList.remove("is-swiping","swipe-dismiss"),e.classList.add("swipe-rebound"),e.style.setProperty("--toast-swipe-x","0px"),n.reboundTimer=setTimeout(()=>{e.classList.remove("swipe-rebound"),n.reboundTimer=null},p?1:220),Y(t)},r=o=>{n.active&&o.pointerId===n.pointerId&&(n.active=!1,e.classList.remove("is-swiping","swipe-dismiss"),e.classList.add("swipe-rebound"),e.style.setProperty("--toast-swipe-x","0px"),n.reboundTimer=setTimeout(()=>{e.classList.remove("swipe-rebound"),n.reboundTimer=null},p?1:220),Y(t))};e.addEventListener("pointerdown",o),e.addEventListener("pointermove",s),e.addEventListener("pointerup",i),e.addEventListener("pointercancel",r),e.addEventListener("lostpointercapture",r),n.cleanup=()=>{e.removeEventListener("pointerdown",o),e.removeEventListener("pointermove",s),e.removeEventListener("pointerup",i),e.removeEventListener("pointercancel",r),e.removeEventListener("lostpointercapture",r),x(t),t&&t.swipe&&(t.swipe.active=!1)}}(t),requestAnimationFrame(()=>{if(t.mounted&&(t.toast.classList.add("show"),Y(t),"function"==typeof window.__ruToastFeedback))try{window.__ruToastFeedback()}catch{}}))}function B(t){const e=L(t);for(k(t),S(e);e.visible.length<3&&e.queue.length>0;){const t=e.queue.shift();t&&(t.dismissing||q(t))}T(e)}function X(t){if(!t||t.dismissing)return;if(t.dismissing=!0,M(t),x(t),!(t.mounted&&t.toast instanceof HTMLElement)){return A((t.state||L(t.settings.position)).queue,t),t.settings.id&&v.get(t.settings.id)===t&&v.delete(t.settings.id),P(t),void(t.dismissing=!1)}const{toast:e}=t;e.classList.remove("show"),e.classList.add("is-closing");let n=!1;const o=()=>{if(n)return;n=!0;const o=t.state||L(t.settings.position);A(o.visible,t),A(o.queue,t),t.settings.id&&v.get(t.settings.id)===t&&v.delete(t.settings.id),P(t),e.remove(),t.mounted=!1,t.dismissing=!1,B(o.position),T(o)};e.addEventListener("transitionend",t=>{t.target===e&&o()},{once:!0}),setTimeout(o,f)}function O(t,e){if(!t&&0!==t)return null;if(!document.body)return console.warn("Cannot show toast: document.body not ready"),null;const n=E(e),o=String(t);if(S(b.top),S(b.bottom),n.id&&v.has(n.id)){const t=v.get(n.id);if(t.message=o,t.settings={...t.settings,...n,position:t.mounted?t.settings.position:n.position},t.mounted)return function(t){t.mounted&&t.toast&&(t.dismissing=!1,I(t),H(t),t.toast.classList.add("show"),t.toast.classList.remove("is-closing"),Y(t),T(t.state||L(t.settings.position)))}(t),t;const e=L(t.settings.position);return A(b.top.queue,t),A(b.bottom.queue,t),t.state=e,e.queue.push(t),B(e.position),t}const s={message:o,settings:n,state:L(n.position),toast:document.createElement("div"),timer:null,progressAnimation:null,dismissing:!1,mounted:!1,swipe:null};return n.id&&v.set(n.id,s),s.state.queue.push(s),B(s.state.position),s}function D(t,e){const n=O(t,e);return n?n.toast:null}function $(t,e){const o=!!t;if(document.documentElement.classList.toggle("online",o),document.documentElement.classList.toggle("offline",!o),document.documentElement.setAttribute("data-network-status",o?"online":"offline"),document.body&&(document.body.classList.toggle("online",o),document.body.classList.toggle("offline",!o)),function(t){const e={online:t,timestamp:Date.now()};try{window.dispatchEvent(new CustomEvent(n,{detail:e}))}catch(t){try{const t=document.createEvent("CustomEvent");t.initCustomEvent(n,!1,!1,e),window.dispatchEvent(t)}catch{}}}(o),!e||"function"!=typeof window.createToast)return;const i=Date.now();i-s<1200||(s=i,window.createToast(function(t){const e=window.langStrings||{},n=t?["backOnline","online","connectionRestored"]:["offline","connectionLost"];for(const t of n){const n=e[t];if("function"==typeof n){const t=n();if("string"==typeof t&&t.trim())return t}else if("string"==typeof n&&n.trim())return n}return t?"Connection restored.":"You are offline. Some features may be unavailable."}(o),{id:"network-status-toast",kind:o?"success":"info",duration:2600}))}function N(t){const e=function(t){if(!t)return null;try{const e=new URL(t,window.location.href);return e.origin!==window.location.origin?null:e}catch{return null}}(t);if(!e)return null;const n=new URL(e.toString()),o=n.pathname;return/\.min\.js$/i.test(o)?(n.pathname=o.replace(/\.min\.js$/i,".js"),n.toString()):/\.min\.css$/i.test(o)?(n.pathname=o.replace(/\.min\.css$/i,".css"),n.toString()):null}function F(t,e,n){const s=`${e}::${n}`;if(o.has(s))return!1;o.add(s),t.setAttribute("data-asset-failed","true"),document.documentElement.classList.add("asset-fallback-active");const i=Number(document.documentElement.dataset.assetFallbackCount||"0");return document.documentElement.dataset.assetFallbackCount=String(i+1),!0}function _(t,e){const n="dark"===t,o=!!e;document.body.classList.toggle("dark-mode",n),document.body.classList.toggle("light-mode",!n),document.documentElement.setAttribute("data-theme",t);const s=document.getElementById("theme-toggle");if(s&&(s.checked=n,s.setAttribute("aria-checked",String(n))),o&&"function"==typeof window.langStrings.themeChanged){const e=window.langStrings.themeChanged(t);e&&D(e,{id:"theme-toast",kind:"info",customClass:"theme-toast",duration:1800,position:"top"})}}if(window.createToast=D,$(!1!==navigator.onLine,!1),window.addEventListener("online",()=>$(!0,!0)),window.addEventListener("offline",()=>$(!1,!0)),window.addEventListener("error",t=>{const n=t.target;if(n&&n!==window){if("undefined"!=typeof HTMLScriptElement&&n instanceof HTMLScriptElement){const t=n.src||"",o=N(t);if(!o)return;if(!F(n,t,o))return;return void function(t,n){const o=document.createElement("script");o.src=n,o.defer=!!t.defer,o.async=!!t.async,t.type&&(o.type=t.type),t.crossOrigin&&(o.crossOrigin=t.crossOrigin),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.nonce&&(o.nonce=t.nonce),o.setAttribute("data-asset-fallback","true"),o.setAttribute("data-asset-fallback-from",t.src||""),o.addEventListener("error",()=>{document.documentElement.classList.add(e)},{once:!0}),t.insertAdjacentElement("afterend",o)}(n,o)}if("undefined"!=typeof HTMLLinkElement&&n instanceof HTMLLinkElement){const t=n.href||"",o=N(t);if(!o)return;if(!F(n,t,o))return;!function(t,n){if("stylesheet"!==(t.rel||"").toLowerCase())return;const o=document.createElement("link");o.rel="stylesheet",o.href=n,t.media&&(o.media=t.media),t.crossOrigin&&(o.crossOrigin=t.crossOrigin),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.nonce&&(o.nonce=t.nonce),o.setAttribute("data-asset-fallback","true"),o.setAttribute("data-asset-fallback-from",t.href||""),o.addEventListener("error",()=>{document.documentElement.classList.add(e)},{once:!0}),t.insertAdjacentElement("afterend",o)}(n,o)}}},!0),_("dark"===l||"light"===l?l:r?"dark":"light"),i){const t=function(t){u()||_(t.matches?"dark":"light")};"function"==typeof i.addEventListener?i.addEventListener("change",t):"function"==typeof i.addListener&&i.addListener(t)}function j(){const e=document.getElementById("theme-toggle");if(!e)return;if("true"===e.dataset.themeToggleInit)return;e.dataset.themeToggleInit="true";const n=document.documentElement.getAttribute("data-theme");"dark"!==n&&"light"!==n||(e.checked="dark"===n),e.setAttribute("aria-checked",String(!!e.checked)),e.setAttribute("role","switch"),e.addEventListener("change",()=>{const n=e.checked?"dark":"light";_(n,!0);try{t?.setItem(a,n)}catch(t){}}),e.addEventListener("keydown",n=>{if(" "===n.key||"Enter"===n.key){n.preventDefault(),e.checked=!e.checked;const o=e.checked?"dark":"light";_(o,!0);try{t?.setItem(a,o)}catch(t){}}})}j(),document.addEventListener("includesLoaded",j,!1);let R=!1,U=0,W=!1;window.addEventListener("scroll",()=>{U=window.scrollY||window.pageYOffset||0,W||(window.requestAnimationFrame(()=>{!function(){const t=window.innerHeight+U,e=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight)||0;if(t<e-100&&(R=!1),!R&&t>=e-50&&e>0)if(R=!0,"string"==typeof window.langStrings.endOfPage)D(window.langStrings.endOfPage,{id:"end-of-page-toast",kind:"info",customClass:"end-of-page-toast",duration:3200});else if("function"==typeof window.langStrings.endOfPage){const t=window.langStrings.endOfPage();t&&D(t,{id:"end-of-page-toast",kind:"info",customClass:"end-of-page-toast",duration:3200})}W=!1}(),function(){const t=document.getElementById("scroll-progress-bar");if(!t)return;const e=window.scrollY||document.documentElement.scrollTop||0,n=document.documentElement.scrollHeight-document.documentElement.clientHeight;if(n<=0)return t.style.width="0%",void t.setAttribute("aria-valuenow","0");const o=e/n*100,s=Math.max(0,Math.min(100,o));t.style.width=s+"%",t.setAttribute("aria-valuenow",Math.round(s))}()}),W=!0)},{passive:!0});const z=document.getElementById("current-year")||document.getElementById("footer-year");z&&(z.textContent=(new Date).getFullYear());const K=document.getElementById("back-to-top");function G(t,e="email"){const n=window.langStrings||{},o={success:"link"===e?["linkCopied","copySuccess"]:["copySuccess","emailCopied"],error:["copyError","emailCopyError"],unsupported:["copyUnsupported","clipboardUnsupported"]}[t]||[];for(const t of o){const e=n[t];if("function"==typeof e){const t=e();if("string"==typeof t&&t.trim())return t}else if("string"==typeof e&&e.trim())return e}const s=(document.documentElement.lang||"").toLowerCase().startsWith("fa"),i={success:s?"link"===e?"لینک کپی شد.":"ایمیل کپی شد.":"link"===e?"Link copied.":"Email copied.",error:s?"کپی با مشکل مواجه شد.":"Copy failed.",unsupported:s?"مرورگر شما از کپی خودکار پشتیبانی نمی‌کند.":"Your browser does not support automatic copy."};return i[t]||i.error}function J(t){const e=window.langStrings||{},n={success:["shareOk","shareSuccess"],error:["shareErr","shareError"]}[t]||[];for(const t of n){const n=e[t];if("function"==typeof n){const t=n();if("string"==typeof t&&t.trim())return t}else if("string"==typeof n&&n.trim())return n}const o=(document.documentElement.lang||"").toLowerCase().startsWith("fa"),s={success:o?"اشتراک‌گذاری موفق بود.":"Shared successfully.",error:o?"اشتراک‌گذاری با مشکل مواجه شد.":"Sharing failed."};return s[t]||s.error}async function Q(t,e={}){const n=!0===e.allowExecCommand;if(navigator.clipboard&&navigator.clipboard.writeText)try{return await navigator.clipboard.writeText(t),{ok:!0,mode:"clipboard"}}catch{}return n&&function(t){if(!document.body)return!1;const e=document.createElement("textarea");e.value=t,e.setAttribute("readonly",""),e.setAttribute("aria-hidden","true"),e.style.position="absolute",e.style.left="-9999px",e.style.top="0",document.body.appendChild(e),e.select();try{return!!document.execCommand("copy")}catch{return!1}finally{e.remove()}}(t)?{ok:!0,mode:"exec-command"}:{ok:!1,mode:navigator.clipboard&&navigator.clipboard.writeText?"clipboard-failed":"unsupported"}}function V(t,e){t&&"function"==typeof window.createToast&&window.createToast(t,e)}function Z(t){t instanceof HTMLButtonElement&&"true"!==t.dataset.toastCopyBound&&(t.dataset.toastCopyBound="true",t.addEventListener("click",async e=>{e.preventDefault(),e.stopPropagation();const n=t.getAttribute("data-copy");if(!n)return void console.warn("No data-copy attribute found on .copy-btn");const o=n.includes("@")?"email":"link",s=await Q(n,{allowExecCommand:!1});if(s.ok)return function(t){const e=t.innerHTML;t.innerHTML='<i class="fas fa-check" aria-hidden="true"></i>',t.classList.add("copied"),setTimeout(()=>{t.innerHTML=e,t.classList.remove("copied")},2e3)}(t),void V(G("success",o),{id:"copy-success-toast",kind:"success",duration:1800});const i="unsupported"===s.mode?"unsupported":"error";V(G(i),{id:"unsupported"===i?"copy-unsupported-toast":"copy-error-toast",kind:"unsupported"===i?"info":"error",duration:"unsupported"===i?3e3:2600})}))}K&&(window.addEventListener("scroll",()=>{window.scrollY>300?K.classList.add("show"):K.classList.remove("show")},{passive:!0}),K.addEventListener("click",()=>{window.scrollTo({top:0,behavior:p?"auto":"smooth"})})),document.querySelectorAll(".copy-btn").forEach(t=>{Z(t)}),document.querySelectorAll(".share-btn").forEach(t=>{!function(t){t instanceof HTMLButtonElement&&"true"!==t.dataset.toastShareBound&&(t.dataset.toastShareBound="true",t.addEventListener("click",async e=>{e.preventDefault(),e.stopPropagation();const n=t.getAttribute("data-share")||window.location.href;if(n){if("function"==typeof navigator.share)try{return await navigator.share({title:document.title,url:n}),void V(J("success"),{id:"share-success-toast",kind:"success",duration:1800})}catch(t){if(t&&"AbortError"===t.name)return}(await Q(n,{allowExecCommand:!0})).ok?V(G("success","link"),{id:"share-copy-toast",kind:"success",duration:2e3}):V(J("error"),{id:"share-error-toast",kind:"error",duration:2800})}}))}(t)}),document.addEventListener("click",function(t){const e=t.target;if(!(e instanceof Element))return;const n=e.closest(".btn, button, .cta-button, .hero-btn");if(n){const e=n.getBoundingClientRect(),o=t.clientX-e.left,s=t.clientY-e.top,i=document.createElement("span");i.className="ripple",i.style.left=`${o}px`,i.style.top=`${s}px`,n.appendChild(i),setTimeout(()=>{i.remove()},600)}}),window.triggerSuccess=function(t){t&&(t.classList.add("success-trigger"),setTimeout(()=>{t.classList.remove("success-trigger")},300))}}();
//# sourceMappingURL=main-script-base.min.js.map
