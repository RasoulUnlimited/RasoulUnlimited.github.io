(()=>{window.langStrings||(console.warn("No language strings loaded"),window.langStrings={});let n=document.getElementById("theme-toggle");var e=window.matchMedia("(prefers-color-scheme: dark)").matches,t=localStorage.getItem("theme");function a(e){let t=document.createElement("div");t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),t.className="dynamic-toast",t.textContent=e,document.body.appendChild(t),setTimeout(()=>t.remove(),3e3)}function d(e,t){document.body.classList.toggle("dark-mode","dark"===e),document.body.classList.toggle("light-mode","light"===e),n&&(n.checked="dark"===e,n.setAttribute("aria-checked","dark"===e)),t&&window.langStrings.themeChanged&&a(window.langStrings.themeChanged(e))}d(t||(e?"dark":"light")),n&&(n.setAttribute("aria-checked",n.checked),n.addEventListener("change",()=>{var e=n.checked?"dark":"light";d(e,!0),localStorage.setItem("theme",e)}));let o=!1,i,r=!1;function l(){!o&&window.innerHeight+i>=document.body.offsetHeight-50&&(o=!0,window.langStrings.endOfPage)&&a(window.langStrings.endOfPage),r=!1}window.addEventListener("scroll",()=>{i=window.scrollY,r||(window.requestAnimationFrame(l),r=!0)},{passive:!0}),(t=document.getElementById("current-year")||document.getElementById("footer-year"))&&(t.textContent=(new Date).getFullYear())})();