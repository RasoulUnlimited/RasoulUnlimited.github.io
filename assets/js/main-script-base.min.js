!function(){"use strict";window.langStrings||(console.warn("No language strings loaded"),window.langStrings={});const e=window.matchMedia("(prefers-color-scheme: dark)").matches,t=localStorage.getItem("theme");function n(e){const t=document.createElement("div");t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),t.className="dynamic-toast",t.textContent=e,document.body.appendChild(t),requestAnimationFrame(()=>t.classList.add("show")),setTimeout(()=>{t.classList.remove("show"),t.remove()},3e3)}function o(e,t){document.body.classList.toggle("dark-mode","dark"===e),document.body.classList.toggle("light-mode","light"===e);const o=document.getElementById("theme-toggle");o&&(o.checked="dark"===e,o.setAttribute("aria-checked","dark"===e)),t&&window.langStrings.themeChanged&&n(window.langStrings.themeChanged(e))}function d(){const e=document.getElementById("theme-toggle");e&&(e.setAttribute("aria-checked",e.checked),e.addEventListener("change",()=>{const t=e.checked?"dark":"light";o(t,!0),localStorage.setItem("theme",t)}))}t?o(t):(o(e?"dark":"light"),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{localStorage.getItem("theme")||o(e.matches?"dark":"light")})),d(),document.addEventListener("includesLoaded",d);let a=!1,i=0,s=!1;function c(){!a&&window.innerHeight+i>=document.body.offsetHeight-50&&(a=!0,window.langStrings.endOfPage&&n(window.langStrings.endOfPage)),s=!1}window.addEventListener("scroll",()=>{i=window.scrollY,s||(window.requestAnimationFrame(c),s=!0)},{passive:!0});const r=document.getElementById("current-year")||document.getElementById("footer-year");r&&(r.textContent=(new Date).getFullYear())}();