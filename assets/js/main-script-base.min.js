(()=>{window.langStrings||(console.warn("No language strings loaded"),window.langStrings={});let n=document.getElementById("theme-toggle");var e=window.matchMedia("(prefers-color-scheme: dark)").matches,t=localStorage.getItem("theme");function d(e){let t=document.createElement("div");t.className="dynamic-toast",t.textContent=e,document.body.appendChild(t),setTimeout(()=>t.remove(),3e3)}function o(e,t){document.body.classList.toggle("dark-mode","dark"===e),document.body.classList.toggle("light-mode","light"===e),n&&(n.checked="dark"===e),t&&window.langStrings.themeChanged&&d(window.langStrings.themeChanged(e))}o(t||(e?"dark":"light")),n&&n.addEventListener("change",()=>{var e=n.checked?"dark":"light";o(e,!0),localStorage.setItem("theme",e)});let a=!1;window.addEventListener("scroll",()=>{a||window.innerHeight+window.scrollY>=document.body.offsetHeight-50&&(a=!0,window.langStrings.endOfPage)&&d(window.langStrings.endOfPage)},{passive:!0}),document.getElementById("current-year").textContent=(new Date).getFullYear()})();