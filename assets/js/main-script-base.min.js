!function(){"use strict";window.langStrings||(window.langStrings={});const e=function(){const e="__theme_pref__";try{return localStorage.setItem(e,e),localStorage.removeItem(e),localStorage}catch(e){return null}}(),t=window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null,n=!(!t||!t.matches),o=e?.getItem("theme")||null;function c(e){if(!e)return;const t=document.createElement("div");t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),t.className="dynamic-toast",t.textContent=String(e);const n=document.querySelectorAll(".dynamic-toast");n.length>3&&n.forEach((e,t)=>{0===t&&e.remove()}),document.body.appendChild(t),requestAnimationFrame(()=>t.classList.add("show")),setTimeout(()=>{t.classList.remove("show"),setTimeout(()=>{t.parentNode&&t.remove()},300)},3e3)}function i(e,t){const n="dark"===e;document.body.classList.toggle("dark-mode",n),document.body.classList.toggle("light-mode",!n),document.documentElement.setAttribute("data-theme",e);const o=document.getElementById("theme-toggle");if(o&&(o.checked=n,o.setAttribute("aria-checked",String(n))),t&&"function"==typeof window.langStrings.themeChanged){const t=window.langStrings.themeChanged(e);t&&c(t)}}if("function"!=typeof window.createToast&&(window.createToast=c),i("dark"===o||"light"===o?o:n?"dark":"light"),t){const n=function(t){e?.getItem("theme")||i(t.matches?"dark":"light")};"function"==typeof t.addEventListener?t.addEventListener("change",n):"function"==typeof t.addListener&&t.addListener(n)}function d(){const t=document.getElementById("theme-toggle");t&&(t.setAttribute("aria-checked",String(!!t.checked)),t.setAttribute("role","switch"),t.addEventListener("change",()=>{const n=t.checked?"dark":"light";i(n,!0);try{e?.setItem("theme",n)}catch(e){}}),t.addEventListener("keydown",n=>{if(" "===n.key||"Enter"===n.key){n.preventDefault(),t.checked=!t.checked;const o=t.checked?"dark":"light";i(o,!0);try{e?.setItem("theme",o)}catch(e){}}}))}d(),document.addEventListener("includesLoaded",d,!1);let s=!1,a=0,r=!1;window.addEventListener("scroll",()=>{a=window.scrollY||window.pageYOffset||0,r||(window.requestAnimationFrame(()=>{!function(){const e=window.innerHeight+a,t=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight)||0;if(e<t-100&&(s=!1),!s&&e>=t-50&&t>0)if(s=!0,"string"==typeof window.langStrings.endOfPage)c(window.langStrings.endOfPage);else if("function"==typeof window.langStrings.endOfPage){const e=window.langStrings.endOfPage();e&&c(e)}r=!1}(),function(){const e=document.getElementById("scroll-progress-bar");if(!e)return;const t=(window.scrollY||document.documentElement.scrollTop)/(document.documentElement.scrollHeight-document.documentElement.clientHeight)*100;e.style.width=t+"%",e.setAttribute("aria-valuenow",Math.round(t))}()}),r=!0)},{passive:!0});const l=document.getElementById("current-year")||document.getElementById("footer-year");l&&(l.textContent=(new Date).getFullYear());const m=document.getElementById("back-to-top");m&&(window.addEventListener("scroll",()=>{window.scrollY>300?m.classList.add("show"):m.classList.remove("show")},{passive:!0}),m.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})})),document.querySelectorAll(".copy-btn").forEach(e=>{e.addEventListener("click",()=>{const t=e.getAttribute("data-copy");t&&navigator.clipboard.writeText(t).then(()=>{const t=e.innerHTML;e.innerHTML='<i class="fas fa-check" aria-hidden="true"></i>',e.classList.add("copied"),window.createToast&&window.createToast("ایمیل کپی شد!"),setTimeout(()=>{e.innerHTML=t,e.classList.remove("copied")},2e3)}).catch(e=>{})})})}();
//# sourceMappingURL=main-script-base.min.js.map
