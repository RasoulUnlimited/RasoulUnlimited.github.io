!function(){"use strict";document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("faq-search"),t=document.getElementById("clear-search"),a=Array.from(document.querySelectorAll(".faq-item"));if(!e||!t||!a.length)return;let n,o=document.getElementById("faq-search-status");function s(t){const n=void 0!==t?t:e.value,s=(n||"").trim().toLowerCase(),r=s.length>0;let d=0;a.forEach(e=>{const t=e.querySelector("summary")||e.querySelector(".accordion-header"),a=e.querySelector(".faq-answer, p, .faq-body, .accordion-content"),n=!e.tagName||"details"!==e.tagName.toLowerCase(),o=t?t.textContent.toLowerCase():"",i=a?a.textContent.toLowerCase():"",l=(e.dataset.keywords||"").toLowerCase();!r||o.includes(s)||i.includes(s)||l.includes(s)?(e.hidden=!1,e.style.display="",d++,r&&(n?e.classList.contains("is-open")||(e.classList.add("is-open"),t&&t.setAttribute("aria-expanded","true"),e.dataset.openedBySearch="true",a&&(a.hidden=!1)):e.open||(e.open=!0,e.dataset.openedBySearch="true")),!r&&e.dataset.openedBySearch&&(delete e.dataset.openedBySearch,n?(e.classList.remove("is-open"),t&&t.setAttribute("aria-expanded","false"),a&&(a.hidden=!0)):e.open=!1)):(e.hidden=!0,e.style.display="none",e.dataset.openedBySearch&&(delete e.dataset.openedBySearch,n?(e.classList.remove("is-open"),t&&t.setAttribute("aria-expanded","false"),a&&(a.hidden=!0)):e.open=!1))});const i=document.getElementById("faq-no-results");i&&(i.style.display=0===d&&r?"block":"none"),function(e,t){const n=a.length,s=e.trim();o.textContent=s?0===t?`No results found for “${s}”.`:`Found ${t} result${1===t?"":"s"} for “${s}”.`:`Showing all ${n} question${1===n?"":"s"}.`}(n,d)}o||(o=document.createElement("div"),o.id="faq-search-status",o.setAttribute("aria-live","polite"),o.setAttribute("aria-atomic","true"),o.className="faq-search-status sr-only",e.closest("form")?.appendChild(o)||e.parentNode.appendChild(o)),t.getAttribute("aria-label")||t.setAttribute("aria-label","Clear FAQ search"),e.addEventListener("input",function(){const a=e.value.trim().toLowerCase();t.style.display=a?"inline-flex":"none",clearTimeout(n),n=setTimeout(()=>s(a),200)}),e.addEventListener("keydown",a=>{"Escape"===a.key&&(a.preventDefault(),e.value="",t.style.display="none",clearTimeout(n),s(""))}),t.addEventListener("click",()=>{e.value="",t.style.display="none",clearTimeout(n),s(""),e.focus()}),t.style.display="none",s("");const r=document.getElementById("expand-all-faq"),d=document.getElementById("collapse-all-faq");r&&d&&(r.addEventListener("click",()=>{a.forEach(e=>{if(e.hidden||"none"===e.style.display)return;const t=!e.tagName||"details"!==e.tagName.toLowerCase(),a=e.querySelector("summary")||e.querySelector(".accordion-header"),n=e.querySelector(".faq-answer, p, .faq-body, .accordion-content");t?(e.classList.add("is-open"),a&&a.setAttribute("aria-expanded","true"),n&&(n.hidden=!1)):e.open=!0})}),d.addEventListener("click",()=>{a.forEach(e=>{if(e.hidden||"none"===e.style.display)return;const t=!e.tagName||"details"!==e.tagName.toLowerCase(),a=e.querySelector("summary")||e.querySelector(".accordion-header"),n=e.querySelector(".faq-answer, p, .faq-body, .accordion-content");t?(e.classList.remove("is-open"),a&&a.setAttribute("aria-expanded","false"),n&&(n.hidden=!0)):e.open=!1})})),window.addEventListener("beforeunload",()=>{clearTimeout(n)})})}();
//# sourceMappingURL=faq-search.min.js.map
