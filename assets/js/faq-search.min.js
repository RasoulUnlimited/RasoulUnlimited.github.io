document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("faq-search"),t=document.getElementById("clear-search"),n=document.querySelectorAll(".faq-item");if(!e||!t)return;let o;const a=t=>{const o=void 0!==t?t:e.value.trim().toLowerCase();n.forEach(e=>{const t=e.querySelector("summary"),n=t?t.textContent.toLowerCase():"",a=e.querySelector(".faq-answer"),s=a?a.textContent.toLowerCase():"",r=e.dataset.keywords?e.dataset.keywords.toLowerCase():"";n.includes(o)||s.includes(o)||r.includes(o)?(e.style.display="block",e.open||(e.open=!0,t&&t.setAttribute("aria-expanded","true"))):(e.style.display="none",e.open&&(e.open=!1,t&&t.setAttribute("aria-expanded","false")))})};e.addEventListener("input",()=>{const n=e.value.trim().toLowerCase();t.style.display=n?"block":"none",clearTimeout(o),o=setTimeout(()=>a(n),200)}),t.addEventListener("click",()=>{e.value="",t.style.display="none",clearTimeout(o),a("")})});