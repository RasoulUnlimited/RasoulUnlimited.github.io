!function(){"use strict";document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("faq-search"),t=document.getElementById("clear-search"),a=Array.from(document.querySelectorAll(".faq-item")),n=document.getElementById("expand-all-faq"),s=document.getElementById("collapse-all-faq");if(!e||!t||!a.length)return;let r,o=document.getElementById("faq-search-status");function i(e,t){if(!t)return void(e.innerHTML=e.textContent);const a=e.textContent,n=new RegExp(`(${t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");n.test(a)?e.innerHTML=a.replace(n,'<span class="highlight-term">$1</span>'):e.innerHTML=a}function d(n){const s=((void 0!==n?n:e.value)||"").trim().toLowerCase(),r=s.length>0;let d=0;a.forEach(e=>{const t=e.querySelector("summary")||e.querySelector(".accordion-header h3")||e.querySelector(".accordion-header"),a=e.querySelector(".faq-answer, p, .faq-body, .accordion-content"),n=!e.tagName||"details"!==e.tagName.toLowerCase(),o=t?t.textContent.toLowerCase():"",c=a?a.textContent.toLowerCase():"",l=(e.dataset.keywords||"").toLowerCase();if(!r||o.includes(s)||c.includes(s)||l.includes(s)){if(e.hidden=!1,e.style.display="",d++,t&&i(t,r?s:null),a&&i(a,r?s:null),r)if(n){if(!e.classList.contains("is-open")){e.classList.add("is-open");const t=e.querySelector(".accordion-header");t&&t.setAttribute("aria-expanded","true"),e.dataset.openedBySearch="true",a&&(a.hidden=!1)}}else e.open||(e.open=!0,e.dataset.openedBySearch="true");if(!r&&e.dataset.openedBySearch){if(n){e.classList.remove("is-open");const t=e.querySelector(".accordion-header");t&&t.setAttribute("aria-expanded","false"),a&&(a.hidden=!0)}else e.open=!1;delete e.dataset.openedBySearch}}else e.hidden=!0,e.style.display="none"});const c=document.getElementById("faq-no-results");c&&(c.style.display=0===d?"block":"none"),t.style.display=r?"block":"none",function(e,t){const n=a.length,s=e.trim();o.textContent=s?0===t?`No results found for “${s}”.`:`Found ${t} result${1===t?"":"s"} for “${s}”.`:`Showing all ${n} question${1===n?"":"s"}.`}(s,d)}o||(o=document.createElement("div"),o.id="faq-search-status",o.setAttribute("aria-live","polite"),o.setAttribute("aria-atomic","true"),o.className="faq-search-status sr-only",e.closest("form")?.appendChild(o)||e.parentNode.appendChild(o)),t.getAttribute("aria-label")||t.setAttribute("aria-label","Clear FAQ search"),e.addEventListener("input",function(){clearTimeout(r),r=setTimeout(()=>d(),300)}),t.addEventListener("click",function(){e.value="",d(),e.focus()}),n&&n.addEventListener("click",()=>{a.forEach(e=>{if(!e.hidden&&"none"!==e.style.display)if(e.tagName&&"details"===e.tagName.toLowerCase())e.open=!0;else{e.classList.add("is-open");const t=e.querySelector(".accordion-header"),a=e.querySelector(".accordion-content");t&&t.setAttribute("aria-expanded","true"),a&&(a.hidden=!1)}}),n.setAttribute("aria-pressed","true"),s&&s.setAttribute("aria-pressed","false")}),s&&s.addEventListener("click",()=>{a.forEach(e=>{if(!e.hidden&&"none"!==e.style.display)if(e.tagName&&"details"===e.tagName.toLowerCase())e.open=!1;else{e.classList.remove("is-open");const t=e.querySelector(".accordion-header"),a=e.querySelector(".accordion-content");t&&t.setAttribute("aria-expanded","false"),a&&(a.hidden=!0)}}),s.setAttribute("aria-pressed","true"),n&&n.setAttribute("aria-pressed","false")})})}();
//# sourceMappingURL=faq-search.min.js.map
