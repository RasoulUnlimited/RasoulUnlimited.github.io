document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("faq-search"),t=document.getElementById("clear-search"),a=document.querySelectorAll(".faq-item");if(!e||!t)return;let n;const o=t=>{const n=void 0!==t?t:e.value.trim().toLowerCase(),o=n.length>0;a.forEach(e=>{const t=e.querySelector("summary"),a=t?t.textContent.toLowerCase():"",d=e.querySelector(".faq-answer"),s=d?d.textContent.toLowerCase():"",r=e.dataset.keywords?e.dataset.keywords.toLowerCase():"";!o||a.includes(n)||s.includes(n)||r.includes(n)?(e.style.display="block",o&&!e.open&&(e.open=!0,t&&t.setAttribute("aria-expanded","true"),e.dataset.openedBySearch="true"),!o&&e.dataset.openedBySearch&&(delete e.dataset.openedBySearch,e.open&&(e.open=!1,t&&t.setAttribute("aria-expanded","false")))):(e.style.display="none",e.open&&e.dataset.openedBySearch&&(e.open=!1,t&&t.setAttribute("aria-expanded","false"),delete e.dataset.openedBySearch))})};e.addEventListener("input",()=>{const a=e.value.trim().toLowerCase();t.style.display=a?"block":"none",clearTimeout(n),n=setTimeout(()=>o(a),200)}),t.addEventListener("click",()=>{e.value="",t.style.display="none",clearTimeout(n),o("")})});