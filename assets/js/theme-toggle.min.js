document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("theme-toggle");if(!e)return;const t="theme",n="dark",r="light",i=document.documentElement,a=document.body;const c=function(){const e="__theme_toggle__";try{return localStorage.setItem(e,e),localStorage.removeItem(e),localStorage}catch{return null}}(),o="undefined"!=typeof window&&"matchMedia"in window?window.matchMedia("(prefers-color-scheme: dark)"):null;function s(){if(!c)return null;const e=c.getItem(t);return e===n||e===r?e:null}function d(){const e=i.getAttribute("data-theme");if(e===n||e===r)return e;const t=s();return t||(o&&o.matches?n:r)}const l=(u=e)instanceof HTMLInputElement&&("checkbox"===u.type||"radio"===u.type);var u;function h(o,{persist:s=!0}={}){if(o!==n&&o!==r)return;const d=o===n;i.setAttribute("data-theme",o),i.classList.toggle("dark-mode",d),i.classList.toggle("light-mode",!d),a&&(a.classList.toggle("dark-mode",d),a.classList.toggle("light-mode",!d)),i.classList.toggle("dark",d);try{i.style.colorScheme=d?"dark":"light"}catch{}!function(t){l?(e.checked=t,e.setAttribute("aria-checked",String(t))):e.setAttribute("aria-pressed",String(t))}(d),s&&function(e){if(c)try{c.setItem(t,e)}catch{}}(o),function(e,t){try{const n=new CustomEvent("themechange",{detail:{theme:e,isDark:t}});window.dispatchEvent(n)}catch{}}(o,d)}function f(){h(d()===n?r:n)}e.hasAttribute("role")||e.setAttribute("role",l?"switch":"button"),e.hasAttribute("tabindex")||e instanceof HTMLInputElement||e.setAttribute("tabindex","0"),e.hasAttribute("aria-label")||e.hasAttribute("aria-labelledby")||e.setAttribute("aria-label","Toggle dark mode"),l&&!e.hasAttribute("aria-checked")&&e.setAttribute("aria-checked","false");if(h(d(),{persist:!1}),l){const t=e;t.addEventListener("change",()=>{h(t.checked?n:r)}),t.addEventListener("keydown",e=>{if("Enter"===e.key){e.preventDefault(),t.checked=!t.checked;h(t.checked?n:r)}})}else e.addEventListener("click",e=>{e.preventDefault(),f()}),e.addEventListener("keydown",e=>{"Enter"!==e.key&&" "!==e.key&&"Spacebar"!==e.key||(e.preventDefault(),f())});function m(e){if(!!s())return;h(e.matches?n:r,{persist:!1})}o&&("function"==typeof o.addEventListener?o.addEventListener("change",m):"function"==typeof o.addListener&&o.addListener(m)),c&&"undefined"!=typeof window&&window.addEventListener("storage",e=>{if(e.key!==t)return;const i=e.newValue;i!==n&&i!==r||h(i,{persist:!1})})});
//# sourceMappingURL=theme-toggle.min.js.map
