document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("theme-toggle");if(!e)return;function t(){const e="__theme_toggle__";try{return localStorage.setItem(e,e),localStorage.removeItem(e),localStorage}catch(e){return null}}const c=t(),n=window.matchMedia("(prefers-color-scheme: dark)"),d=c?.getItem("theme");function o(){return"dark"===d||"light"===d?d:n.matches?"dark":"light"}function a(t){const c="dark"===t;document.body.classList.toggle("dark-mode",c),document.body.classList.toggle("light-mode",!c),e.checked=c,document.documentElement.setAttribute("data-theme",t)}a(o()),e.addEventListener("change",()=>{const t=e.checked?"dark":"light";a(t);try{c?.setItem("theme",t)}catch(e){}}),n.addEventListener("change",e=>{!!c?.getItem("theme")||a(e.matches?"dark":"light")}),e.addEventListener("keydown",t=>{if("Enter"===t.key||" "===t.key){t.preventDefault(),e.checked=!e.checked;const n=e.checked?"dark":"light";a(n);try{c?.setItem("theme",n)}catch(e){}}})});