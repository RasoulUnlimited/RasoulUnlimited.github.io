document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("theme-toggle");if(!e)return;const t="theme",n="dark",c="light";const o=function(){const e="__theme_toggle__";try{return localStorage.setItem(e,e),localStorage.removeItem(e),localStorage}catch(e){return null}}(),d=window.matchMedia("(prefers-color-scheme: dark)");function r(){if(!o)return null;const e=o.getItem(t);return e===n||e===c?e:null}function a(){return d.matches?n:c}function i(c,{persist:d=!0}={}){const r=c===n;if(document.documentElement.setAttribute("data-theme",c),document.documentElement.classList.toggle("dark-mode",r),document.documentElement.classList.toggle("light-mode",!r),document.body.classList.toggle("dark-mode",r),document.body.classList.toggle("light-mode",!r),document.documentElement.classList.toggle("dark",r),"checked"in e?e.checked=r:e.setAttribute("aria-pressed",String(r)),d&&o)try{o.setItem(t,c)}catch{}}if(!e.hasAttribute("role")){const t="INPUT"===e.tagName&&("checkbox"===e.type||"radio"===e.type);e.setAttribute("role",t?"switch":"button")}e.hasAttribute("aria-label")||e.hasAttribute("aria-labelledby")||e.setAttribute("aria-label","Toggle dark mode");function s(){i(function(){const e=document.documentElement.getAttribute("data-theme");if(e===n||e===c)return e;return r()||a()}()===n?c:n)}i(r()??a(),{persist:!1}),e.addEventListener("change",()=>{if("checked"in e){i(e.checked?n:c)}else s()}),e.addEventListener("click",t=>{"checked"in e||(t.preventDefault(),s())}),e.addEventListener("keydown",t=>{"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),"checked"in e&&(e.checked=!e.checked),s())});const l=e=>{!!r()||i(e.matches?n:c,{persist:!1})};"function"==typeof d.addEventListener?d.addEventListener("change",l):"function"==typeof d.addListener&&d.addListener(l)});
//# sourceMappingURL=theme-toggle.min.js.map
