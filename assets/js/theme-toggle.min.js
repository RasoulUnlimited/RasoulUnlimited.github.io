document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("theme-toggle");if(!e)return;const t="app:theme",n="dark",r="light",a=document.documentElement,i=document.body;function o(e){return e===n||e===r}const s=function(){if("undefined"==typeof window||!("localStorage"in window))return null;const e="__theme_toggle__";try{return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),window.localStorage}catch{return null}}(),c="undefined"!=typeof window&&"matchMedia"in window?window.matchMedia("(prefers-color-scheme: dark)"):null;function d(){if(!s)return null;const e=s.getItem(t);return o(e)?e:null}function u(){const e=a.getAttribute("data-theme");if(o(e))return e;const t=d();return t||(c&&c.matches?n:r)}const l=(h=e)instanceof HTMLInputElement&&("checkbox"===h.type||"radio"===h.type);var h;function f(e,t){try{const n=function(e,t){const n={theme:e,isDark:t};try{return new CustomEvent("themechange",{detail:n,bubbles:!0,cancelable:!1})}catch{const e=document.createEvent("CustomEvent");return e.initCustomEvent("themechange",!0,!1,n),e}}(e,t);window.dispatchEvent(n)}catch{}}function g(r,{persist:c=!0}={}){if(!o(r))return;const d=r===n;a.setAttribute("data-theme",r),a.classList.toggle("dark-mode",d),a.classList.toggle("light-mode",!d),i&&(i.classList.toggle("dark-mode",d),i.classList.toggle("light-mode",!d)),a.classList.toggle("dark",d),a.setAttribute("data-color-scheme",d?"dark":"light"),function(t){l?(e.checked=t,e.setAttribute("aria-checked",String(t))):e.setAttribute("aria-pressed",String(t))}(d),c&&function(e){if(s&&o(e))try{s.setItem(t,e)}catch{}}(r),f(r,d)}function m(){g(u()===n?r:n)}e.hasAttribute("role")||e.setAttribute("role",l?"switch":"button"),e.hasAttribute("tabindex")||e instanceof HTMLInputElement||e.setAttribute("tabindex","0"),e.hasAttribute("aria-label")||e.hasAttribute("aria-labelledby")||e.setAttribute("aria-label","Toggle dark mode"),l&&!e.hasAttribute("aria-checked")?e.setAttribute("aria-checked","false"):l||e.hasAttribute("aria-pressed")||e.setAttribute("aria-pressed","false");if(g(u(),{persist:!1}),l){const t=e;t.addEventListener("change",()=>{g(t.checked?n:r)}),t.addEventListener("keydown",e=>{if("Enter"===e.key){e.preventDefault(),t.checked=!t.checked;g(t.checked?n:r)}})}else e.addEventListener("click",e=>{e.preventDefault(),m()}),e.addEventListener("keydown",e=>{"Enter"!==e.key&&" "!==e.key&&"Spacebar"!==e.key||(e.preventDefault(),m())});function w(e){if(!!d())return;g(e.matches?n:r,{persist:!1})}c&&("function"==typeof c.addEventListener?c.addEventListener("change",w):"function"==typeof c.addListener&&c.addListener(w)),s&&"undefined"!=typeof window&&window.addEventListener("storage",e=>{if(e.key!==t)return;if(e.storageArea&&e.storageArea!==window.localStorage)return;const n=e.newValue;null!==n&&o(n)&&g(n,{persist:!1})}),"undefined"!=typeof window&&(window.__themeToggle={getCurrentTheme:u,applyTheme:g,toggleTheme:m,isDark:()=>u()===n,constants:{DARK:n,LIGHT:r,THEME_KEY:t}})});
//# sourceMappingURL=theme-toggle.min.js.map
