document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("theme-toggle");if(!e)return;const t="theme",n="dark",r="light",a=document.documentElement,i=document.body;const c=function(){const e="__theme_toggle__";try{return localStorage.setItem(e,e),localStorage.removeItem(e),localStorage}catch{return null}}(),o="undefined"!=typeof window&&"matchMedia"in window?window.matchMedia("(prefers-color-scheme: dark)"):null;function s(){if(!c)return null;const e=c.getItem(t);return e===n||e===r?e:null}function d(){const e=a.getAttribute("data-theme");if(e===n||e===r)return e;const t=s();return t||(o&&o.matches?n:r)}const u=(l=e)instanceof HTMLInputElement&&("checkbox"===l.type||"radio"===l.type);var l;function h(e,t){try{const n=function(e,t){try{return new CustomEvent("themechange",{detail:{theme:e,isDark:t}})}catch{const n=document.createEvent("CustomEvent");return n.initCustomEvent("themechange",!1,!1,{theme:e,isDark:t}),n}}(e,t);window.dispatchEvent(n)}catch{}}function m(o,{persist:s=!0}={}){if(o!==n&&o!==r)return;const d=o===n;a.setAttribute("data-theme",o),a.classList.toggle("dark-mode",d),a.classList.toggle("light-mode",!d),i&&(i.classList.toggle("dark-mode",d),i.classList.toggle("light-mode",!d)),a.classList.toggle("dark",d);try{a.style.colorScheme=d?"dark":"light"}catch{}!function(t){u?(e.checked=t,e.setAttribute("aria-checked",String(t))):e.setAttribute("aria-pressed",String(t))}(d),s&&function(e){if(c)try{c.setItem(t,e)}catch{}}(o),h(o,d)}function g(){m(d()===n?r:n)}e.hasAttribute("role")||e.setAttribute("role",u?"switch":"button"),e.hasAttribute("tabindex")||e instanceof HTMLInputElement||e.setAttribute("tabindex","0"),e.hasAttribute("aria-label")||e.hasAttribute("aria-labelledby")||e.setAttribute("aria-label","Toggle dark mode"),u&&!e.hasAttribute("aria-checked")&&e.setAttribute("aria-checked","false");if(m(d(),{persist:!1}),u){const t=e;t.addEventListener("change",()=>{m(t.checked?n:r)}),t.addEventListener("keydown",e=>{if("Enter"===e.key){e.preventDefault(),t.checked=!t.checked;m(t.checked?n:r)}})}else e.addEventListener("click",e=>{e.preventDefault(),g()}),e.addEventListener("keydown",e=>{"Enter"!==e.key&&" "!==e.key&&"Spacebar"!==e.key||(e.preventDefault(),g())});function f(e){if(!!s())return;m(e.matches?n:r,{persist:!1})}o&&("function"==typeof o.addEventListener?o.addEventListener("change",f):"function"==typeof o.addListener&&o.addListener(f)),c&&"undefined"!=typeof window&&window.addEventListener("storage",e=>{if(e.key!==t)return;if(e.storageArea&&e.storageArea!==localStorage)return;const a=e.newValue;a!==n&&a!==r||m(a,{persist:!1})})});
//# sourceMappingURL=theme-toggle.min.js.map
