document.addEventListener("DOMContentLoaded",function(){let o=document.documentElement.lang||"en",a={success:o.startsWith("fa")?"کپی شد! ✅":"Copied! ✅",fail:o.startsWith("fa")?"عملیات کپی ناموفق بود.":"Failed to copy.",unsupported:o.startsWith("fa")?"مرورگر از کپی پشتیبانی نمی‌کند.":"Your browser does not support copying."};function e(t){var t=t.currentTarget;let e=t.dataset.copyText||"";(e=!e&&(t=t.dataset.copyTarget,t=document.getElementById(t))?t.textContent.trim():e)&&(navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(e).then(()=>{"function"==typeof createToast&&createToast(a.success)}).catch(t=>{console.error("Copy failed:",t),"function"==typeof createToast&&createToast(a.fail)}):"function"==typeof createToast&&createToast(a.unsupported))}document.querySelectorAll(".copy-button").forEach(t=>{t.addEventListener("click",e)});let n=document.getElementById("policy-expiration");n&&fetch("/.well-known/security.txt").then(t=>t.text()).then(t=>{var e,a,t=t.match(/^Expires:\s*(.+)$/m);t?(t=new Date(t[1].trim()),a=o.startsWith("fa")?"fa-IR":"en-US",e={year:"numeric",month:"long",day:"numeric"},a=o.startsWith("fa")?"اعتبار سیاست تا "+t.toLocaleDateString(a,e):"Policy valid until "+t.toLocaleDateString(a,e),n.textContent=a,t<=new Date&&n.classList.add("expired")):n.textContent=o.startsWith("fa")?"تاریخ اعتبار در دسترس نیست.":"Expiration date unavailable."}).catch(()=>{n.textContent=o.startsWith("fa")?"خطا در دریافت تاریخ اعتبار.":"Failed to load expiration date."})});