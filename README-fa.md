# راهنمای سریع

این مخزن شامل کدهای وب‌سایت [Rasoul Unlimited](https://rasoulunlimited.ir) است. سایت بر بستر **GitHub Pages** میزبانی می‌شود و با **Cloudflare** یکپارچه شده تا سرعت و امنیت بهتری فراهم کند.

## پیش‌نیازها
- Node.js نسخه‌ی ۱۸ یا بالاتر
- npm نسخه‌ی ۹ یا بالاتر
- Gulp 5 (در صورت نیاز `npm install -g gulp-cli`)

## شروع سریع
1. مخزن را کلون کنید.
2. با `npm install` وابستگی‌ها را نصب کنید.
3. با `npm run build` فایل‌های بهینه را بسازید.
4. برای مشاهده‌ی محلی از `npx serve -l 8080 .` یا هر سرویس‌دهنده‌ی استاتیک دیگر استفاده کنید.

## توسعه‌ی محلی
پس از ساخت فایل‌ها، می‌توانید سایت را با آدرس `http://localhost:8080` در مرورگر ببینید.

## کنترل کیفیت کد

این پروژه از **ESLint** و **HTMLHint** برای بررسی کیفیت کد استفاده می‌کند:

```bash
# بررسی کیفیت کد
npm run lint

# اصلاح خودکار مسائل کد
npm run lint:fix

# بررسی امنیت وابستگی‌ها
npm run audit
```

فایل‌های پیکربندی:
- `.eslintrc.json` — قوانین ESLint
- `.htmlhintrc.json` — قوانین HTMLHint
- `.editorconfig` — تنظیمات یکنواخت ویرایشگر
- `.prettierrc.json` — تنظیمات فرمت‌کردن کد

## یادداشت‌های استقرار
سایت روی **GitHub Pages** و از طریق **Cloudflare** ارائه می‌شود. برای دامنه‌ی جدید:
1. فایل `CNAME` را به‌روز کنید.
2. رکوردهای DNS را در Cloudflare به سمت GitHub Pages تنظیم کنید.
3. مسیر Worker و هدرهای امنیتی را مطابق دامنه‌ی جدید تغییر دهید.
4. تغییرات را به GitHub ارسال کنید تا Cloudflare نسخه‌ی جدید را کش کند.

هنگام تغییر دامنه یا منابع، خط‌مشی `Content-Security-Policy` را بازبینی کنید.

## Service Worker

یک **Service Worker** سفارشی (`sw.js`) پشتیبانی آفلاین و کش‌کردن هوشمند فراهم می‌کند:

- **سند‌های HTML** از سیاست network-first استفاده می‌کنند (محتوای تازه با پشتیبان کش)
- **دارایی‌های ایستا** (CSS، JS، تصاویر) از کش-first استفاده می‌کنند (بارگذاری سریع‌تر)
- **پاک‌کردن خودکار** نسخه‌های قدیم کش هنگام استقرار
- **صفحه‌ی پشتیبان** برای محتوای نادسترس

## راهنمای مشارکت
برای تاریخچه‌ی شفاف، پیام هر کامیت را کوتاه و توصیفی بنویسید.
- خلاصه‌ی یک‌خطی با لحن امری (مثلاً «افزودن فرم تماس»)
- از عناوین مبهم مثل «به‌روزرسانی» پرهیز کنید
- در صورت نیاز جزئیات بیشتر را در بدنه‌ی پیام توضیح دهید.
